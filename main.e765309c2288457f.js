(self.webpackChunkhrBot=self.webpackChunkhrBot||[]).push([[179],{278:(Ui,Wn,dt)=>{"use strict";function ne(n){return"function"==typeof n}function sn(n){const e=n(r=>{Error.call(r),r.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const wt=sn(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((r,o)=>`${o+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function it(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class Pe{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const i of e)i.remove(this);else e.remove(this);const{initialTeardown:r}=this;if(ne(r))try{r()}catch(i){t=i instanceof wt?i.errors:[i]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const i of o)try{M(i)}catch(s){t=t??[],s instanceof wt?t=[...t,...s.errors]:t.push(s)}}if(t)throw new wt(t)}}add(t){var e;if(t&&t!==this)if(this.closed)M(t);else{if(t instanceof Pe){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&it(e,t)}remove(t){const{_finalizers:e}=this;e&&it(e,t),t instanceof Pe&&t._removeParent(this)}}Pe.EMPTY=(()=>{const n=new Pe;return n.closed=!0,n})();const Le=Pe.EMPTY;function st(n){return n instanceof Pe||n&&"closed"in n&&ne(n.remove)&&ne(n.add)&&ne(n.unsubscribe)}function M(n){ne(n)?n():n.unsubscribe()}const Rt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},at={setTimeout(n,t,...e){const{delegate:r}=at;return r?.setTimeout?r.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=at;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function kt(n){at.setTimeout(()=>{const{onUnhandledError:t}=Rt;if(!t)throw n;t(n)})}function an(){}const he=pt("C",void 0,void 0);function pt(n,t,e){return{kind:n,value:t,error:e}}let Et=null;function Ze(n){if(Rt.useDeprecatedSynchronousErrorHandling){const t=!Et;if(t&&(Et={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:r}=Et;if(Et=null,e)throw r}}else n()}class ar extends Pe{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,st(t)&&t.add(this)):this.destination=Pd}static create(t,e,r){return new xo(t,e,r)}next(t){this.isStopped?Ys(function Qe(n){return pt("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Ys(function Ae(n){return pt("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Ys(he,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const un=Function.prototype.bind;function br(n,t){return un.call(n,t)}class zc{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(r){Hi(r)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(r){Hi(r)}else Hi(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){Hi(e)}}}class xo extends ar{constructor(t,e,r){let o;if(super(),ne(t)||!t)o={next:t??void 0,error:e??void 0,complete:r??void 0};else{let i;this&&Rt.useDeprecatedNextContext?(i=Object.create(t),i.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&br(t.next,i),error:t.error&&br(t.error,i),complete:t.complete&&br(t.complete,i)}):o=t}this.destination=new zc(o)}}function Hi(n){Rt.useDeprecatedSynchronousErrorHandling?function cn(n){Rt.useDeprecatedSynchronousErrorHandling&&Et&&(Et.errorThrown=!0,Et.error=n)}(n):kt(n)}function Ys(n,t){const{onStoppedNotification:e}=Rt;e&&at.setTimeout(()=>e(n,t))}const Pd={closed:!0,next:an,error:function Nd(n){throw n},complete:an},Js="function"==typeof Symbol&&Symbol.observable||"@@observable";function uo(n){return n}function Xs(n){return 0===n.length?uo:1===n.length?n[0]:function(e){return n.reduce((r,o)=>o(r),e)}}let gt=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const r=new n;return r.source=this,r.operator=e,r}subscribe(e,r,o){const i=function xd(n){return n&&n instanceof ar||function Od(n){return n&&ne(n.next)&&ne(n.error)&&ne(n.complete)}(n)&&st(n)}(e)?e:new xo(e,r,o);return Ze(()=>{const{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return new(r=Kc(r))((o,i)=>{const s=new xo({next:a=>{try{e(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(e){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(e)}[Js](){return this}pipe(...e){return Xs(e)(this)}toPromise(e){return new(e=Kc(e))((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return n.create=t=>new n(t),n})();function Kc(n){var t;return null!==(t=n??Rt.Promise)&&void 0!==t?t:Promise}const Fd=sn(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Ue=(()=>{class n extends gt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const r=new Kt(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new Fd}next(e){Ze(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(e)}})}error(e){Ze(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){Ze(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:r,isStopped:o,observers:i}=this;return r||o?Le:(this.currentObservers=null,i.push(e),new Pe(()=>{this.currentObservers=null,it(i,e)}))}_checkFinalizedStatuses(e){const{hasError:r,thrownError:o,isStopped:i}=this;r?e.error(o):i&&e.complete()}asObservable(){const e=new gt;return e.source=this,e}}return n.create=(t,e)=>new Kt(t,e),n})();class Kt extends Ue{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===r||r.call(e,t)}error(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===r||r.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,r;return null!==(r=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==r?r:Le}}function Zs(n){return ne(n?.lift)}function bt(n){return t=>{if(Zs(t))return t.lift(function(e){try{return n(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function mt(n,t,e,r,o){return new Ld(n,t,e,r,o)}class Ld extends ar{constructor(t,e,r,o,i,s){super(t),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(c){t.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function we(n,t){return bt((e,r)=>{let o=0;e.subscribe(mt(r,i=>{r.next(n.call(t,i,o++))}))})}function y(n,t,e,r){return new(e||(e=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):function o(i){return i instanceof e?i:new e(function(s){s(i)})}(l.value).then(a,c)}u((r=r.apply(n,t||[])).next())})}function cr(n){return this instanceof cr?(this.v=n,this):new cr(n)}function Jc(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=e.apply(n,t||[]),i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(h){r[h]&&(o[h]=function(g){return new Promise(function(m,E){i.push([h,g,m,E])>1||a(h,g)})})}function a(h,g){try{!function c(h){h.value instanceof cr?Promise.resolve(h.value.v).then(u,l):d(i[0][2],h)}(r[h](g))}catch(m){d(i[0][3],m)}}function u(h){a("next",h)}function l(h){a("throw",h)}function d(h,g){h(g),i.shift(),i.length&&a(i[0][0],i[0][1])}}function oI(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n=function ke(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(i){e[i]=n[i]&&function(s){return new Promise(function(a,c){!function o(i,s,a,c){Promise.resolve(c).then(function(u){i({value:u,done:a})},s)}(a,c,(s=n[i](s)).done,s.value)})}}}const Dm=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Mm(n){return ne(n?.then)}function Rm(n){return ne(n[Js])}function km(n){return Symbol.asyncIterator&&ne(n?.[Symbol.asyncIterator])}function Nm(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Pm=function sI(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Om(n){return ne(n?.[Pm])}function xm(n){return Jc(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:r,done:o}=yield cr(e.read());if(o)return yield cr(void 0);yield yield cr(r)}}finally{e.releaseLock()}})}function Fm(n){return ne(n?.getReader)}function ur(n){if(n instanceof gt)return n;if(null!=n){if(Rm(n))return function aI(n){return new gt(t=>{const e=n[Js]();if(ne(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Dm(n))return function cI(n){return new gt(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(Mm(n))return function uI(n){return new gt(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,kt)})}(n);if(km(n))return Lm(n);if(Om(n))return function lI(n){return new gt(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(Fm(n))return function dI(n){return Lm(xm(n))}(n)}throw Nm(n)}function Lm(n){return new gt(t=>{(function hI(n,t){var e,r,o,i;return y(this,void 0,void 0,function*(){try{for(e=oI(n);!(r=yield e.next()).done;)if(t.next(r.value),t.closed)return}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=e.return)&&(yield i.call(e))}finally{if(o)throw o.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function lo(n,t,e,r=0,o=!1){const i=t.schedule(function(){e(),o?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(i),!o)return i}function Yt(n,t,e=1/0){return ne(t)?Yt((r,o)=>we((i,s)=>t(r,i,o,s))(ur(n(r,o))),e):("number"==typeof t&&(e=t),bt((r,o)=>function fI(n,t,e,r,o,i,s,a){const c=[];let u=0,l=0,d=!1;const h=()=>{d&&!c.length&&!u&&t.complete()},g=E=>u<r?m(E):c.push(E),m=E=>{i&&t.next(E),u++;let S=!1;ur(e(E,l++)).subscribe(mt(t,T=>{o?.(T),i?g(T):t.next(T)},()=>{S=!0},void 0,()=>{if(S)try{for(u--;c.length&&u<r;){const T=c.shift();s?lo(t,s,()=>m(T)):m(T)}h()}catch(T){t.error(T)}}))};return n.subscribe(mt(t,g,()=>{d=!0,h()})),()=>{a?.()}}(r,o,n,e)))}function Vi(n=1/0){return Yt(uo,n)}const qr=new gt(n=>n.complete());function Vd(n){return n[n.length-1]}function Um(n){return ne(Vd(n))?n.pop():void 0}function ta(n){return function gI(n){return n&&ne(n.schedule)}(Vd(n))?n.pop():void 0}function Hm(n,t=0){return bt((e,r)=>{e.subscribe(mt(r,o=>lo(r,n,()=>r.next(o),t),()=>lo(r,n,()=>r.complete(),t),o=>lo(r,n,()=>r.error(o),t)))})}function Vm(n,t=0){return bt((e,r)=>{r.add(n.schedule(()=>e.subscribe(r),t))})}function Bm(n,t){if(!n)throw new Error("Iterable cannot be null");return new gt(e=>{lo(e,t,()=>{const r=n[Symbol.asyncIterator]();lo(e,t,()=>{r.next().then(o=>{o.done?e.complete():e.next(o.value)})},0,!0)})})}function He(n,t){return t?function EI(n,t){if(null!=n){if(Rm(n))return function vI(n,t){return ur(n).pipe(Vm(t),Hm(t))}(n,t);if(Dm(n))return function _I(n,t){return new gt(e=>{let r=0;return t.schedule(function(){r===n.length?e.complete():(e.next(n[r++]),e.closed||this.schedule())})})}(n,t);if(Mm(n))return function yI(n,t){return ur(n).pipe(Vm(t),Hm(t))}(n,t);if(km(n))return Bm(n,t);if(Om(n))return function CI(n,t){return new gt(e=>{let r;return lo(e,t,()=>{r=n[Pm](),lo(e,t,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){return void e.error(s)}i?e.complete():e.next(o)},0,!0)}),()=>ne(r?.return)&&r.return()})}(n,t);if(Fm(n))return function wI(n,t){return Bm(xm(n),t)}(n,t)}throw Nm(n)}(n,t):ur(n)}function Bd(n,t,...e){if(!0===t)return void n();if(!1===t)return;const r=new xo({next:()=>{r.unsubscribe(),n()}});return t(...e).subscribe(r)}function Ye(n){for(let t in n)if(n[t]===Ye)return t;throw Error("Could not find renamed property on target object.")}function jd(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Je(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Je).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function qd(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const SI=Ye({__forward_ref__:Ye});function et(n){return n.__forward_ref__=et,n.toString=function(){return Je(this())},n}function le(n){return Gd(n)?n():n}function Gd(n){return"function"==typeof n&&n.hasOwnProperty(SI)&&n.__forward_ref__===et}class G extends Error{constructor(t,e){super(function Xc(n,t){return`NG0${Math.abs(n)}${t?": "+t.trim():""}`}(t,e)),this.code=t}}function ye(n){return"string"==typeof n?n:null==n?"":String(n)}function Zc(n,t){throw new G(-201,!1)}function Qn(n,t){null==n&&function qe(n,t,e,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${e} ${r} ${t} <=Actual]`))}(t,n,null,"!=")}function Z(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function En(n){return{providers:n.providers||[],imports:n.imports||[]}}function eu(n){return jm(n,tu)||jm(n,Gm)}function jm(n,t){return n.hasOwnProperty(t)?n[t]:null}function qm(n){return n&&(n.hasOwnProperty($d)||n.hasOwnProperty(OI))?n[$d]:null}const tu=Ye({\u0275prov:Ye}),$d=Ye({\u0275inj:Ye}),Gm=Ye({ngInjectableDef:Ye}),OI=Ye({ngInjectorDef:Ye});var ae=(()=>((ae=ae||{})[ae.Default=0]="Default",ae[ae.Host=1]="Host",ae[ae.Self=2]="Self",ae[ae.SkipSelf=4]="SkipSelf",ae[ae.Optional=8]="Optional",ae))();let zd;function lr(n){const t=zd;return zd=n,t}function $m(n,t,e){const r=eu(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:e&ae.Optional?null:void 0!==t?t:void Zc(Je(n))}function Fo(n){return{toString:n}.toString()}var Sr=(()=>((Sr=Sr||{})[Sr.OnPush=0]="OnPush",Sr[Sr.Default=1]="Default",Sr))(),Gr=(()=>{return(n=Gr||(Gr={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Gr;var n})();const tt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Bi={},Be=[],nu=Ye({\u0275cmp:Ye}),Wd=Ye({\u0275dir:Ye}),Kd=Ye({\u0275pipe:Ye}),zm=Ye({\u0275mod:Ye}),fo=Ye({\u0275fac:Ye}),na=Ye({__NG_ELEMENT_ID__:Ye});let FI=0;function Ir(n){return Fo(()=>{const e=!0===n.standalone,r={},o={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Sr.OnPush,directiveDefs:null,pipeDefs:null,standalone:e,dependencies:e&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Be,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Gr.Emulated,id:"c"+FI++,styles:n.styles||Be,_:null,setInput:null,schemas:n.schemas||null,tView:null},i=n.dependencies,s=n.features;return o.inputs=Qm(n.inputs,r),o.outputs=Qm(n.outputs),s&&s.forEach(a=>a(o)),o.directiveDefs=i?()=>("function"==typeof i?i():i).map(Wm).filter(Km):null,o.pipeDefs=i?()=>("function"==typeof i?i():i).map(Tn).filter(Km):null,o})}function Wm(n){return ze(n)||bn(n)}function Km(n){return null!==n}function xn(n){return Fo(()=>({type:n.type,bootstrap:n.bootstrap||Be,declarations:n.declarations||Be,imports:n.imports||Be,exports:n.exports||Be,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Qm(n,t){if(null==n)return Bi;const e={};for(const r in n)if(n.hasOwnProperty(r)){let o=n[r],i=o;Array.isArray(o)&&(i=o[1],o=o[0]),e[o]=r,t&&(t[o]=i)}return e}const de=Ir;function ze(n){return n[nu]||null}function bn(n){return n[Wd]||null}function Tn(n){return n[Kd]||null}function Yn(n,t){const e=n[zm]||null;if(!e&&!0===t)throw new Error(`Type ${Je(n)} does not have '\u0275mod' property.`);return e}function Ln(n){return Array.isArray(n)&&"object"==typeof n[1]}function Dr(n){return Array.isArray(n)&&!0===n[1]}function Jd(n){return 0!=(8&n.flags)}function su(n){return 2==(2&n.flags)}function au(n){return 1==(1&n.flags)}function Mr(n){return null!==n.template}function jI(n){return 0!=(256&n[2])}function ai(n,t){return n.hasOwnProperty(fo)?n[fo]:null}class $I{constructor(t,e,r){this.previousValue=t,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}}function hr(){return Xm}function Xm(n){return n.type.prototype.ngOnChanges&&(n.setInput=WI),zI}function zI(){const n=ev(this),t=n?.current;if(t){const e=n.previous;if(e===Bi)n.previous=t;else for(let r in t)e[r]=t[r];n.current=null,this.ngOnChanges(t)}}function WI(n,t,e,r){const o=ev(n)||function KI(n,t){return n[Zm]=t}(n,{previous:Bi,current:null}),i=o.current||(o.current={}),s=o.previous,a=this.declaredInputs[e],c=s[a];i[a]=new $I(c&&c.currentValue,t,s===Bi),n[r]=t}hr.ngInherit=!0;const Zm="__ngSimpleChanges__";function ev(n){return n[Zm]||null}function Nt(n){for(;Array.isArray(n);)n=n[0];return n}function cu(n,t){return Nt(t[n])}function Xn(n,t){return Nt(t[n.index])}function nh(n,t){return n.data[t]}function Zn(n,t){const e=t[n];return Ln(e)?e:e[0]}function uu(n){return 64==(64&n[2])}function Lo(n,t){return null==t?null:n[t]}function tv(n){n[18]=0}function rh(n,t){n[5]+=t;let e=n,r=n[3];for(;null!==r&&(1===t&&1===e[5]||-1===t&&0===e[5]);)r[5]+=t,e=r,r=r[3]}const me={lFrame:dv(null),bindingsEnabled:!0};function rv(){return me.bindingsEnabled}function O(){return me.lFrame.lView}function Oe(){return me.lFrame.tView}function Jt(n){return me.lFrame.contextLView=n,n[8]}function Xt(n){return me.lFrame.contextLView=null,n}function Ut(){let n=ov();for(;null!==n&&64===n.type;)n=n.parent;return n}function ov(){return me.lFrame.currentTNode}function $r(n,t){const e=me.lFrame;e.currentTNode=n,e.isParent=t}function oh(){return me.lFrame.isParent}function po(){return me.lFrame.bindingIndex}function Wi(){return me.lFrame.bindingIndex++}function go(n){const t=me.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function uA(n,t){const e=me.lFrame;e.bindingIndex=e.bindingRootIndex=n,sh(t)}function sh(n){me.lFrame.currentDirectiveIndex=n}function cv(){return me.lFrame.currentQueryIndex}function ch(n){me.lFrame.currentQueryIndex=n}function dA(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[6]:null}function uv(n,t,e){if(e&ae.SkipSelf){let o=t,i=n;for(;!(o=o.parent,null!==o||e&ae.Host||(o=dA(i),null===o||(i=i[15],10&o.type))););if(null===o)return!1;t=o,n=i}const r=me.lFrame=lv();return r.currentTNode=t,r.lView=n,!0}function uh(n){const t=lv(),e=n[1];me.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function lv(){const n=me.lFrame,t=null===n?null:n.child;return null===t?dv(n):t}function dv(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function hv(){const n=me.lFrame;return me.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const fv=hv;function lh(){const n=hv();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function In(){return me.lFrame.selectedIndex}function Uo(n){me.lFrame.selectedIndex=n}function yt(){const n=me.lFrame;return nh(n.tView,n.selectedIndex)}function lu(n,t){for(let e=t.directiveStart,r=t.directiveEnd;e<r;e++){const i=n.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=i;s&&(n.contentHooks||(n.contentHooks=[])).push(-e,s),a&&((n.contentHooks||(n.contentHooks=[])).push(e,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,a)),c&&(n.viewHooks||(n.viewHooks=[])).push(-e,c),u&&((n.viewHooks||(n.viewHooks=[])).push(e,u),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,u)),null!=l&&(n.destroyHooks||(n.destroyHooks=[])).push(e,l)}}function du(n,t,e){pv(n,t,3,e)}function hu(n,t,e,r){(3&n[2])===e&&pv(n,t,e,r)}function dh(n,t){let e=n[2];(3&e)===t&&(e&=2047,e+=1,n[2]=e)}function pv(n,t,e,r){const i=r??-1,s=t.length-1;let a=0;for(let c=void 0!==r?65535&n[18]:0;c<s;c++)if("number"==typeof t[c+1]){if(a=t[c],null!=r&&a>=r)break}else t[c]<0&&(n[18]+=65536),(a<i||-1==i)&&(CA(n,e,t,c),n[18]=(4294901760&n[18])+c+2),c++}function CA(n,t,e,r){const o=e[r]<0,i=e[r+1],a=n[o?-e[r]:e[r]];if(o){if(n[2]>>11<n[18]>>16&&(3&n[2])===t){n[2]+=2048;try{i.call(a)}finally{}}}else try{i.call(a)}finally{}}class ca{constructor(t,e,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=r}}function fu(n,t,e){let r=0;for(;r<e.length;){const o=e[r];if("number"==typeof o){if(0!==o)break;r++;const i=e[r++],s=e[r++],a=e[r++];n.setAttribute(t,s,a,i)}else{const i=o,s=e[++r];mv(i)?n.setProperty(t,i,s):n.setAttribute(t,i,s),r++}}return r}function gv(n){return 3===n||4===n||6===n}function mv(n){return 64===n.charCodeAt(0)}function pu(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let r=0;r<t.length;r++){const o=t[r];"number"==typeof o?e=o:0===e||vv(n,e,o,null,-1===e||2===e?t[++r]:null)}}return n}function vv(n,t,e,r,o){let i=0,s=n.length;if(-1===t)s=-1;else for(;i<n.length;){const a=n[i++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=i-1;break}}}for(;i<n.length;){const a=n[i];if("number"==typeof a)break;if(a===e){if(null===r)return void(null!==o&&(n[i+1]=o));if(r===n[i+1])return void(n[i+2]=o)}i++,null!==r&&i++,null!==o&&i++}-1!==s&&(n.splice(s,0,t),i=s+1),n.splice(i++,0,e),null!==r&&n.splice(i++,0,r),null!==o&&n.splice(i++,0,o)}function yv(n){return-1!==n}function Ki(n){return 32767&n}function Qi(n,t){let e=function SA(n){return n>>16}(n),r=t;for(;e>0;)r=r[15],e--;return r}let fh=!0;function gu(n){const t=fh;return fh=n,t}let IA=0;const zr={};function la(n,t){const e=gh(n,t);if(-1!==e)return e;const r=t[1];r.firstCreatePass&&(n.injectorIndex=t.length,ph(r.data,n),ph(t,null),ph(r.blueprint,null));const o=mu(n,t),i=n.injectorIndex;if(yv(o)){const s=Ki(o),a=Qi(o,t),c=a[1].data;for(let u=0;u<8;u++)t[i+u]=a[s+u]|c[s+u]}return t[i+8]=o,i}function ph(n,t){n.push(0,0,0,0,0,0,0,0,t)}function gh(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function mu(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,r=null,o=t;for(;null!==o;){if(r=Av(o),null===r)return-1;if(e++,o=o[15],-1!==r.injectorIndex)return r.injectorIndex|e<<16}return-1}function vu(n,t,e){!function AA(n,t,e){let r;"string"==typeof e?r=e.charCodeAt(0)||0:e.hasOwnProperty(na)&&(r=e[na]),null==r&&(r=e[na]=IA++);const o=255&r;t.data[n+(o>>5)]|=1<<o}(n,t,e)}function wv(n,t,e){if(e&ae.Optional||void 0!==n)return n;Zc()}function Ev(n,t,e,r){if(e&ae.Optional&&void 0===r&&(r=null),0==(e&(ae.Self|ae.Host))){const o=n[9],i=lr(void 0);try{return o?o.get(t,r,e&ae.Optional):$m(t,r,e&ae.Optional)}finally{lr(i)}}return wv(r,0,e)}function bv(n,t,e,r=ae.Default,o){if(null!==n){if(1024&t[2]){const s=function NA(n,t,e,r,o){let i=n,s=t;for(;null!==i&&null!==s&&1024&s[2]&&!(256&s[2]);){const a=Tv(i,s,e,r|ae.Self,zr);if(a!==zr)return a;let c=i.parent;if(!c){const u=s[21];if(u){const l=u.get(e,zr,r);if(l!==zr)return l}c=Av(s),s=s[15]}i=c}return o}(n,t,e,r,zr);if(s!==zr)return s}const i=Tv(n,t,e,r,zr);if(i!==zr)return i}return Ev(t,e,r,o)}function Tv(n,t,e,r,o){const i=function RA(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(na)?n[na]:void 0;return"number"==typeof t?t>=0?255&t:kA:t}(e);if("function"==typeof i){if(!uv(t,n,r))return r&ae.Host?wv(o,0,r):Ev(t,e,r,o);try{const s=i(r);if(null!=s||r&ae.Optional)return s;Zc()}finally{fv()}}else if("number"==typeof i){let s=null,a=gh(n,t),c=-1,u=r&ae.Host?t[16][6]:null;for((-1===a||r&ae.SkipSelf)&&(c=-1===a?mu(n,t):t[a+8],-1!==c&&Iv(r,!1)?(s=t[1],a=Ki(c),t=Qi(c,t)):a=-1);-1!==a;){const l=t[1];if(Sv(i,a,l.data)){const d=MA(a,t,e,s,r,u);if(d!==zr)return d}c=t[a+8],-1!==c&&Iv(r,t[1].data[a+8]===u)&&Sv(i,a,t)?(s=l,a=Ki(c),t=Qi(c,t)):a=-1}}return o}function MA(n,t,e,r,o,i){const s=t[1],a=s.data[n+8],l=yu(a,s,e,null==r?su(a)&&fh:r!=s&&0!=(3&a.type),o&ae.Host&&i===a);return null!==l?da(t,s,l,a):zr}function yu(n,t,e,r,o){const i=n.providerIndexes,s=t.data,a=1048575&i,c=n.directiveStart,l=i>>20,h=o?a+l:n.directiveEnd;for(let g=r?a:a+l;g<h;g++){const m=s[g];if(g<c&&e===m||g>=c&&m.type===e)return g}if(o){const g=s[c];if(g&&Mr(g)&&g.type===e)return c}return null}function da(n,t,e,r){let o=n[e];const i=t.data;if(function wA(n){return n instanceof ca}(o)){const s=o;s.resolving&&function II(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new G(-200,`Circular dependency in DI detected for ${n}${e}`)}(function Ve(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ye(n)}(i[e]));const a=gu(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?lr(s.injectImpl):null;uv(n,r,ae.Default);try{o=n[e]=s.factory(void 0,i,n,r),t.firstCreatePass&&e>=r.directiveStart&&function _A(n,t,e){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=t.type.prototype;if(r){const s=Xm(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,s),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,s)}o&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,o),i&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,i),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,i))}(e,i[e],t)}finally{null!==c&&lr(c),gu(a),s.resolving=!1,fv()}}return o}function Sv(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function Iv(n,t){return!(n&ae.Self||n&ae.Host&&t)}class Yi{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,r){return bv(this._tNode,this._lView,t,r,e)}}function kA(){return new Yi(Ut(),O())}function hn(n){return Fo(()=>{const t=n.prototype.constructor,e=t[fo]||mh(t),r=Object.prototype;let o=Object.getPrototypeOf(n.prototype).constructor;for(;o&&o!==r;){const i=o[fo]||mh(o);if(i&&i!==e)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function mh(n){return Gd(n)?()=>{const t=mh(le(n));return t&&t()}:ai(n)}function Av(n){const t=n[1],e=t.type;return 2===e?t.declTNode:1===e?n[6]:null}function ha(n){return function DA(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const r=e.length;let o=0;for(;o<r;){const i=e[o];if(gv(i))break;if(0===i)o+=2;else if("number"==typeof i)for(o++;o<r&&"string"==typeof e[o];)o++;else{if(i===t)return e[o+1];o+=2}}}return null}(Ut(),n)}const Xi="__parameters__";function es(n,t,e){return Fo(()=>{const r=function vh(n){return function(...e){if(n){const r=n(...e);for(const o in r)this[o]=r[o]}}}(t);function o(...i){if(this instanceof o)return r.apply(this,i),this;const s=new o(...i);return a.annotation=s,a;function a(c,u,l){const d=c.hasOwnProperty(Xi)?c[Xi]:Object.defineProperty(c,Xi,{value:[]})[Xi];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(s),c}}return e&&(o.prototype=Object.create(e.prototype)),o.prototype.ngMetadataName=n,o.annotationCls=o,o})}class oe{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=Z({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function er(n,t){void 0===t&&(t=n);for(let e=0;e<n.length;e++){let r=n[e];Array.isArray(r)?(t===n&&(t=n.slice(0,e)),er(r,t)):t!==n&&t.push(r)}return t}function mo(n,t){n.forEach(e=>Array.isArray(e)?mo(e,t):t(e))}function Mv(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function _u(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function tr(n,t,e){let r=ts(n,t);return r>=0?n[1|r]=e:(r=~r,function FA(n,t,e,r){let o=n.length;if(o==t)n.push(e,r);else if(1===o)n.push(r,n[0]),n[0]=e;else{for(o--,n.push(n[o-1],n[o]);o>t;)n[o]=n[o-2],o--;n[t]=e,n[t+1]=r}}(n,r,t,e)),r}function _h(n,t){const e=ts(n,t);if(e>=0)return n[1|e]}function ts(n,t){return function Nv(n,t,e){let r=0,o=n.length>>e;for(;o!==r;){const i=r+(o-r>>1),s=n[i<<e];if(t===s)return i<<e;s>t?o=i:r=i+1}return~(o<<e)}(n,t,1)}const ma={},wh="__NG_DI_FLAG__",wu="ngTempTokenPath",GA=/\n/gm,Pv="__source";let va;function ns(n){const t=va;return va=n,t}function zA(n,t=ae.Default){if(void 0===va)throw new G(-203,!1);return null===va?$m(n,void 0,t):va.get(n,t&ae.Optional?null:void 0,t)}function B(n,t=ae.Default){return(function xI(){return zd}()||zA)(le(n),t)}function At(n,t=ae.Default){return"number"!=typeof t&&(t=0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)),B(n,t)}function Eh(n){const t=[];for(let e=0;e<n.length;e++){const r=le(n[e]);if(Array.isArray(r)){if(0===r.length)throw new G(900,!1);let o,i=ae.Default;for(let s=0;s<r.length;s++){const a=r[s],c=WA(a);"number"==typeof c?-1===c?o=a.token:i|=c:o=a}t.push(B(o,i))}else t.push(B(r))}return t}function ya(n,t){return n[wh]=t,n.prototype[wh]=t,n}function WA(n){return n[wh]}const _a=ya(es("Optional"),8),Ca=ya(es("SkipSelf"),4);var Un=(()=>((Un=Un||{})[Un.Important=1]="Important",Un[Un.DashCase=2]="DashCase",Un))();const Ah=new Map;let dD=0;const Mh="__ngContext__";function fn(n,t){Ln(t)?(n[Mh]=t[20],function fD(n){Ah.set(n[20],n)}(t)):n[Mh]=t}function kh(n,t){return undefined(n,t)}function Ta(n){const t=n[3];return Dr(t)?t[3]:t}function Nh(n){return ey(n[13])}function Ph(n){return ey(n[4])}function ey(n){for(;null!==n&&!Dr(n);)n=n[4];return n}function os(n,t,e,r,o){if(null!=r){let i,s=!1;Dr(r)?i=r:Ln(r)&&(s=!0,r=r[0]);const a=Nt(r);0===n&&null!==e?null==o?sy(t,e,a):ci(t,e,a,o||null,!0):1===n&&null!==e?ci(t,e,a,o||null,!0):2===n?function Vh(n,t,e){const r=Tu(n,t);r&&function xD(n,t,e,r){n.removeChild(t,e,r)}(n,r,t,e)}(t,a,s):3===n&&t.destroyNode(a),null!=i&&function UD(n,t,e,r,o){const i=e[7];i!==Nt(e)&&os(t,n,r,i,o);for(let a=10;a<e.length;a++){const c=e[a];Sa(c[1],c,n,t,r,i)}}(t,n,i,e,o)}}function xh(n,t,e){return n.createElement(t,e)}function ny(n,t){const e=n[9],r=e.indexOf(t),o=t[3];512&t[2]&&(t[2]&=-513,rh(o,-1)),e.splice(r,1)}function Fh(n,t){if(n.length<=10)return;const e=10+t,r=n[e];if(r){const o=r[17];null!==o&&o!==n&&ny(o,r),t>0&&(n[e-1][4]=r[4]);const i=_u(n,10+t);!function AD(n,t){Sa(n,t,t[11],2,null,null),t[0]=null,t[6]=null}(r[1],r);const s=i[19];null!==s&&s.detachView(i[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function ry(n,t){if(!(128&t[2])){const e=t[11];e.destroyNode&&Sa(n,t,e,3,null,null),function RD(n){let t=n[13];if(!t)return Lh(n[1],n);for(;t;){let e=null;if(Ln(t))e=t[13];else{const r=t[10];r&&(e=r)}if(!e){for(;t&&!t[4]&&t!==n;)Ln(t)&&Lh(t[1],t),t=t[3];null===t&&(t=n),Ln(t)&&Lh(t[1],t),e=t&&t[4]}t=e}}(t)}}function Lh(n,t){if(!(128&t[2])){t[2]&=-65,t[2]|=128,function OD(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let r=0;r<e.length;r+=2){const o=t[e[r]];if(!(o instanceof ca)){const i=e[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){const a=o[i[s]],c=i[s+1];try{c.call(a)}finally{}}else try{i.call(o)}finally{}}}}(n,t),function PD(n,t){const e=n.cleanup,r=t[7];let o=-1;if(null!==e)for(let i=0;i<e.length-1;i+=2)if("string"==typeof e[i]){const s=e[i+1],a="function"==typeof s?s(t):Nt(t[s]),c=r[o=e[i+2]],u=e[i+3];"boolean"==typeof u?a.removeEventListener(e[i],c,u):u>=0?r[o=u]():r[o=-u].unsubscribe(),i+=2}else{const s=r[o=e[i+1]];e[i].call(s)}if(null!==r){for(let i=o+1;i<r.length;i++)(0,r[i])();t[7]=null}}(n,t),1===t[1].type&&t[11].destroy();const e=t[17];if(null!==e&&Dr(t[3])){e!==t[3]&&ny(e,t);const r=t[19];null!==r&&r.detachView(n)}!function pD(n){Ah.delete(n[20])}(t)}}function oy(n,t,e){return function iy(n,t,e){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return e[0];if(2&r.flags){const o=n.data[r.directiveStart].encapsulation;if(o===Gr.None||o===Gr.Emulated)return null}return Xn(r,e)}(n,t.parent,e)}function ci(n,t,e,r,o){n.insertBefore(t,e,r,o)}function sy(n,t,e){n.appendChild(t,e)}function ay(n,t,e,r,o){null!==r?ci(n,t,e,r,o):sy(n,t,e)}function Tu(n,t){return n.parentNode(t)}let Au,Gh,ly=function uy(n,t,e){return 40&n.type?Xn(n,e):null};function Su(n,t,e,r){const o=oy(n,r,t),i=t[11],a=function cy(n,t,e){return ly(n,t,e)}(r.parent||t[6],r,t);if(null!=o)if(Array.isArray(e))for(let c=0;c<e.length;c++)ay(i,o,e[c],a,!1);else ay(i,o,e,a,!1)}function Iu(n,t){if(null!==t){const e=t.type;if(3&e)return Xn(t,n);if(4&e)return Hh(-1,n[t.index]);if(8&e){const r=t.child;if(null!==r)return Iu(n,r);{const o=n[t.index];return Dr(o)?Hh(-1,o):Nt(o)}}if(32&e)return kh(t,n)()||Nt(n[t.index]);{const r=hy(n,t);return null!==r?Array.isArray(r)?r[0]:Iu(Ta(n[16]),r):Iu(n,t.next)}}return null}function hy(n,t){return null!==t?n[16][6].projection[t.projection]:null}function Hh(n,t){const e=10+n+1;if(e<t.length){const r=t[e],o=r[1].firstChild;if(null!==o)return Iu(r,o)}return t[7]}function Bh(n,t,e,r,o,i,s){for(;null!=e;){const a=r[e.index],c=e.type;if(s&&0===t&&(a&&fn(Nt(a),r),e.flags|=4),64!=(64&e.flags))if(8&c)Bh(n,t,e.child,r,o,i,!1),os(t,n,o,a,i);else if(32&c){const u=kh(e,r);let l;for(;l=u();)os(t,n,o,l,i);os(t,n,o,a,i)}else 16&c?fy(n,t,r,e,o,i):os(t,n,o,a,i);e=s?e.projectionNext:e.next}}function Sa(n,t,e,r,o,i){Bh(e,r,n.firstChild,t,o,i,!1)}function fy(n,t,e,r,o,i){const s=e[16],c=s[6].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++)os(t,n,o,c[u],i);else Bh(n,t,c,s[3],o,i,!0)}function py(n,t,e){n.setAttribute(t,"style",e)}function jh(n,t,e){""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function ui(n){return function qh(){if(void 0===Au&&(Au=null,tt.trustedTypes))try{Au=tt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Au}()?.createHTML(n)||n}class li{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class GD extends li{getTypeName(){return"HTML"}}class $D extends li{getTypeName(){return"Style"}}class zD extends li{getTypeName(){return"Script"}}class WD extends li{getTypeName(){return"URL"}}class KD extends li{getTypeName(){return"ResourceURL"}}function nr(n){return n instanceof li?n.changingThisBreaksApplicationSecurity:n}function Wr(n,t){const e=function QD(n){return n instanceof li&&n.getTypeName()||null}(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===t}class tM{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(ui(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch{return null}}}class nM{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const r=this.inertDocument.createElement("body");e.appendChild(r)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=ui(t),e;const r=this.inertDocument.createElement("body");return r.innerHTML=ui(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(t){const e=t.attributes;for(let o=e.length-1;0<o;o--){const s=e.item(o).name;("xmlns:ns1"===s||0===s.indexOf("ns1:"))&&t.removeAttribute(s)}let r=t.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const oM=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Mu(n){return(n=String(n)).match(oM)?n:"unsafe:"+n}function vo(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function Ia(...n){const t={};for(const e of n)for(const r in e)e.hasOwnProperty(r)&&(t[r]=!0);return t}const Cy=vo("area,br,col,hr,img,wbr"),wy=vo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ey=vo("rp,rt"),zh=Ia(Cy,Ia(wy,vo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ia(Ey,vo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ia(Ey,wy)),Wh=vo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),by=Ia(Wh,vo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),vo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),iM=vo("script,style,template");class sM{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,r=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?r=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,r&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let o=this.checkClobberedElement(e,e.nextSibling);if(o){e=o;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!zh.hasOwnProperty(e))return this.sanitizedSomething=!0,!iM.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const r=t.attributes;for(let o=0;o<r.length;o++){const i=r.item(o),s=i.name,a=s.toLowerCase();if(!by.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=i.value;Wh[a]&&(c=Mu(c)),this.buf.push(" ",s,'="',Ty(c),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();zh.hasOwnProperty(e)&&!Cy.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Ty(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const aM=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,cM=/([^\#-~ |!])/g;function Ty(n){return n.replace(/&/g,"&amp;").replace(aM,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(cM,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ru;function Sy(n,t){let e=null;try{Ru=Ru||function _y(n){const t=new nM(n);return function rM(){try{return!!(new window.DOMParser).parseFromString(ui(""),"text/html")}catch{return!1}}()?new tM(t):t}(n);let r=t?String(t):"";e=Ru.getInertBodyElement(r);let o=5,i=r;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,r=i,i=e.innerHTML,e=Ru.getInertBodyElement(r)}while(r!==i);return ui((new sM).sanitizeChildren(Kh(e)||e))}finally{if(e){const r=Kh(e)||e;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function Kh(n){return"content"in n&&function uM(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var rt=(()=>((rt=rt||{})[rt.NONE=0]="NONE",rt[rt.HTML=1]="HTML",rt[rt.STYLE=2]="STYLE",rt[rt.SCRIPT=3]="SCRIPT",rt[rt.URL=4]="URL",rt[rt.RESOURCE_URL=5]="RESOURCE_URL",rt))();function Dn(n){const t=function Aa(){const n=O();return n&&n[12]}();return t?t.sanitize(rt.URL,n)||"":Wr(n,"URL")?nr(n):Mu(ye(n))}const Qh=new oe("ENVIRONMENT_INITIALIZER"),Ay=new oe("INJECTOR",-1),Dy=new oe("INJECTOR_DEF_TYPES");class My{get(t,e=ma){if(e===ma){const r=new Error(`NullInjectorError: No provider for ${Je(t)}!`);throw r.name="NullInjectorError",r}return e}}function vM(...n){return{\u0275providers:Ry(0,n)}}function Ry(n,...t){const e=[],r=new Set;let o;return mo(t,i=>{const s=i;Yh(s,e,[],r)&&(o||(o=[]),o.push(s))}),void 0!==o&&ky(o,e),e}function ky(n,t){for(let e=0;e<n.length;e++){const{providers:o}=n[e];mo(o,i=>{t.push(i)})}}function Yh(n,t,e,r){if(!(n=le(n)))return!1;let o=null,i=qm(n);const s=!i&&ze(n);if(i||s){if(s&&!s.standalone)return!1;o=n}else{const c=n.ngModule;if(i=qm(c),!i)return!1;o=c}const a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const u of c)Yh(u,t,e,r)}}else{if(!i)return!1;{if(null!=i.imports&&!a){let u;r.add(o);try{mo(i.imports,l=>{Yh(l,t,e,r)&&(u||(u=[]),u.push(l))})}finally{}void 0!==u&&ky(u,t)}if(!a){const u=ai(o)||(()=>new o);t.push({provide:o,useFactory:u,deps:Be},{provide:Dy,useValue:o,multi:!0},{provide:Qh,useValue:()=>B(o),multi:!0})}const c=i.providers;null==c||a||mo(c,l=>{t.push(l)})}}return o!==n&&void 0!==n.providers}const yM=Ye({provide:String,useValue:Ye});function Jh(n){return null!==n&&"object"==typeof n&&yM in n}function di(n){return"function"==typeof n}const Xh=new oe("Set Injector scope."),ku={},CM={};let Zh;function Nu(){return void 0===Zh&&(Zh=new My),Zh}class Vo{}class Oy extends Vo{constructor(t,e,r,o){super(),this.parent=e,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,tf(t,s=>this.processProvider(s)),this.records.set(Ay,is(void 0,this)),o.has("environment")&&this.records.set(Vo,is(void 0,this));const i=this.records.get(Xh);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(Dy.multi,Be,ae.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const e=ns(this),r=lr(void 0);try{return t()}finally{ns(e),lr(r)}}get(t,e=ma,r=ae.Default){this.assertNotDestroyed();const o=ns(this),i=lr(void 0);try{if(!(r&ae.SkipSelf)){let a=this.records.get(t);if(void 0===a){const c=function SM(n){return"function"==typeof n||"object"==typeof n&&n instanceof oe}(t)&&eu(t);a=c&&this.injectableDefInScope(c)?is(ef(t),ku):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(r&ae.Self?Nu():this.parent).get(t,e=r&ae.Optional&&e===ma?null:e)}catch(s){if("NullInjectorError"===s.name){if((s[wu]=s[wu]||[]).unshift(Je(t)),o)throw s;return function KA(n,t,e,r){const o=n[wu];throw t[Pv]&&o.unshift(t[Pv]),n.message=function QA(n,t,e,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let o=Je(t);if(Array.isArray(t))o=t.map(Je).join(" -> ");else if("object"==typeof t){let i=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];i.push(s+":"+("string"==typeof a?JSON.stringify(a):Je(a)))}o=`{${i.join(", ")}}`}return`${e}${r?"("+r+")":""}[${o}]: ${n.replace(GA,"\n  ")}`}("\n"+n.message,o,e,r),n.ngTokenPath=o,n[wu]=null,n}(s,t,"R3InjectorError",this.source)}throw s}finally{lr(i),ns(o)}}resolveInjectorInitializers(){const t=ns(this),e=lr(void 0);try{const r=this.get(Qh.multi,Be,ae.Self);for(const o of r)o()}finally{ns(t),lr(e)}}toString(){const t=[],e=this.records;for(const r of e.keys())t.push(Je(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new G(205,!1)}processProvider(t){let e=di(t=le(t))?t:le(t&&t.provide);const r=function EM(n){return Jh(n)?is(void 0,n.useValue):is(xy(n),ku)}(t);if(di(t)||!0!==t.multi)this.records.get(e);else{let o=this.records.get(e);o||(o=is(void 0,ku,!0),o.factory=()=>Eh(o.multi),this.records.set(e,o)),e=t,o.multi.push(t)}this.records.set(e,r)}hydrate(t,e){return e.value===ku&&(e.value=CM,e.value=e.factory()),"object"==typeof e.value&&e.value&&function TM(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=le(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}}function ef(n){const t=eu(n),e=null!==t?t.factory:ai(n);if(null!==e)return e;if(n instanceof oe)throw new G(204,!1);if(n instanceof Function)return function wM(n){const t=n.length;if(t>0)throw function ga(n,t){const e=[];for(let r=0;r<n;r++)e.push(t);return e}(t,"?"),new G(204,!1);const e=function NI(n){const t=n&&(n[tu]||n[Gm]);if(t){const e=function PI(n){if(n.hasOwnProperty("name"))return n.name;const t=(""+n).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new G(204,!1)}function xy(n,t,e){let r;if(di(n)){const o=le(n);return ai(o)||ef(o)}if(Jh(n))r=()=>le(n.useValue);else if(function Py(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Eh(n.deps||[]));else if(function Ny(n){return!(!n||!n.useExisting)}(n))r=()=>B(le(n.useExisting));else{const o=le(n&&(n.useClass||n.provide));if(!function bM(n){return!!n.deps}(n))return ai(o)||ef(o);r=()=>new o(...Eh(n.deps))}return r}function is(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function IM(n){return!!n.\u0275providers}function tf(n,t){for(const e of n)Array.isArray(e)?tf(e,t):IM(e)?tf(e.\u0275providers,t):t(e)}class Fy{}class MM{resolveComponentFactory(t){throw function DM(n){const t=Error(`No component factory found for ${Je(n)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=n,t}(t)}}let Da=(()=>{class n{}return n.NULL=new MM,n})();function RM(){return ss(Ut(),O())}function ss(n,t){return new rr(Xn(n,t))}let rr=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=RM,n})();function kM(n){return n instanceof rr?n.nativeElement:n}class Uy{}let yo=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function NM(){const n=O(),e=Zn(Ut().index,n);return(Ln(e)?e:n)[11]}(),n})(),PM=(()=>{class n{}return n.\u0275prov=Z({token:n,providedIn:"root",factory:()=>null}),n})();class Ma{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Hy=new Ma("14.2.12"),nf={};function sf(n){return n.ngOriginalError}class as{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&sf(t);for(;e&&sf(e);)e=sf(e);return e||null}}function Vy(n){return n.ownerDocument}function _o(n){return n instanceof Function?n():n}function jy(n,t,e){let r=n.length;for(;;){const o=n.indexOf(t,e);if(-1===o)return o;if(0===o||n.charCodeAt(o-1)<=32){const i=t.length;if(o+i===r||n.charCodeAt(o+i)<=32)return o}e=o+1}}const qy="ng-template";function qM(n,t,e){let r=0;for(;r<n.length;){let o=n[r++];if(e&&"class"===o){if(o=n[r],-1!==jy(o.toLowerCase(),t,0))return!0}else if(1===o){for(;r<n.length&&"string"==typeof(o=n[r++]);)if(o.toLowerCase()===t)return!0;return!1}}return!1}function Gy(n){return 4===n.type&&n.value!==qy}function GM(n,t,e){return t===(4!==n.type||e?n.value:qy)}function $M(n,t,e){let r=4;const o=n.attrs||[],i=function KM(n){for(let t=0;t<n.length;t++)if(gv(n[t]))return t;return n.length}(o);let s=!1;for(let a=0;a<t.length;a++){const c=t[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!GM(n,c,e)||""===c&&1===t.length){if(Rr(r))return!1;s=!0}}else{const u=8&r?c:t[++a];if(8&r&&null!==n.attrs){if(!qM(n.attrs,u,e)){if(Rr(r))return!1;s=!0}continue}const d=zM(8&r?"class":c,o,Gy(n),e);if(-1===d){if(Rr(r))return!1;s=!0;continue}if(""!==u){let h;h=d>i?"":o[d+1].toLowerCase();const g=8&r?h:null;if(g&&-1!==jy(g,u,0)||2&r&&u!==h){if(Rr(r))return!1;s=!0}}}}else{if(!s&&!Rr(r)&&!Rr(c))return!1;if(s&&Rr(c))continue;s=!1,r=c|1&r}}return Rr(r)||s}function Rr(n){return 0==(1&n)}function zM(n,t,e,r){if(null===t)return-1;let o=0;if(r||!e){let i=!1;for(;o<t.length;){const s=t[o];if(s===n)return o;if(3===s||6===s)i=!0;else{if(1===s||2===s){let a=t[++o];for(;"string"==typeof a;)a=t[++o];continue}if(4===s)break;if(0===s){o+=4;continue}}o+=i?1:2}return-1}return function QM(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const r=n[e];if("number"==typeof r)return-1;if(r===t)return e;e++}return-1}(t,n)}function $y(n,t,e=!1){for(let r=0;r<t.length;r++)if($M(n,t[r],e))return!0;return!1}function zy(n,t){return n?":not("+t.trim()+")":t}function JM(n){let t=n[0],e=1,r=2,o="",i=!1;for(;e<n.length;){let s=n[e];if("string"==typeof s)if(2&r){const a=n[++e];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?o+="."+s:4&r&&(o+=" "+s);else""!==o&&!Rr(s)&&(t+=zy(i,o),o=""),r=s,i=i||!Rr(r);e++}return""!==o&&(t+=zy(i,o)),t}const _e={};function A(n){Wy(Oe(),O(),In()+n,!1)}function Wy(n,t,e,r){if(!r)if(3==(3&t[2])){const i=n.preOrderCheckHooks;null!==i&&du(t,i,e)}else{const i=n.preOrderHooks;null!==i&&hu(t,i,0,e)}Uo(e)}function Jy(n,t=null,e=null,r){const o=Xy(n,t,e,r);return o.resolveInjectorInitializers(),o}function Xy(n,t=null,e=null,r,o=new Set){const i=[e||Be,vM(n)];return r=r||("object"==typeof n?void 0:Je(n)),new Oy(i,t||Nu(),r||null,o)}let Hn=(()=>{class n{static create(e,r){if(Array.isArray(e))return Jy({name:""},r,e,"");{const o=e.name??"";return Jy({name:o},e.parent,e.providers,o)}}}return n.THROW_IF_NOT_FOUND=ma,n.NULL=new My,n.\u0275prov=Z({token:n,providedIn:"any",factory:()=>B(Ay)}),n.__NG_ELEMENT_ID__=-1,n})();function R(n,t=ae.Default){const e=O();return null===e?B(n,t):bv(Ut(),e,le(n),t)}function df(){throw new Error("invalid")}function Ou(n,t){return n<<17|t<<2}function kr(n){return n>>17&32767}function hf(n){return 2|n}function Co(n){return(131068&n)>>2}function ff(n,t){return-131069&n|t<<2}function pf(n){return 1|n}function g_(n,t){const e=n.contentQueries;if(null!==e)for(let r=0;r<e.length;r+=2){const o=e[r],i=e[r+1];if(-1!==i){const s=n.data[i];ch(o),s.contentQueries(2,t[i],i)}}}function Lu(n,t,e,r,o,i,s,a,c,u,l){const d=t.blueprint.slice();return d[0]=o,d[2]=76|r,(null!==l||n&&1024&n[2])&&(d[2]|=1024),tv(d),d[3]=d[15]=n,d[8]=e,d[10]=s||n&&n[10],d[11]=a||n&&n[11],d[12]=c||n&&n[12]||null,d[9]=u||n&&n[9]||null,d[6]=i,d[20]=function hD(){return dD++}(),d[21]=l,d[16]=2==t.type?n[16]:d,d}function ls(n,t,e,r,o){let i=n.data[t];if(null===i)i=function Ef(n,t,e,r,o){const i=ov(),s=oh(),c=n.data[t]=function PR(n,t,e,r,o,i){return{type:e,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?i:i&&i.parent,e,t,r,o);return null===n.firstChild&&(n.firstChild=c),null!==i&&(s?null==i.child&&null!==c.parent&&(i.child=c):null===i.next&&(i.next=c)),c}(n,t,e,r,o),function cA(){return me.lFrame.inI18n}()&&(i.flags|=64);else if(64&i.type){i.type=e,i.value=r,i.attrs=o;const s=function aa(){const n=me.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();i.injectorIndex=null===s?-1:s.injectorIndex}return $r(i,!0),i}function ds(n,t,e,r){if(0===e)return-1;const o=t.length;for(let i=0;i<e;i++)t.push(r),n.blueprint.push(r),n.data.push(null);return o}function bf(n,t,e){uh(t);try{const r=n.viewQuery;null!==r&&kf(1,r,e);const o=n.template;null!==o&&m_(n,t,o,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&g_(n,t),n.staticViewQueries&&kf(2,n.viewQuery,e);const i=n.components;null!==i&&function RR(n,t){for(let e=0;e<t.length;e++)QR(n,t[e])}(t,i)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{t[2]&=-5,lh()}}function Uu(n,t,e,r){const o=t[2];if(128!=(128&o)){uh(t);try{tv(t),function sv(n){return me.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&m_(n,t,e,2,r);const s=3==(3&o);if(s){const u=n.preOrderCheckHooks;null!==u&&du(t,u,null)}else{const u=n.preOrderHooks;null!==u&&hu(t,u,0,null),dh(t,0)}if(function WR(n){for(let t=Nh(n);null!==t;t=Ph(t)){if(!t[2])continue;const e=t[9];for(let r=0;r<e.length;r++){const o=e[r],i=o[3];0==(512&o[2])&&rh(i,1),o[2]|=512}}}(t),function zR(n){for(let t=Nh(n);null!==t;t=Ph(t))for(let e=10;e<t.length;e++){const r=t[e],o=r[1];uu(r)&&Uu(o,r,o.template,r[8])}}(t),null!==n.contentQueries&&g_(n,t),s){const u=n.contentCheckHooks;null!==u&&du(t,u)}else{const u=n.contentHooks;null!==u&&hu(t,u,1),dh(t,1)}!function DR(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let r=0;r<e.length;r++){const o=e[r];if(o<0)Uo(~o);else{const i=o,s=e[++r],a=e[++r];uA(s,i),a(2,t[i])}}}finally{Uo(-1)}}(n,t);const a=n.components;null!==a&&function MR(n,t){for(let e=0;e<t.length;e++)KR(n,t[e])}(t,a);const c=n.viewQuery;if(null!==c&&kf(2,c,r),s){const u=n.viewCheckHooks;null!==u&&du(t,u)}else{const u=n.viewHooks;null!==u&&hu(t,u,2),dh(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),t[2]&=-41,512&t[2]&&(t[2]&=-513,rh(t[3],-1))}finally{lh()}}}function m_(n,t,e,r,o){const i=In(),s=2&r;try{Uo(-1),s&&t.length>22&&Wy(n,t,22,!1),e(r,o)}finally{Uo(i)}}function Tf(n,t,e){!rv()||(function UR(n,t,e,r){const o=e.directiveStart,i=e.directiveEnd;n.firstCreatePass||la(e,t),fn(r,t);const s=e.initialInputs;for(let a=o;a<i;a++){const c=n.data[a],u=Mr(c);u&&qR(t,e,c);const l=da(t,n,a,e);fn(l,t),null!==s&&GR(0,a-o,l,c,0,s),u&&(Zn(e.index,t)[8]=l)}}(n,t,e,Xn(e,t)),128==(128&e.flags)&&function HR(n,t,e){const r=e.directiveStart,o=e.directiveEnd,i=e.index,s=function lA(){return me.lFrame.currentDirectiveIndex}();try{Uo(i);for(let a=r;a<o;a++){const c=n.data[a],u=t[a];sh(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&T_(c,u)}}finally{Uo(-1),sh(s)}}(n,t,e))}function Sf(n,t,e=Xn){const r=t.localNames;if(null!==r){let o=t.index+1;for(let i=0;i<r.length;i+=2){const s=r[i+1],a=-1===s?e(t,n):n[s];n[o++]=a}}}function y_(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=If(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function If(n,t,e,r,o,i,s,a,c,u){const l=22+r,d=l+o,h=function kR(n,t){const e=[];for(let r=0;r<t;r++)e.push(r<n?null:_e);return e}(l,d),g="function"==typeof u?u():u;return h[1]={type:n,blueprint:h,template:e,queries:null,viewQuery:a,declTNode:t,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1}}function __(n,t,e,r){const o=M_(t);null===e?o.push(r):(o.push(e),n.firstCreatePass&&R_(n).push(r,o.length-1))}function C_(n,t,e){for(let r in n)if(n.hasOwnProperty(r)){const o=n[r];(e=null===e?{}:e).hasOwnProperty(r)?e[r].push(t,o):e[r]=[t,o]}return e}function w_(n,t){const r=t.directiveEnd,o=n.data,i=t.attrs,s=[];let a=null,c=null;for(let u=t.directiveStart;u<r;u++){const l=o[u],d=l.inputs,h=null===i||Gy(t)?null:$R(d,i);s.push(h),a=C_(d,u,a),c=C_(l.outputs,u,c)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=s,t.inputs=a,t.outputs=c}function or(n,t,e,r,o,i,s,a){const c=Xn(t,e);let l,u=t.inputs;!a&&null!=u&&(l=u[r])?(Nf(n,e,l,r,o),su(t)&&E_(e,t.index)):3&t.type&&(r=function OR(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),o=null!=s?s(o,t.value||"",r):o,i.setProperty(c,r,o))}function E_(n,t){const e=Zn(t,n);16&e[2]||(e[2]|=32)}function Af(n,t,e,r){let o=!1;if(rv()){const i=function VR(n,t,e){const r=n.directiveRegistry;let o=null;if(r)for(let i=0;i<r.length;i++){const s=r[i];$y(e,s.selectors,!1)&&(o||(o=[]),vu(la(e,t),n,s.type),Mr(s)?(S_(n,e),o.unshift(s)):o.push(s))}return o}(n,t,e),s=null===r?null:{"":-1};if(null!==i){o=!0,I_(e,n.data.length,i.length);for(let l=0;l<i.length;l++){const d=i[l];d.providersResolver&&d.providersResolver(d)}let a=!1,c=!1,u=ds(n,t,i.length,null);for(let l=0;l<i.length;l++){const d=i[l];e.mergedAttrs=pu(e.mergedAttrs,d.hostAttrs),A_(n,e,t,u,d),jR(u,d,s),null!==d.contentQueries&&(e.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(e.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),a=!0),!c&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),c=!0),u++}w_(n,e)}s&&function BR(n,t,e){if(t){const r=n.localNames=[];for(let o=0;o<t.length;o+=2){const i=e[t[o+1]];if(null==i)throw new G(-301,!1);r.push(t[o],i)}}}(e,r,s)}return e.mergedAttrs=pu(e.mergedAttrs,e.attrs),o}function b_(n,t,e,r,o,i){const s=i.hostBindings;if(s){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const c=~t.index;(function LR(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(a)!=c&&a.push(c),a.push(r,o,s)}}function T_(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function S_(n,t){t.flags|=2,(n.components||(n.components=[])).push(t.index)}function jR(n,t,e){if(e){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)e[t.exportAs[r]]=n;Mr(t)&&(e[""]=n)}}function I_(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function A_(n,t,e,r,o){n.data[r]=o;const i=o.factory||(o.factory=ai(o.type)),s=new ca(i,Mr(o),R);n.blueprint[r]=s,e[r]=s,b_(n,t,0,r,ds(n,e,o.hostVars,_e),o)}function qR(n,t,e){const r=Xn(t,n),o=y_(e),i=n[10],s=Hu(n,Lu(n,o,null,e.onPush?32:16,r,t,i,i.createRenderer(r,e),null,null,null));n[t.index]=s}function Kr(n,t,e,r,o,i){const s=Xn(n,t);!function Df(n,t,e,r,o,i,s){if(null==i)n.removeAttribute(t,o,e);else{const a=null==s?ye(i):s(i,r||"",o);n.setAttribute(t,o,a,e)}}(t[11],s,i,n.value,e,r,o)}function GR(n,t,e,r,o,i){const s=i[t];if(null!==s){const a=r.setInput;for(let c=0;c<s.length;){const u=s[c++],l=s[c++],d=s[c++];null!==a?r.setInput(e,d,u,l):e[l]=d}}}function $R(n,t){let e=null,r=0;for(;r<t.length;){const o=t[r];if(0!==o)if(5!==o){if("number"==typeof o)break;n.hasOwnProperty(o)&&(null===e&&(e=[]),e.push(o,n[o],t[r+1])),r+=2}else r+=2;else r+=4}return e}function D_(n,t,e,r){return new Array(n,!0,!1,t,null,0,r,e,null,null)}function KR(n,t){const e=Zn(t,n);if(uu(e)){const r=e[1];48&e[2]?Uu(r,e,r.template,e[8]):e[5]>0&&Mf(e)}}function Mf(n){for(let r=Nh(n);null!==r;r=Ph(r))for(let o=10;o<r.length;o++){const i=r[o];if(uu(i))if(512&i[2]){const s=i[1];Uu(s,i,s.template,i[8])}else i[5]>0&&Mf(i)}const e=n[1].components;if(null!==e)for(let r=0;r<e.length;r++){const o=Zn(e[r],n);uu(o)&&o[5]>0&&Mf(o)}}function QR(n,t){const e=Zn(t,n),r=e[1];(function YR(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(r,e),bf(r,e,e[8])}function Hu(n,t){return n[13]?n[14][4]=t:n[13]=t,n[14]=t,t}function Rf(n){for(;n;){n[2]|=32;const t=Ta(n);if(jI(n)&&!t)return n;n=t}return null}function Vu(n,t,e,r=!0){const o=t[10];o.begin&&o.begin();try{Uu(n,t,n.template,e)}catch(s){throw r&&N_(t,s),s}finally{o.end&&o.end()}}function kf(n,t,e){ch(0),t(n,e)}function M_(n){return n[7]||(n[7]=[])}function R_(n){return n.cleanup||(n.cleanup=[])}function N_(n,t){const e=n[9],r=e?e.get(as,null):null;r&&r.handleError(t)}function Nf(n,t,e,r,o){for(let i=0;i<e.length;){const s=e[i++],a=e[i++],c=t[s],u=n.data[s];null!==u.setInput?u.setInput(c,o,r,a):c[a]=o}}function wo(n,t,e){const r=cu(t,n);!function ty(n,t,e){n.setValue(t,e)}(n[11],r,e)}function Bu(n,t,e){let r=e?n.styles:null,o=e?n.classes:null,i=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?i=a:1==i?o=qd(o,a):2==i&&(r=qd(r,a+": "+t[++s]+";"))}e?n.styles=r:n.stylesWithoutHost=r,e?n.classes=o:n.classesWithoutHost=o}function ju(n,t,e,r,o=!1){for(;null!==e;){const i=t[e.index];if(null!==i&&r.push(Nt(i)),Dr(i))for(let a=10;a<i.length;a++){const c=i[a],u=c[1].firstChild;null!==u&&ju(c[1],c,u,r)}const s=e.type;if(8&s)ju(n,t,e.child,r);else if(32&s){const a=kh(e,t);let c;for(;c=a();)r.push(c)}else if(16&s){const a=hy(t,e);if(Array.isArray(a))r.push(...a);else{const c=Ta(t[16]);ju(c[1],c,a,r,!0)}}e=o?e.projectionNext:e.next}return r}class Ra{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return ju(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Dr(t)){const e=t[8],r=e?e.indexOf(this):-1;r>-1&&(Fh(t,r),_u(e,r))}this._attachedToViewContainer=!1}ry(this._lView[1],this._lView)}onDestroy(t){__(this._lView[1],this._lView,null,t)}markForCheck(){Rf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Vu(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new G(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function MD(n,t){Sa(n,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new G(902,!1);this._appRef=t}}class JR extends Ra{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Vu(t[1],t,t[8],!1)}checkNoChanges(){}get context(){return null}}class Pf extends Da{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ze(t);return new ka(e,this.ngModule)}}function P_(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class ZR{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,r){const o=this.injector.get(t,nf,r);return o!==nf||e===nf?o:this.parentInjector.get(t,e,r)}}class ka extends Fy{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function XM(n){return n.map(JM).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return P_(this.componentDef.inputs)}get outputs(){return P_(this.componentDef.outputs)}create(t,e,r,o){let i=(o=o||this.ngModule)instanceof Vo?o:o?.injector;i&&null!==this.componentDef.getStandaloneInjector&&(i=this.componentDef.getStandaloneInjector(i)||i);const s=i?new ZR(t,i):t,a=s.get(Uy,null);if(null===a)throw new G(407,!1);const c=s.get(PM,null),u=a.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",d=r?function NR(n,t,e){return n.selectRootElement(t,e===Gr.ShadowDom)}(u,r,this.componentDef.encapsulation):xh(u,l,function XR(n){const t=n.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(l)),h=this.componentDef.onPush?288:272,g=If(0,null,null,1,0,null,null,null,null,null),m=Lu(null,g,null,h,null,null,a,u,c,s,null);let E,S;uh(m);try{const T=function nk(n,t,e,r,o,i){const s=e[1];e[22]=n;const c=ls(s,22,2,"#host",null),u=c.mergedAttrs=t.hostAttrs;null!==u&&(Bu(c,u,!0),null!==n&&(fu(o,n,u),null!==c.classes&&jh(o,n,c.classes),null!==c.styles&&py(o,n,c.styles)));const l=r.createRenderer(n,t),d=Lu(e,y_(t),null,t.onPush?32:16,e[22],c,r,l,i||null,null,null);return s.firstCreatePass&&(vu(la(c,e),s,t.type),S_(s,c),I_(c,e.length,1)),Hu(e,d),e[22]=d}(d,this.componentDef,m,a,u);if(d)if(r)fu(u,d,["ng-version",Hy.full]);else{const{attrs:N,classes:D}=function ZM(n){const t=[],e=[];let r=1,o=2;for(;r<n.length;){let i=n[r];if("string"==typeof i)2===o?""!==i&&t.push(i,n[++r]):8===o&&e.push(i);else{if(!Rr(o))break;o=i}r++}return{attrs:t,classes:e}}(this.componentDef.selectors[0]);N&&fu(u,d,N),D&&D.length>0&&jh(u,d,D.join(" "))}if(S=nh(g,22),void 0!==e){const N=S.projection=[];for(let D=0;D<this.ngContentSelectors.length;D++){const J=e[D];N.push(null!=J?Array.from(J):null)}}E=function rk(n,t,e,r){const o=e[1],i=function FR(n,t,e){const r=Ut();n.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),A_(n,r,t,ds(n,t,1,null),e),w_(n,r));const o=da(t,n,r.directiveStart,r);fn(o,t);const i=Xn(r,t);return i&&fn(i,t),o}(o,e,t);if(n[8]=e[8]=i,null!==r)for(const a of r)a(i,t);if(t.contentQueries){const a=Ut();t.contentQueries(1,i,a.directiveStart)}const s=Ut();return!o.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Uo(s.index),b_(e[1],s,0,s.directiveStart,s.directiveEnd,t),T_(t,i)),i}(T,this.componentDef,m,[ok]),bf(g,m,null)}finally{lh()}return new tk(this.componentType,E,ss(S,m),m,S)}}class tk extends class AM{}{constructor(t,e,r,o,i){super(),this.location=r,this._rootLView=o,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new JR(o),this.componentType=t}setInput(t,e){const r=this._tNode.inputs;let o;if(null!==r&&(o=r[t])){const i=this._rootLView;Nf(i[1],i,o,t,e),E_(i,this._tNode.index)}}get injector(){return new Yi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function ok(){const n=Ut();lu(O()[1],n)}function We(n){let t=function O_(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const r=[n];for(;t;){let o;if(Mr(n))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new G(903,!1);o=t.\u0275dir}if(o){if(e){r.push(o);const s=n;s.inputs=Of(n.inputs),s.declaredInputs=Of(n.declaredInputs),s.outputs=Of(n.outputs);const a=o.hostBindings;a&&ck(n,a);const c=o.viewQuery,u=o.contentQueries;if(c&&sk(n,c),u&&ak(n,u),jd(n.inputs,o.inputs),jd(n.declaredInputs,o.declaredInputs),jd(n.outputs,o.outputs),Mr(o)&&o.data.animation){const l=n.data;l.animation=(l.animation||[]).concat(o.data.animation)}}const i=o.features;if(i)for(let s=0;s<i.length;s++){const a=i[s];a&&a.ngInherit&&a(n),a===We&&(e=!1)}}t=Object.getPrototypeOf(t)}!function ik(n){let t=0,e=null;for(let r=n.length-1;r>=0;r--){const o=n[r];o.hostVars=t+=o.hostVars,o.hostAttrs=pu(o.hostAttrs,e=pu(e,o.hostAttrs))}}(r)}function Of(n){return n===Bi?{}:n===Be?[]:n}function sk(n,t){const e=n.viewQuery;n.viewQuery=e?(r,o)=>{t(r,o),e(r,o)}:t}function ak(n,t){const e=n.contentQueries;n.contentQueries=e?(r,o,i)=>{t(r,o,i),e(r,o,i)}:t}function ck(n,t){const e=n.hostBindings;n.hostBindings=e?(r,o)=>{t(r,o),e(r,o)}:t}let qu=null;function hi(){if(!qu){const n=tt.Symbol;if(n&&n.iterator)qu=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const r=t[e];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(qu=r)}}}return qu}function Na(n){return!!xf(n)&&(Array.isArray(n)||!(n instanceof Map)&&hi()in n)}function xf(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function pn(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function fi(n,t,e,r){const o=pn(n,t,e);return pn(n,t+1,r)||o}function Yr(n,t,e,r){const o=O();return pn(o,Wi(),t)&&(Oe(),Kr(yt(),o,n,t,e,r)),Yr}function fs(n,t,e,r){return pn(n,Wi(),e)?t+ye(e)+r:_e}function gs(n,t,e,r,o,i,s,a){const u=function Gu(n,t,e,r,o){const i=fi(n,t,e,r);return pn(n,t+2,o)||i}(n,po(),e,o,s);return go(3),u?t+ye(e)+r+ye(o)+i+ye(s)+a:_e}function K(n,t,e,r,o,i,s,a){const c=O(),u=Oe(),l=n+22,d=u.firstCreatePass?function mk(n,t,e,r,o,i,s,a,c){const u=t.consts,l=ls(t,n,4,s||null,Lo(u,a));Af(t,e,l,Lo(u,c)),lu(t,l);const d=l.tViews=If(2,l,r,o,i,t.directiveRegistry,t.pipeRegistry,null,t.schemas,u);return null!==t.queries&&(t.queries.template(t,l),d.queries=t.queries.embeddedTView(l)),l}(l,u,c,t,e,r,o,i,s):u.data[l];$r(d,!1);const h=c[11].createComment("");Su(u,c,h,d),fn(h,c),Hu(c,c[l]=D_(h,c,h,d)),au(d)&&Tf(u,c,d),null!=s&&Sf(c,d,a)}function j(n,t,e){const r=O();return pn(r,Wi(),t)&&or(Oe(),yt(),r,n,t,r[11],e,!1),j}function Ff(n,t,e,r,o){const s=o?"class":"style";Nf(n,e,t.inputs[s],s,r)}function C(n,t,e,r){const o=O(),i=Oe(),s=22+n,a=o[11],c=o[s]=xh(a,t,function yA(){return me.lFrame.currentNamespace}()),u=i.firstCreatePass?function yk(n,t,e,r,o,i,s){const a=t.consts,u=ls(t,n,2,o,Lo(a,i));return Af(t,e,u,Lo(a,s)),null!==u.attrs&&Bu(u,u.attrs,!1),null!==u.mergedAttrs&&Bu(u,u.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,u),u}(s,i,o,0,t,e,r):i.data[s];$r(u,!0);const l=u.mergedAttrs;null!==l&&fu(a,c,l);const d=u.classes;null!==d&&jh(a,c,d);const h=u.styles;return null!==h&&py(a,c,h),64!=(64&u.flags)&&Su(i,o,c,u),0===function nA(){return me.lFrame.elementDepthCount}()&&fn(c,o),function rA(){me.lFrame.elementDepthCount++}(),au(u)&&(Tf(i,o,u),function v_(n,t,e){if(Jd(t)){const o=t.directiveEnd;for(let i=t.directiveStart;i<o;i++){const s=n.data[i];s.contentQueries&&s.contentQueries(1,e[i],i)}}}(i,u,o)),null!==r&&Sf(o,u),C}function _(){let n=Ut();oh()?function ih(){me.lFrame.isParent=!1}():(n=n.parent,$r(n,!1));const t=n;!function oA(){me.lFrame.elementDepthCount--}();const e=Oe();return e.firstCreatePass&&(lu(e,n),Jd(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function bA(n){return 0!=(16&n.flags)}(t)&&Ff(e,t,O(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function TA(n){return 0!=(32&n.flags)}(t)&&Ff(e,t,O(),t.stylesWithoutHost,!1),_}function P(n,t,e,r){return C(n,t,e,r),_(),P}function Nr(){return O()}function Oa(n){return!!n&&"function"==typeof n.then}const Hf=function z_(n){return!!n&&"function"==typeof n.subscribe};function ce(n,t,e,r){const o=O(),i=Oe(),s=Ut();return function K_(n,t,e,r,o,i,s,a){const c=au(r),l=n.firstCreatePass&&R_(n),d=t[8],h=M_(t);let g=!0;if(3&r.type||a){const S=Xn(r,t),T=a?a(S):S,N=h.length,D=a?ge=>a(Nt(ge[r.index])):r.index;let J=null;if(!a&&c&&(J=function Ck(n,t,e,r){const o=n.cleanup;if(null!=o)for(let i=0;i<o.length-1;i+=2){const s=o[i];if(s===e&&o[i+1]===r){const a=t[7],c=o[i+2];return a.length>c?a[c]:null}"string"==typeof s&&(i+=2)}return null}(n,t,o,r.index)),null!==J)(J.__ngLastListenerFn__||J).__ngNextListenerFn__=i,J.__ngLastListenerFn__=i,g=!1;else{i=Y_(r,t,d,i,!1);const ge=e.listen(T,o,i);h.push(i,ge),l&&l.push(o,D,N,N+1)}}else i=Y_(r,t,d,i,!1);const m=r.outputs;let E;if(g&&null!==m&&(E=m[o])){const S=E.length;if(S)for(let T=0;T<S;T+=2){const Fe=t[E[T]][E[T+1]].subscribe(i),Er=h.length;h.push(i,Fe),l&&l.push(o,r.index,Er,-(Er+1))}}}(i,o,o[11],s,n,t,0,r),ce}function Q_(n,t,e,r){try{return!1!==e(r)}catch(o){return N_(n,o),!1}}function Y_(n,t,e,r,o){return function i(s){if(s===Function)return r;Rf(2&n.flags?Zn(n.index,t):t);let c=Q_(t,0,r,s),u=i.__ngNextListenerFn__;for(;u;)c=Q_(t,0,u,s)&&c,u=u.__ngNextListenerFn__;return o&&!1===c&&(s.preventDefault(),s.returnValue=!1),c}}function ie(n=1){return function hA(n){return(me.lFrame.contextLView=function fA(n,t){for(;n>0;)t=t[15],n--;return t}(n,me.lFrame.contextLView))[8]}(n)}function gr(n,t,e){return $u(n,"",t,"",e),gr}function $u(n,t,e,r,o){const i=O(),s=fs(i,t,e,r);return s!==_e&&or(Oe(),yt(),i,n,s,i[11],o,!1),$u}function iC(n,t,e,r,o){const i=n[e+1],s=null===t;let a=r?kr(i):Co(i),c=!1;for(;0!==a&&(!1===c||s);){const l=n[a+1];Ik(n[a],t)&&(c=!0,n[a+1]=r?pf(l):hf(l)),a=r?kr(l):Co(l)}c&&(n[e+1]=r?hf(i):pf(i))}function Ik(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&ts(n,t)>=0}function pi(n,t){return function Pr(n,t,e,r){const o=O(),i=Oe(),s=go(2);i.firstUpdatePass&&function pC(n,t,e,r){const o=n.data;if(null===o[e+1]){const i=o[In()],s=function fC(n,t){return t>=n.expandoStartIndex}(n,e);(function yC(n,t){return 0!=(n.flags&(t?16:32))})(i,r)&&null===t&&!s&&(t=!1),t=function xk(n,t,e,r){const o=function ah(n){const t=me.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let i=r?t.residualClasses:t.residualStyles;if(null===o)0===(r?t.classBindings:t.styleBindings)&&(e=xa(e=Vf(null,n,t,e,r),t.attrs,r),i=null);else{const s=t.directiveStylingLast;if(-1===s||n[s]!==o)if(e=Vf(o,n,t,e,r),null===i){let c=function Fk(n,t,e){const r=e?t.classBindings:t.styleBindings;if(0!==Co(r))return n[kr(r)]}(n,t,r);void 0!==c&&Array.isArray(c)&&(c=Vf(null,n,t,c[1],r),c=xa(c,t.attrs,r),function Lk(n,t,e,r){n[kr(e?t.classBindings:t.styleBindings)]=r}(n,t,r,c))}else i=function Uk(n,t,e){let r;const o=t.directiveEnd;for(let i=1+t.directiveStylingLast;i<o;i++)r=xa(r,n[i].hostAttrs,e);return xa(r,t.attrs,e)}(n,t,r)}return void 0!==i&&(r?t.residualClasses=i:t.residualStyles=i),e}(o,i,t,r),function Tk(n,t,e,r,o,i){let s=i?t.classBindings:t.styleBindings,a=kr(s),c=Co(s);n[r]=e;let l,u=!1;if(Array.isArray(e)){const d=e;l=d[1],(null===l||ts(d,l)>0)&&(u=!0)}else l=e;if(o)if(0!==c){const h=kr(n[a+1]);n[r+1]=Ou(h,a),0!==h&&(n[h+1]=ff(n[h+1],r)),n[a+1]=function yR(n,t){return 131071&n|t<<17}(n[a+1],r)}else n[r+1]=Ou(a,0),0!==a&&(n[a+1]=ff(n[a+1],r)),a=r;else n[r+1]=Ou(c,0),0===a?a=r:n[c+1]=ff(n[c+1],r),c=r;u&&(n[r+1]=hf(n[r+1])),iC(n,l,r,!0),iC(n,l,r,!1),function Sk(n,t,e,r,o){const i=o?n.residualClasses:n.residualStyles;null!=i&&"string"==typeof t&&ts(i,t)>=0&&(e[r+1]=pf(e[r+1]))}(t,l,n,r,i),s=Ou(a,c),i?t.classBindings=s:t.styleBindings=s}(o,i,t,e,s,r)}}(i,n,s,r),t!==_e&&pn(o,s,t)&&function mC(n,t,e,r,o,i,s,a){if(!(3&t.type))return;const c=n.data,u=c[a+1];zu(function a_(n){return 1==(1&n)}(u)?vC(c,t,e,o,Co(u),s):void 0)||(zu(i)||function s_(n){return 2==(2&n)}(u)&&(i=vC(c,null,e,o,a,s)),function HD(n,t,e,r,o){if(t)o?n.addClass(e,r):n.removeClass(e,r);else{let i=-1===r.indexOf("-")?void 0:Un.DashCase;null==o?n.removeStyle(e,r,i):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=Un.Important),n.setStyle(e,r,o,i))}}(r,s,cu(In(),e),o,i))}(i,i.data[In()],o,o[11],n,o[s+1]=function Bk(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=Je(nr(n)))),n}(t,e),r,s)}(n,t,null,!0),pi}function Vf(n,t,e,r,o){let i=null;const s=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<s&&(i=t[a],r=xa(r,i.hostAttrs,o),i!==n);)a++;return null!==n&&(e.directiveStylingLast=a),r}function xa(n,t,e){const r=e?1:2;let o=-1;if(null!==t)for(let i=0;i<t.length;i++){const s=t[i];"number"==typeof s?o=s:o===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),tr(n,s,!!e||t[++i]))}return void 0===n?null:n}function vC(n,t,e,r,o,i){const s=null===t;let a;for(;o>0;){const c=n[o],u=Array.isArray(c),l=u?c[1]:c,d=null===l;let h=e[o+1];h===_e&&(h=d?Be:void 0);let g=d?_h(h,r):l===r?h:void 0;if(u&&!zu(g)&&(g=_h(c,r)),zu(g)&&(a=g,s))return a;const m=n[o+1];o=s?kr(m):Co(m)}if(null!==t){let c=i?t.residualClasses:t.residualStyles;null!=c&&(a=_h(c,r))}return a}function zu(n){return void 0!==n}function w(n,t=""){const e=O(),r=Oe(),o=n+22,i=r.firstCreatePass?ls(r,o,1,t,null):r.data[o],s=e[o]=function Oh(n,t){return n.createText(t)}(e[11],t);Su(r,e,s,i),$r(i,!1)}function Me(n){return Ge("",n,""),Me}function Ge(n,t,e){const r=O(),o=fs(r,n,t,e);return o!==_e&&wo(r,In(),o),Ge}function Bf(n,t,e,r,o){const i=O(),s=function ps(n,t,e,r,o,i){const a=fi(n,po(),e,o);return go(2),a?t+ye(e)+r+ye(o)+i:_e}(i,n,t,e,r,o);return s!==_e&&wo(i,In(),s),Bf}function jf(n,t,e,r,o,i,s){const a=O(),c=gs(a,n,t,e,r,o,i,s);return c!==_e&&wo(a,In(),c),jf}const bs="en-US";let UC=bs;function $f(n,t,e,r,o){if(n=le(n),Array.isArray(n))for(let i=0;i<n.length;i++)$f(n[i],t,e,r,o);else{const i=Oe(),s=O();let a=di(n)?n:le(n.provide),c=xy(n);const u=Ut(),l=1048575&u.providerIndexes,d=u.directiveStart,h=u.providerIndexes>>20;if(di(n)||!n.multi){const g=new ca(c,o,R),m=Wf(a,t,o?l:l+h,d);-1===m?(vu(la(u,s),i,a),zf(i,n,t.length),t.push(a),u.directiveStart++,u.directiveEnd++,o&&(u.providerIndexes+=1048576),e.push(g),s.push(g)):(e[m]=g,s[m]=g)}else{const g=Wf(a,t,l+h,d),m=Wf(a,t,l,l+h),E=g>=0&&e[g],S=m>=0&&e[m];if(o&&!S||!o&&!E){vu(la(u,s),i,a);const T=function iP(n,t,e,r,o){const i=new ca(n,e,R);return i.multi=[],i.index=t,i.componentProviders=0,uw(i,o,r&&!e),i}(o?oP:rP,e.length,o,r,c);!o&&S&&(e[m].providerFactory=T),zf(i,n,t.length,0),t.push(a),u.directiveStart++,u.directiveEnd++,o&&(u.providerIndexes+=1048576),e.push(T),s.push(T)}else zf(i,n,g>-1?g:m,uw(e[o?m:g],c,!o&&r));!o&&r&&S&&e[m].componentProviders++}}}function zf(n,t,e,r){const o=di(t),i=function _M(n){return!!n.useClass}(t);if(o||i){const c=(i?le(t.useClass):t).prototype.ngOnDestroy;if(c){const u=n.destroyHooks||(n.destroyHooks=[]);if(!o&&t.multi){const l=u.indexOf(e);-1===l?u.push(e,[r,c]):u[l+1].push(r,c)}else u.push(e,c)}}}function uw(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function Wf(n,t,e,r){for(let o=e;o<r;o++)if(t[o]===n)return o;return-1}function rP(n,t,e,r){return Kf(this.multi,[])}function oP(n,t,e,r){const o=this.multi;let i;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=da(e,e[1],this.providerFactory.index,r);i=a.slice(0,s),Kf(o,i);for(let c=s;c<a.length;c++)i.push(a[c])}else i=[],Kf(o,i);return i}function Kf(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function ft(n,t=[]){return e=>{e.providersResolver=(r,o)=>function nP(n,t,e){const r=Oe();if(r.firstCreatePass){const o=Mr(n);$f(e,r.data,r.blueprint,o,!0),$f(t,r.data,r.blueprint,o,!1)}}(r,o?o(n):n,t)}}class mi{}class lw{}class dw extends mi{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Pf(this);const r=Yn(t);this._bootstrapComponents=_o(r.bootstrap),this._r3Injector=Xy(t,e,[{provide:mi,useValue:this},{provide:Da,useValue:this.componentFactoryResolver}],Je(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Qf extends lw{constructor(t){super(),this.moduleType=t}create(t){return new dw(this.moduleType,t)}}class aP extends mi{constructor(t,e,r){super(),this.componentFactoryResolver=new Pf(this),this.instance=null;const o=new Oy([...t,{provide:mi,useValue:this},{provide:Da,useValue:this.componentFactoryResolver}],e||Nu(),r,new Set(["environment"]));this.injector=o,o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Ju(n,t,e=null){return new aP(n,t,e).injector}let cP=(()=>{class n{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e.id)){const r=Ry(0,e.type),o=r.length>0?Ju([r],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e.id,o)}return this.cachedInjectors.get(e.id)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=Z({token:n,providedIn:"environment",factory:()=>new n(B(Vo))}),n})();function hw(n){n.getStandaloneInjector=t=>t.get(cP).getOrCreateStandaloneInjector(n)}function _w(n,t,e,r,o){return function ww(n,t,e,r,o,i,s){const a=t+e;return fi(n,a,o,i)?function Qr(n,t,e){return n[t]=e}(n,a+2,s?r.call(s,o,i):r(o,i)):function Ba(n,t){const e=n[t];return e===_e?void 0:e}(n,a+2)}(O(),function Sn(){const n=me.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}(),n,t,e,r,o)}function Jf(n){return t=>{setTimeout(n,void 0,t)}}const It=class PP extends Ue{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,r){let o=t,i=e||(()=>null),s=r;if(t&&"object"==typeof t){const c=t;o=c.next?.bind(c),i=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(i=Jf(i),o&&(o=Jf(o)),s&&(s=Jf(s)));const a=super.subscribe({next:o,error:i,complete:s});return t instanceof Pe&&t.add(a),a}};function OP(){return this._results[hi()]()}class Xf{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=hi(),r=Xf.prototype;r[e]||(r[e]=OP)}get changes(){return this._changes||(this._changes=new It)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const r=this;r.dirty=!1;const o=er(t);(this._changesDetected=!function OA(n,t,e){if(n.length!==t.length)return!1;for(let r=0;r<n.length;r++){let o=n[r],i=t[r];if(e&&(o=e(o),i=e(i)),i!==o)return!1}return!0}(r._results,o,e))&&(r._results=o,r.length=o.length,r.last=o[this.length-1],r.first=o[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Eo=(()=>{class n{}return n.__NG_ELEMENT_ID__=LP,n})();const xP=Eo,FP=class extends xP{constructor(t,e,r){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=r}createEmbeddedView(t,e){const r=this._declarationTContainer.tViews,o=Lu(this._declarationLView,r,t,16,null,r.declTNode,null,null,null,null,e||null);o[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(o[19]=s.createEmbeddedView(r)),bf(r,o,t),new Ra(o)}};function LP(){return Xu(Ut(),O())}function Xu(n,t){return 4&n.type?new FP(t,n,ss(n,t)):null}let xr=(()=>{class n{}return n.__NG_ELEMENT_ID__=UP,n})();function UP(){return Aw(Ut(),O())}const HP=xr,Sw=class extends HP{constructor(t,e,r){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=r}get element(){return ss(this._hostTNode,this._hostLView)}get injector(){return new Yi(this._hostTNode,this._hostLView)}get parentInjector(){const t=mu(this._hostTNode,this._hostLView);if(yv(t)){const e=Qi(t,this._hostLView),r=Ki(t);return new Yi(e[1].data[r+8],e)}return new Yi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Iw(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,r){let o,i;"number"==typeof r?o=r:null!=r&&(o=r.index,i=r.injector);const s=t.createEmbeddedView(e||{},i);return this.insert(s,o),s}createComponent(t,e,r,o,i){const s=t&&!function pa(n){return"function"==typeof n}(t);let a;if(s)a=e;else{const d=e||{};a=d.index,r=d.injector,o=d.projectableNodes,i=d.environmentInjector||d.ngModuleRef}const c=s?t:new ka(ze(t)),u=r||this.parentInjector;if(!i&&null==c.ngModule){const h=(s?u:this.parentInjector).get(Vo,null);h&&(i=h)}const l=c.create(u,o,void 0,i);return this.insert(l.hostView,a),l}insert(t,e){const r=t._lView,o=r[1];if(function tA(n){return Dr(n[3])}(r)){const l=this.indexOf(t);if(-1!==l)this.detach(l);else{const d=r[3],h=new Sw(d,d[6],d[3]);h.detach(h.indexOf(t))}}const i=this._adjustIndex(e),s=this._lContainer;!function kD(n,t,e,r){const o=10+r,i=e.length;r>0&&(e[o-1][4]=t),r<i-10?(t[4]=e[o],Mv(e,10+r,t)):(e.push(t),t[4]=null),t[3]=e;const s=t[17];null!==s&&e!==s&&function ND(n,t){const e=n[9];t[16]!==t[3][3][16]&&(n[2]=!0),null===e?n[9]=[t]:e.push(t)}(s,t);const a=t[19];null!==a&&a.insertView(n),t[2]|=64}(o,r,s,i);const a=Hh(i,s),c=r[11],u=Tu(c,s[7]);return null!==u&&function DD(n,t,e,r,o,i){r[0]=o,r[6]=t,Sa(n,r,e,1,o,i)}(o,s[6],c,r,u,a),t.attachToViewContainerRef(),Mv(Zf(s),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Iw(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),r=Fh(this._lContainer,e);r&&(_u(Zf(this._lContainer),e),ry(r[1],r))}detach(t){const e=this._adjustIndex(t,-1),r=Fh(this._lContainer,e);return r&&null!=_u(Zf(this._lContainer),e)?new Ra(r):null}_adjustIndex(t,e=0){return t??this.length+e}};function Iw(n){return n[8]}function Zf(n){return n[8]||(n[8]=[])}function Aw(n,t){let e;const r=t[n.index];if(Dr(r))e=r;else{let o;if(8&n.type)o=Nt(r);else{const i=t[11];o=i.createComment("");const s=Xn(n,t);ci(i,Tu(i,s),o,function FD(n,t){return n.nextSibling(t)}(i,s),!1)}t[n.index]=e=D_(r,t,o,n),Hu(t,e)}return new Sw(e,n,t)}class ep{constructor(t){this.queryList=t,this.matches=null}clone(){return new ep(this.queryList)}setDirty(){this.queryList.setDirty()}}class tp{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const r=null!==t.contentQueries?t.contentQueries[0]:e.length,o=[];for(let i=0;i<r;i++){const s=e.getByIndex(i);o.push(this.queries[s.indexInDeclarationView].clone())}return new tp(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Nw(t,e).matches&&this.queries[e].setDirty()}}class Dw{constructor(t,e,r=null){this.predicate=t,this.flags=e,this.read=r}}class np{constructor(t=[]){this.queries=t}elementStart(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let r=0;r<this.length;r++){const o=null!==e?e.length:0,i=this.getByIndex(r).embeddedTView(t,o);i&&(i.indexInDeclarationView=r,null!==e?e.push(i):e=[i])}return null!==e?new np(e):null}template(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class rp{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new rp(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==e;)r=r.parent;return e===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){const i=r[o];this.matchTNodeWithReadOption(t,e,jP(e,i)),this.matchTNodeWithReadOption(t,e,yu(e,t,i,!1,!1))}else r===Eo?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,yu(e,t,r,!1,!1))}matchTNodeWithReadOption(t,e,r){if(null!==r){const o=this.metadata.read;if(null!==o)if(o===rr||o===xr||o===Eo&&4&e.type)this.addMatch(e.index,-2);else{const i=yu(e,t,o,!1,!1);null!==i&&this.addMatch(e.index,i)}else this.addMatch(e.index,r)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function jP(n,t){const e=n.localNames;if(null!==e)for(let r=0;r<e.length;r+=2)if(e[r]===t)return e[r+1];return null}function GP(n,t,e,r){return-1===e?function qP(n,t){return 11&n.type?ss(n,t):4&n.type?Xu(n,t):null}(t,n):-2===e?function $P(n,t,e){return e===rr?ss(t,n):e===Eo?Xu(t,n):e===xr?Aw(t,n):void 0}(n,t,r):da(n,n[1],e,t)}function Mw(n,t,e,r){const o=t[19].queries[r];if(null===o.matches){const i=n.data,s=e.matches,a=[];for(let c=0;c<s.length;c+=2){const u=s[c];a.push(u<0?null:GP(t,i[u],s[c+1],e.metadata.read))}o.matches=a}return o.matches}function op(n,t,e,r){const o=n.queries.getByIndex(e),i=o.matches;if(null!==i){const s=Mw(n,t,o,e);for(let a=0;a<i.length;a+=2){const c=i[a];if(c>0)r.push(s[a/2]);else{const u=i[a+1],l=t[-c];for(let d=10;d<l.length;d++){const h=l[d];h[17]===h[3]&&op(h[1],h,u,r)}if(null!==l[9]){const d=l[9];for(let h=0;h<d.length;h++){const g=d[h];op(g[1],g,u,r)}}}}}return r}function Ts(n){const t=O(),e=Oe(),r=cv();ch(r+1);const o=Nw(e,r);if(n.dirty&&function eA(n){return 4==(4&n[2])}(t)===(2==(2&o.metadata.flags))){if(null===o.matches)n.reset([]);else{const i=o.crossesNgTemplate?op(e,t,r,[]):Mw(e,t,o,r);n.reset(i,kM),n.notifyOnChanges()}return!0}return!1}function Zu(n,t,e){const r=Oe();r.firstCreatePass&&(kw(r,new Dw(n,t,e),-1),2==(2&t)&&(r.staticViewQueries=!0)),Rw(r,O(),t)}function ip(n,t,e,r){const o=Oe();if(o.firstCreatePass){const i=Ut();kw(o,new Dw(t,e,r),i.index),function WP(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(o,n),2==(2&e)&&(o.staticContentQueries=!0)}Rw(o,O(),e)}function Ss(){return function zP(n,t){return n[19].queries[t].queryList}(O(),cv())}function Rw(n,t,e){const r=new Xf(4==(4&e));__(n,t,r,r.destroy),null===t[19]&&(t[19]=new tp),t[19].queries.push(new ep(r))}function kw(n,t,e){null===n.queries&&(n.queries=new np),n.queries.track(new rp(t,e))}function Nw(n,t){return n.queries.getByIndex(t)}function Pw(n,t){return Xu(n,t)}function tl(...n){}const nl=new oe("Application Initializer");let rl=(()=>{class n{constructor(e){this.appInits=e,this.resolve=tl,this.reject=tl,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,o)=>{this.resolve=r,this.reject=o})}runInitializers(){if(this.initialized)return;const e=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let o=0;o<this.appInits.length;o++){const i=this.appInits[o]();if(Oa(i))e.push(i);else if(Hf(i)){const s=new Promise((a,c)=>{i.subscribe({complete:a,error:c})});e.push(s)}}Promise.all(e).then(()=>{r()}).catch(o=>{this.reject(o)}),0===e.length&&r(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(B(nl,8))},n.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ga=new oe("AppId",{providedIn:"root",factory:function Xw(){return`${lp()}${lp()}${lp()}`}});function lp(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Zw=new oe("Platform Initializer"),dp=new oe("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),eE=new oe("appBootstrapListener");let f1=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const bo=new oe("LocaleId",{providedIn:"root",factory:()=>At(bo,ae.Optional|ae.SkipSelf)||function p1(){return typeof $localize<"u"&&$localize.locale||bs}()});class m1{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let hp=(()=>{class n{compileModuleSync(e){return new Qf(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const r=this.compileModuleSync(e),i=_o(Yn(e).declarations).reduce((s,a)=>{const c=ze(a);return c&&s.push(new ka(c)),s},[]);return new m1(r,i)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const _1=(()=>Promise.resolve(0))();function fp(n){typeof Zone>"u"?_1.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Bt{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new It(!1),this.onMicrotaskEmpty=new It(!1),this.onStable=new It(!1),this.onError=new It(!1),typeof Zone>"u")throw new G(908,!1);Zone.assertZonePatched();const o=this;if(o._nesting=0,o._outer=o._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const i=Zone.AsyncStackTaggingZoneSpec;o._inner=o._inner.fork(new i("Angular"))}Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&e,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function C1(){let n=tt.requestAnimationFrame,t=tt.cancelAnimationFrame;if(typeof Zone<"u"&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function b1(n){const t=()=>{!function E1(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(tt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,gp(n),n.isCheckStableRunning=!0,pp(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),gp(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,r,o,i,s,a)=>{try{return rE(n),e.invokeTask(o,i,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||n.shouldCoalesceRunChangeDetection)&&t(),oE(n)}},onInvoke:(e,r,o,i,s,a,c)=>{try{return rE(n),e.invoke(o,i,s,a,c)}finally{n.shouldCoalesceRunChangeDetection&&t(),oE(n)}},onHasTask:(e,r,o,i)=>{e.hasTask(o,i),r===o&&("microTask"==i.change?(n._hasPendingMicrotasks=i.microTask,gp(n),pp(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,r,o,i)=>(e.handleError(o,i),n.runOutsideAngular(()=>n.onError.emit(i)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Bt.isInAngularZone())throw new G(909,!1)}static assertNotInAngularZone(){if(Bt.isInAngularZone())throw new G(909,!1)}run(t,e,r){return this._inner.run(t,e,r)}runTask(t,e,r,o){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,t,w1,tl,tl);try{return i.runTask(s,e,r)}finally{i.cancelTask(s)}}runGuarded(t,e,r){return this._inner.runGuarded(t,e,r)}runOutsideAngular(t){return this._outer.run(t)}}const w1={};function pp(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function gp(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function rE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function oE(n){n._nesting--,pp(n)}class T1{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new It,this.onMicrotaskEmpty=new It,this.onStable=new It,this.onError=new It}run(t,e,r){return t.apply(e,r)}runGuarded(t,e,r){return t.apply(e,r)}runOutsideAngular(t){return t()}runTask(t,e,r,o){return t.apply(e,r)}}const iE=new oe(""),ol=new oe("");let yp,mp=(()=>{class n{constructor(e,r,o){this._ngZone=e,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,yp||(function S1(n){yp=n}(o),o.addToWindow(r)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Bt.assertNotInAngularZone(),fp(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())fp(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(e)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,r,o){let i=-1;r&&r>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==i),e(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:e,timeoutId:i,updateCb:o})}whenStable(e,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,r,o){return[]}}return n.\u0275fac=function(e){return new(e||n)(B(Bt),B(vp),B(ol))},n.\u0275prov=Z({token:n,factory:n.\u0275fac}),n})(),vp=(()=>{class n{constructor(){this._applications=new Map}registerApplication(e,r){this._applications.set(e,r)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,r=!0){return yp?.findTestabilityInTree(this,e,r)??null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),qo=null;const sE=new oe("AllowMultipleToken"),_p=new oe("PlatformDestroyListeners");class aE{constructor(t,e){this.name=t,this.token=e}}function uE(n,t,e=[]){const r=`Platform: ${t}`,o=new oe(r);return(i=[])=>{let s=Cp();if(!s||s.injector.get(sE,!1)){const a=[...e,...i,{provide:o,useValue:!0}];n?n(a):function D1(n){if(qo&&!qo.get(sE,!1))throw new G(400,!1);qo=n;const t=n.get(dE);(function cE(n){const t=n.get(Zw,null);t&&t.forEach(e=>e())})(n)}(function lE(n=[],t){return Hn.create({name:t,providers:[{provide:Xh,useValue:"platform"},{provide:_p,useValue:new Set([()=>qo=null])},...n]})}(a,r))}return function R1(n){const t=Cp();if(!t)throw new G(401,!1);return t}()}}function Cp(){return qo?.get(dE)??null}let dE=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,r){const o=function fE(n,t){let e;return e="noop"===n?new T1:("zone.js"===n?void 0:n)||new Bt(t),e}(r?.ngZone,function hE(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),i=[{provide:Bt,useValue:o}];return o.run(()=>{const s=Hn.create({providers:i,parent:this.injector,name:e.moduleType.name}),a=e.create(s),c=a.injector.get(as,null);if(!c)throw new G(402,!1);return o.runOutsideAngular(()=>{const u=o.onError.subscribe({next:l=>{c.handleError(l)}});a.onDestroy(()=>{sl(this._modules,a),u.unsubscribe()})}),function pE(n,t,e){try{const r=e();return Oa(r)?r.catch(o=>{throw t.runOutsideAngular(()=>n.handleError(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>n.handleError(r)),r}}(c,o,()=>{const u=a.injector.get(rl);return u.runInitializers(),u.donePromise.then(()=>(function HC(n){Qn(n,"Expected localeId to be defined"),"string"==typeof n&&(UC=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(bo,bs)||bs),this._moduleDoBootstrap(a),a))})})}bootstrapModule(e,r=[]){const o=gE({},r);return function I1(n,t,e){const r=new Qf(e);return Promise.resolve(r)}(0,0,e).then(i=>this.bootstrapModuleFactory(i,o))}_moduleDoBootstrap(e){const r=e.injector.get(il);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!e.instance.ngDoBootstrap)throw new G(403,!1);e.instance.ngDoBootstrap(r)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new G(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const e=this._injector.get(_p,null);e&&(e.forEach(r=>r()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(B(Hn))},n.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function gE(n,t){return Array.isArray(t)?t.reduce(gE,n):{...n,...t}}let il=(()=>{class n{constructor(e,r,o){this._zone=e,this._injector=r,this._exceptionHandler=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const i=new gt(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),s=new gt(a=>{let c;this._zone.runOutsideAngular(()=>{c=this._zone.onStable.subscribe(()=>{Bt.assertNotInAngularZone(),fp(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const u=this._zone.onUnstable.subscribe(()=>{Bt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{c.unsubscribe(),u.unsubscribe()}});this.isStable=function bI(...n){const t=ta(n),e=function mI(n,t){return"number"==typeof Vd(n)?n.pop():t}(n,1/0),r=n;return r.length?1===r.length?ur(r[0]):Vi(e)(He(r,t)):qr}(i,s.pipe(function TI(n={}){const{connector:t=(()=>new Ue),resetOnError:e=!0,resetOnComplete:r=!0,resetOnRefCountZero:o=!0}=n;return i=>{let s,a,c,u=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},g=()=>{h(),s=c=void 0,l=d=!1},m=()=>{const E=s;g(),E?.unsubscribe()};return bt((E,S)=>{u++,!d&&!l&&h();const T=c=c??t();S.add(()=>{u--,0===u&&!d&&!l&&(a=Bd(m,o))}),T.subscribe(S),!s&&u>0&&(s=new xo({next:N=>T.next(N),error:N=>{d=!0,h(),a=Bd(g,e,N),T.error(N)},complete:()=>{l=!0,h(),a=Bd(g,r),T.complete()}}),ur(E).subscribe(s))})(i)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,r){const o=e instanceof Fy;if(!this._injector.get(rl).done)throw!o&&function ji(n){const t=ze(n)||bn(n)||Tn(n);return null!==t&&t.standalone}(e),new G(405,false);let s;s=o?e:this._injector.get(Da).resolveComponentFactory(e),this.componentTypes.push(s.componentType);const a=function A1(n){return n.isBoundToModule}(s)?void 0:this._injector.get(mi),u=s.create(Hn.NULL,[],r||s.selector,a),l=u.location.nativeElement,d=u.injector.get(iE,null);return d?.registerApplication(l),u.onDestroy(()=>{this.detachView(u.hostView),sl(this.components,u),d?.unregisterApplication(l)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new G(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){const r=e;sl(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(eE,[]).concat(this._bootstrapListeners).forEach(o=>o(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>sl(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new G(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(e){return new(e||n)(B(Bt),B(Vo),B(as))},n.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function sl(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}let vE=!0,al=(()=>{class n{}return n.__NG_ELEMENT_ID__=P1,n})();function P1(n){return function O1(n,t,e){if(su(n)&&!e){const r=Zn(n.index,t);return new Ra(r,r)}return 47&n.type?new Ra(t[16],t):null}(Ut(),O(),16==(16&n))}class EE{constructor(){}supports(t){return Na(t)}create(t){return new V1(t)}}const H1=(n,t)=>t;class V1{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||H1}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,r=this._removalsHead,o=0,i=null;for(;e||r;){const s=!r||e&&e.currentIndex<TE(r,o,i)?e:r,a=TE(s,o,i),c=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(e=e._next,null==s.previousIndex)o++;else{i||(i=[]);const u=a-o,l=c-o;if(u!=l){for(let h=0;h<u;h++){const g=h<i.length?i[h]:i[h]=0,m=g+h;l<=m&&m<u&&(i[h]=g+1)}i[s.previousIndex]=l-u}}a!==c&&t(s,a,c)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Na(t))throw new G(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let o,i,s,e=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)i=t[a],s=this._trackByFn(a,i),null!==e&&Object.is(e.trackById,s)?(r&&(e=this._verifyReinsertion(e,i,s,a)),Object.is(e.item,i)||this._addIdentityChange(e,i)):(e=this._mismatch(e,i,s,a),r=!0),e=e._next}else o=0,function fk(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[hi()]();let r;for(;!(r=e.next()).done;)t(r.value)}}(t,a=>{s=this._trackByFn(o,a),null!==e&&Object.is(e.trackById,s)?(r&&(e=this._verifyReinsertion(e,a,s,o)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,s,o),r=!0),e=e._next,o++}),this.length=o;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,r,o){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,o)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,o))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,o)):t=this._addAfter(new B1(e,r),i,o),t}_verifyReinsertion(t,e,r,o){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==i?t=this._reinsertAfter(i,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const o=t._prevRemoved,i=t._nextRemoved;return null===o?this._removalsHead=i:o._nextRemoved=i,null===i?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(t,e,r),this._addToMoves(t,r),t}_moveAfter(t,e,r){return this._unlink(t),this._insertAfter(t,e,r),this._addToMoves(t,r),t}_addAfter(t,e,r){return this._insertAfter(t,e,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,r){const o=null===e?this._itHead:e._next;return t._next=o,t._prev=e,null===o?this._itTail=t:o._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new bE),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,r=t._next;return null===e?this._itHead=r:e._next=r,null===r?this._itTail=e:r._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new bE),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class B1{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class j1{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===e||e<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const e=t._prevDup,r=t._nextDup;return null===e?this._head=r:e._nextDup=r,null===r?this._tail=e:r._prevDup=e,null===this._head}}class bE{constructor(){this.map=new Map}put(t){const e=t.trackById;let r=this.map.get(e);r||(r=new j1,this.map.set(e,r)),r.add(t)}get(t,e){const o=this.map.get(t);return o?o.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function TE(n,t,e){const r=n.previousIndex;if(null===r)return r;let o=0;return e&&r<e.length&&(o=e[r]),r+t+o}class SE{constructor(){}supports(t){return t instanceof Map||xf(t)}create(){return new q1}}class q1{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||xf(t)))throw new G(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,o)=>{if(e&&e.key===o)this._maybeAddToChanges(e,r),this._appendAfter=e,e=e._next;else{const i=this._getOrCreateRecordForKey(o,r);e=this._insertBeforeOrAppend(e,i)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let r=e;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const r=t._prev;return e._next=t,e._prev=r,t._prev=e,r&&(r._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const o=this._records.get(t);this._maybeAddToChanges(o,e);const i=o._prev,s=o._next;return i&&(i._next=s),s&&(s._prev=i),o._next=null,o._prev=null,o}const r=new G1(t);return this._records.set(t,r),r.currentValue=e,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(r=>e(t[r],r))}}class G1{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function IE(){return new ll([new EE])}let ll=(()=>{class n{constructor(e){this.factories=e}static create(e,r){if(null!=r){const o=r.factories.slice();e=e.concat(o)}return new n(e)}static extend(e){return{provide:n,useFactory:r=>n.create(e,r||IE()),deps:[[n,new Ca,new _a]]}}find(e){const r=this.factories.find(o=>o.supports(e));if(null!=r)return r;throw new G(901,!1)}}return n.\u0275prov=Z({token:n,providedIn:"root",factory:IE}),n})();function AE(){return new $a([new SE])}let $a=(()=>{class n{constructor(e){this.factories=e}static create(e,r){if(r){const o=r.factories.slice();e=e.concat(o)}return new n(e)}static extend(e){return{provide:n,useFactory:r=>n.create(e,r||AE()),deps:[[n,new Ca,new _a]]}}find(e){const r=this.factories.find(o=>o.supports(e));if(r)return r;throw new G(901,!1)}}return n.\u0275prov=Z({token:n,providedIn:"root",factory:AE}),n})();const W1=uE(null,"core",[]);let K1=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(B(il))},n.\u0275mod=xn({type:n}),n.\u0275inj=En({}),n})();function So(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let dl=null;function Zr(){return dl}const zt=new oe("DocumentToken");let Sp=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Z({token:n,factory:function(){return function X1(){return B(DE)}()},providedIn:"platform"}),n})();const Z1=new oe("Location Initialized");let DE=(()=>{class n extends Sp{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Zr().getBaseHref(this._doc)}onPopState(e){const r=Zr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=Zr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,r,o){ME()?this._history.pushState(e,r,o):this.location.hash=o}replaceState(e,r,o){ME()?this._history.replaceState(e,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(B(zt))},n.\u0275prov=Z({token:n,factory:function(){return function eO(){return new DE(B(zt))}()},providedIn:"platform"}),n})();function ME(){return!!window.history.pushState}function Ip(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function RE(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Io(n){return n&&"?"!==n[0]?"?"+n:n}let yi=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Z({token:n,factory:function(){return At(NE)},providedIn:"root"}),n})();const kE=new oe("appBaseHref");let NE=(()=>{class n extends yi{constructor(e,r){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??At(zt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Ip(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+Io(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${r}${o}`:r}pushState(e,r,o,i){const s=this.prepareExternalUrl(o+Io(i));this._platformLocation.pushState(e,r,s)}replaceState(e,r,o,i){const s=this.prepareExternalUrl(o+Io(i));this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(B(Sp),B(kE,8))},n.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tO=(()=>{class n extends yi{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=Ip(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,o,i){let s=this.prepareExternalUrl(o+Io(i));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,r,s)}replaceState(e,r,o,i){let s=this.prepareExternalUrl(o+Io(i));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(B(Sp),B(kE,8))},n.\u0275prov=Z({token:n,factory:n.\u0275fac}),n})(),Ds=(()=>{class n{constructor(e){this._subject=new It,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const r=this._locationStrategy.getBaseHref();this._baseHref=RE(PE(r)),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+Io(r))}normalize(e){return n.stripTrailingSlash(function rO(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,PE(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",o=null){this._locationStrategy.pushState(o,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Io(r)),o)}replaceState(e,r="",o=null){this._locationStrategy.replaceState(o,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Io(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(o=>o(e,r))}subscribe(e,r,o){return this._subject.subscribe({next:e,error:r,complete:o})}}return n.normalizeQueryParams=Io,n.joinWithSlash=Ip,n.stripTrailingSlash=RE,n.\u0275fac=function(e){return new(e||n)(B(yi))},n.\u0275prov=Z({token:n,factory:function(){return function nO(){return new Ds(B(yi))}()},providedIn:"root"}),n})();function PE(n){return n.replace(/\/index.html$/,"")}function jE(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const r=e.indexOf("="),[o,i]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(o.trim()===t)return decodeURIComponent(i)}return null}let qE=(()=>{class n{constructor(e,r,o,i){this._iterableDiffers=e,this._keyValueDiffers=r,this._ngEl=o,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Na(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),e.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),e.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Je(r.item)}`);this._toggleClass(r.item,!0)}),e.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(r=>this._toggleClass(r,!0)):Object.keys(e).forEach(r=>this._toggleClass(r,!!e[r])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(r=>this._toggleClass(r,!1)):Object.keys(e).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(e,r){(e=e.trim())&&e.split(/\s+/g).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return n.\u0275fac=function(e){return new(e||n)(R(ll),R($a),R(rr),R(yo))},n.\u0275dir=de({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class BO{constructor(t,e,r,o){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let wl=(()=>{class n{constructor(e,r,o){this._viewContainer=e,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((o,i,s)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new BO(o.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===i?void 0:i);else if(null!==i){const a=r.get(i);r.move(a,s),zE(a,o)}});for(let o=0,i=r.length;o<i;o++){const a=r.get(o).context;a.index=o,a.count=i,a.ngForOf=this._ngForOf}e.forEachIdentityChange(o=>{zE(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(R(xr),R(Eo),R(ll))},n.\u0275dir=de({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function zE(n,t){n.context.$implicit=t.item}let Ms=(()=>{class n{constructor(e,r){this._viewContainer=e,this._context=new qO,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){WE("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){WE("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(R(xr),R(Eo))},n.\u0275dir=de({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class qO{constructor(){this.$implicit=null,this.ngIf=null}}function WE(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Je(t)}'.`)}let YE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=xn({type:n}),n.\u0275inj=En({}),n})();let _x=(()=>{class n{}return n.\u0275prov=Z({token:n,providedIn:"root",factory:()=>new Cx(B(zt),window)}),n})();class Cx{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function wx(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const i=o.shadowRoot;if(i){const s=i.getElementById(t)||i.querySelector(`[name="${t}"]`);if(s)return s}o=r.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,o=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(r-i[0],o-i[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=XE(this.window.history)||XE(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function XE(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class ZE{}class jp extends class Hx extends class J1{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function Y1(n){dl||(dl=n)}(new jp)}onAndCancel(t,e,r){return t.addEventListener(e,r,!1),()=>{t.removeEventListener(e,r,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Vx(){return Qa=Qa||document.querySelector("base"),Qa?Qa.getAttribute("href"):null}();return null==e?null:function Bx(n){bl=bl||document.createElement("a"),bl.setAttribute("href",n);const t=bl.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Qa=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return jE(document.cookie,t)}}let bl,Qa=null;const rb=new oe("TRANSITION_ID"),qx=[{provide:nl,useFactory:function jx(n,t,e){return()=>{e.get(rl).donePromise.then(()=>{const r=Zr(),o=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let i=0;i<o.length;i++)r.remove(o[i])})}},deps:[rb,zt,Hn],multi:!0}];let $x=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Z({token:n,factory:n.\u0275fac}),n})();const Tl=new oe("EventManagerPlugins");let Sl=(()=>{class n{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(o=>o.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,r,o){return this._findPluginFor(r).addEventListener(e,r,o)}addGlobalEventListener(e,r,o){return this._findPluginFor(r).addGlobalEventListener(e,r,o)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const o=this._plugins;for(let i=0;i<o.length;i++){const s=o[i];if(s.supports(e))return this._eventNameToPlugin.set(e,s),s}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(B(Tl),B(Bt))},n.\u0275prov=Z({token:n,factory:n.\u0275fac}),n})();class ob{constructor(t){this._doc=t}addGlobalEventListener(t,e,r){const o=Zr().getGlobalEventTarget(this._doc,t);if(!o)throw new Error(`Unsupported event target ${o} for event ${e}`);return this.addEventListener(o,e,r)}}let ib=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const r=new Set;e.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Z({token:n,factory:n.\u0275fac}),n})(),Ya=(()=>{class n extends ib{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,r,o){e.forEach(i=>{const s=this._doc.createElement("style");s.textContent=i,o.push(r.appendChild(s))})}addHost(e){const r=[];this._addStylesToHost(this._stylesSet,e,r),this._hostNodes.set(e,r)}removeHost(e){const r=this._hostNodes.get(e);r&&r.forEach(sb),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(e,o,r)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(sb))}}return n.\u0275fac=function(e){return new(e||n)(B(zt))},n.\u0275prov=Z({token:n,factory:n.\u0275fac}),n})();function sb(n){Zr().remove(n)}const qp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Gp=/%COMP%/g;function Il(n,t,e){for(let r=0;r<t.length;r++){let o=t[r];Array.isArray(o)?Il(n,o,e):(o=o.replace(Gp,n),e.push(o))}return e}function ub(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let $p=(()=>{class n{constructor(e,r,o){this.eventManager=e,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new zp(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;switch(r.encapsulation){case Gr.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new Jx(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(e),o}case 1:case Gr.ShadowDom:return new Xx(this.eventManager,this.sharedStylesHost,e,r);default:if(!this.rendererByCompId.has(r.id)){const o=Il(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(B(Sl),B(Ya),B(Ga))},n.\u0275prov=Z({token:n,factory:n.\u0275fac}),n})();class zp{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(qp[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(db(t)?t.content:t).appendChild(e)}insertBefore(t,e,r){t&&(db(t)?t.content:t).insertBefore(e,r)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,o){if(o){e=o+":"+e;const i=qp[o];i?t.setAttributeNS(i,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){const o=qp[r];o?t.removeAttributeNS(o,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,o){o&(Un.DashCase|Un.Important)?t.style.setProperty(e,r,o&Un.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&Un.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t[e]=r}setValue(t,e){t.nodeValue=e}listen(t,e,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,ub(r)):this.eventManager.addEventListener(t,e,ub(r))}}function db(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Jx extends zp{constructor(t,e,r,o){super(t),this.component=r;const i=Il(o+"-"+r.id,r.styles,[]);e.addStyles(i),this.contentAttr=function Kx(n){return"_ngcontent-%COMP%".replace(Gp,n)}(o+"-"+r.id),this.hostAttr=function Qx(n){return"_nghost-%COMP%".replace(Gp,n)}(o+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}}class Xx extends zp{constructor(t,e,r,o){super(t),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=Il(o.id,o.styles,[]);for(let s=0;s<i.length;s++){const a=document.createElement("style");a.textContent=i[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Zx=(()=>{class n extends ob{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,o){return e.addEventListener(r,o,!1),()=>this.removeEventListener(e,r,o)}removeEventListener(e,r,o){return e.removeEventListener(r,o)}}return n.\u0275fac=function(e){return new(e||n)(B(zt))},n.\u0275prov=Z({token:n,factory:n.\u0275fac}),n})();const hb=["alt","control","meta","shift"],eF={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},tF={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let nF=(()=>{class n extends ob{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,r,o){const i=n.parseEventName(r),s=n.eventCallback(i.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Zr().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const r=e.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const i=n._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),hb.forEach(u=>{const l=r.indexOf(u);l>-1&&(r.splice(l,1),s+=u+".")}),s+=i,0!=r.length||0===i.length)return null;const c={};return c.domEventName=o,c.fullKey=s,c}static matchEventFullKeyCode(e,r){let o=eF[e.key]||e.key,i="";return r.indexOf("code.")>-1&&(o=e.code,i="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),hb.forEach(s=>{s!==o&&(0,tF[s])(e)&&(i+=s+".")}),i+=o,i===r)}static eventCallback(e,r,o){return i=>{n.matchEventFullKeyCode(i,e)&&o.runGuarded(()=>r(i))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(B(zt))},n.\u0275prov=Z({token:n,factory:n.\u0275fac}),n})();const pb=[{provide:dp,useValue:"browser"},{provide:Zw,useValue:function rF(){jp.makeCurrent()},multi:!0},{provide:zt,useFactory:function iF(){return function qD(n){Gh=n}(document),document},deps:[]}],sF=uE(W1,"browser",pb),gb=new oe(""),mb=[{provide:ol,useClass:class Gx{addToWindow(t){tt.getAngularTestability=(r,o=!0)=>{const i=t.findTestabilityInTree(r,o);if(null==i)throw new Error("Could not find testability for element.");return i},tt.getAllAngularTestabilities=()=>t.getAllTestabilities(),tt.getAllAngularRootElements=()=>t.getAllRootElements(),tt.frameworkStabilizers||(tt.frameworkStabilizers=[]),tt.frameworkStabilizers.push(r=>{const o=tt.getAllAngularTestabilities();let i=o.length,s=!1;const a=function(c){s=s||c,i--,0==i&&r(s)};o.forEach(function(c){c.whenStable(a)})})}findTestabilityInTree(t,e,r){return null==e?null:t.getTestability(e)??(r?Zr().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:iE,useClass:mp,deps:[Bt,vp,ol]},{provide:mp,useClass:mp,deps:[Bt,vp,ol]}],vb=[{provide:Xh,useValue:"root"},{provide:as,useFactory:function oF(){return new as},deps:[]},{provide:Tl,useClass:Zx,multi:!0,deps:[zt,Bt,dp]},{provide:Tl,useClass:nF,multi:!0,deps:[zt]},{provide:$p,useClass:$p,deps:[Sl,Ya,Ga]},{provide:Uy,useExisting:$p},{provide:ib,useExisting:Ya},{provide:Ya,useClass:Ya,deps:[zt]},{provide:Sl,useClass:Sl,deps:[Tl,Bt]},{provide:ZE,useClass:$x,deps:[]},[]];let yb=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:Ga,useValue:e.appId},{provide:rb,useExisting:Ga},qx]}}}return n.\u0275fac=function(e){return new(e||n)(B(gb,12))},n.\u0275mod=xn({type:n}),n.\u0275inj=En({providers:[...vb,...mb],imports:[YE,K1]}),n})(),_b=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(B(zt))},n.\u0275prov=Z({token:n,factory:function(e){let r=null;return r=e?new e:function cF(){return new _b(B(zt))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let Eb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Z({token:n,factory:function(e){let r=null;return r=e?new(e||n):B(bb),r},providedIn:"root"}),n})(),bb=(()=>{class n extends Eb{constructor(e){super(),this._doc=e}sanitize(e,r){if(null==r)return null;switch(e){case rt.NONE:return r;case rt.HTML:return Wr(r,"HTML")?nr(r):Sy(this._doc,String(r)).toString();case rt.STYLE:return Wr(r,"Style")?nr(r):r;case rt.SCRIPT:if(Wr(r,"Script"))return nr(r);throw new Error("unsafe value used in a script context");case rt.URL:return Wr(r,"URL")?nr(r):Mu(String(r));case rt.RESOURCE_URL:if(Wr(r,"ResourceURL"))return nr(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return function YD(n){return new GD(n)}(e)}bypassSecurityTrustStyle(e){return function JD(n){return new $D(n)}(e)}bypassSecurityTrustScript(e){return function XD(n){return new zD(n)}(e)}bypassSecurityTrustUrl(e){return function ZD(n){return new WD(n)}(e)}bypassSecurityTrustResourceUrl(e){return function eM(n){return new KD(n)}(e)}}return n.\u0275fac=function(e){return new(e||n)(B(zt))},n.\u0275prov=Z({token:n,factory:function(e){let r=null;return r=e?new e:function gF(n){return new bb(n.get(zt))}(B(Hn)),r},providedIn:"root"}),n})();function te(...n){return He(n,ta(n))}class yr extends Ue{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:r}=this;if(t)throw e;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}const Al=sn(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:mF}=Array,{getPrototypeOf:vF,prototype:yF,keys:_F}=Object;function Tb(n){if(1===n.length){const t=n[0];if(mF(t))return{args:t,keys:null};if(function CF(n){return n&&"object"==typeof n&&vF(n)===yF}(t)){const e=_F(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}const{isArray:wF}=Array;function Sb(n){return we(t=>function EF(n,t){return wF(t)?n(...t):n(t)}(n,t))}function Ib(n,t){return n.reduce((e,r,o)=>(e[r]=t[o],e),{})}function Ab(...n){const t=ta(n),e=Um(n),{args:r,keys:o}=Tb(n);if(0===r.length)return He([],t);const i=new gt(function bF(n,t,e=uo){return r=>{Db(t,()=>{const{length:o}=n,i=new Array(o);let s=o,a=o;for(let c=0;c<o;c++)Db(t,()=>{const u=He(n[c],t);let l=!1;u.subscribe(mt(r,d=>{i[c]=d,l||(l=!0,a--),a||r.next(e(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,t,o?s=>Ib(o,s):uo));return e?i.pipe(Sb(e)):i}function Db(n,t,e){n?lo(e,n,t):t()}function Qp(...n){return function TF(){return Vi(1)}()(He(n,ta(n)))}function Mb(n){return new gt(t=>{ur(n()).subscribe(t)})}function Rs(n,t){const e=ne(n)?n:()=>n,r=o=>o.error(e());return new gt(t?o=>t.schedule(r,0,o):r)}function Yp(){return bt((n,t)=>{let e=null;n._refCount++;const r=mt(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const o=n._connection,i=e;e=null,o&&(!i||o===i)&&o.unsubscribe(),t.unsubscribe()});n.subscribe(r),r.closed||(e=n.connect())})}class Rb extends gt{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,Zs(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Pe;const e=this.getSubject();t.add(this.source.subscribe(mt(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Pe.EMPTY)}return t}refCount(){return Yp()(this)}}function kn(n,t){return bt((e,r)=>{let o=null,i=0,s=!1;const a=()=>s&&!o&&r.complete();e.subscribe(mt(r,c=>{o?.unsubscribe();let u=0;const l=i++;ur(n(c,l)).subscribe(o=mt(r,d=>r.next(t?t(c,d,l,u++):d),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function $o(n){return n<=0?()=>qr:bt((t,e)=>{let r=0;t.subscribe(mt(e,o=>{++r<=n&&(e.next(o),n<=r&&e.complete())}))})}function mn(n,t){return bt((e,r)=>{let o=0;e.subscribe(mt(r,i=>n.call(t,i,o++)&&r.next(i)))})}function Dl(n){return bt((t,e)=>{let r=!1;t.subscribe(mt(e,o=>{r=!0,e.next(o)},()=>{r||e.next(n),e.complete()}))})}function kb(n=IF){return bt((t,e)=>{let r=!1;t.subscribe(mt(e,o=>{r=!0,e.next(o)},()=>r?e.complete():e.error(n())))})}function IF(){return new Al}function zo(n,t){const e=arguments.length>=2;return r=>r.pipe(n?mn((o,i)=>n(o,i,r)):uo,$o(1),e?Dl(t):kb(()=>new Al))}function eo(n,t){return ne(t)?Yt(n,t,1):Yt(n,1)}function vn(n,t,e){const r=ne(n)||t||e?{next:n,error:t,complete:e}:n;return r?bt((o,i)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;o.subscribe(mt(i,c=>{var u;null===(u=r.next)||void 0===u||u.call(r,c),i.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),i.complete()},c=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,c),i.error(c)},()=>{var c,u;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):uo}function to(n){return bt((t,e)=>{let i,r=null,o=!1;r=t.subscribe(mt(e,void 0,void 0,s=>{i=ur(n(s,to(n)(t))),r?(r.unsubscribe(),r=null,i.subscribe(e)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(e))})}function AF(n,t,e,r,o){return(i,s)=>{let a=e,c=t,u=0;i.subscribe(mt(s,l=>{const d=u++;c=a?n(c,l,d):(a=!0,l),r&&s.next(c)},o&&(()=>{a&&s.next(c),s.complete()})))}}function Nb(n,t){return bt(AF(n,t,arguments.length>=2,!0))}function Jp(n){return n<=0?()=>qr:bt((t,e)=>{let r=[];t.subscribe(mt(e,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)e.next(o);e.complete()},void 0,()=>{r=null}))})}function Pb(n,t){const e=arguments.length>=2;return r=>r.pipe(n?mn((o,i)=>n(o,i,r)):uo,Jp(1),e?Dl(t):kb(()=>new Al))}function Xp(n){return bt((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const Se="primary",Ja=Symbol("RouteTitle");class RF{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function ks(n){return new RF(n)}function kF(n,t,e){const r=e.path.split("/");if(r.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||r.length<n.length))return null;const o={};for(let i=0;i<r.length;i++){const s=r[i],a=n[i];if(s.startsWith(":"))o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function no(n,t){const e=n?Object.keys(n):void 0,r=t?Object.keys(t):void 0;if(!e||!r||e.length!=r.length)return!1;let o;for(let i=0;i<e.length;i++)if(o=e[i],!Ob(n[o],t[o]))return!1;return!0}function Ob(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),r=[...t].sort();return e.every((o,i)=>r[i]===o)}return n===t}function xb(n){return Array.prototype.concat.apply([],n)}function Fb(n){return n.length>0?n[n.length-1]:null}function Zt(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Wo(n){return Hf(n)?n:Oa(n)?He(Promise.resolve(n)):te(n)}const OF={exact:function Hb(n,t,e){if(!Ci(n.segments,t.segments)||!Ml(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!n.children[r]||!Hb(n.children[r],t.children[r],e))return!1;return!0},subset:Vb},Lb={exact:function xF(n,t){return no(n,t)},subset:function FF(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Ob(n[e],t[e]))},ignored:()=>!0};function Ub(n,t,e){return OF[e.paths](n.root,t.root,e.matrixParams)&&Lb[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Vb(n,t,e){return Bb(n,t,t.segments,e)}function Bb(n,t,e,r){if(n.segments.length>e.length){const o=n.segments.slice(0,e.length);return!(!Ci(o,e)||t.hasChildren()||!Ml(o,e,r))}if(n.segments.length===e.length){if(!Ci(n.segments,e)||!Ml(n.segments,e,r))return!1;for(const o in t.children)if(!n.children[o]||!Vb(n.children[o],t.children[o],r))return!1;return!0}{const o=e.slice(0,n.segments.length),i=e.slice(n.segments.length);return!!(Ci(n.segments,o)&&Ml(n.segments,o,r)&&n.children[Se])&&Bb(n.children[Se],t,i,r)}}function Ml(n,t,e){return t.every((r,o)=>Lb[e](n[o].parameters,r.parameters))}class _i{constructor(t,e,r){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ks(this.queryParams)),this._queryParamMap}toString(){return HF.serialize(this)}}class De{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Zt(e,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Rl(this)}}class Xa{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=ks(this.parameters)),this._parameterMap}toString(){return $b(this)}}function Ci(n,t){return n.length===t.length&&n.every((e,r)=>e.path===t[r].path)}let jb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Z({token:n,factory:function(){return new eg},providedIn:"root"}),n})();class eg{parse(t){const e=new KF(t);return new _i(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Za(t.root,!0)}`,r=function jF(n){const t=Object.keys(n).map(e=>{const r=n[e];return Array.isArray(r)?r.map(o=>`${kl(e)}=${kl(o)}`).join("&"):`${kl(e)}=${kl(r)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${r}${"string"==typeof t.fragment?`#${function VF(n){return encodeURI(n)}(t.fragment)}`:""}`}}const HF=new eg;function Rl(n){return n.segments.map(t=>$b(t)).join("/")}function Za(n,t){if(!n.hasChildren())return Rl(n);if(t){const e=n.children[Se]?Za(n.children[Se],!1):"",r=[];return Zt(n.children,(o,i)=>{i!==Se&&r.push(`${i}:${Za(o,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function UF(n,t){let e=[];return Zt(n.children,(r,o)=>{o===Se&&(e=e.concat(t(r,o)))}),Zt(n.children,(r,o)=>{o!==Se&&(e=e.concat(t(r,o)))}),e}(n,(r,o)=>o===Se?[Za(n.children[Se],!1)]:[`${o}:${Za(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Se]?`${Rl(n)}/${e[0]}`:`${Rl(n)}/(${e.join("//")})`}}function qb(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function kl(n){return qb(n).replace(/%3B/gi,";")}function tg(n){return qb(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Nl(n){return decodeURIComponent(n)}function Gb(n){return Nl(n.replace(/\+/g,"%20"))}function $b(n){return`${tg(n.path)}${function BF(n){return Object.keys(n).map(t=>`;${tg(t)}=${tg(n[t])}`).join("")}(n.parameters)}`}const qF=/^[^\/()?;=#]+/;function Pl(n){const t=n.match(qF);return t?t[0]:""}const GF=/^[^=?&#]+/,zF=/^[^&#]+/;class KF{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new De([],{}):new De([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[Se]=new De(t,e)),r}parseSegment(){const t=Pl(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new G(4009,!1);return this.capture(t),new Xa(Nl(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Pl(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const o=Pl(this.remaining);o&&(r=o,this.capture(r))}t[Nl(e)]=Nl(r)}parseQueryParam(t){const e=function $F(n){const t=n.match(GF);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const s=function WF(n){const t=n.match(zF);return t?t[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const o=Gb(e),i=Gb(r);if(t.hasOwnProperty(o)){let s=t[o];Array.isArray(s)||(s=[s],t[o]=s),s.push(i)}else t[o]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Pl(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new G(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Se);const s=this.parseChildren();e[i]=1===Object.keys(s).length?s[Se]:new De([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new G(4011,!1)}}function ng(n){return n.segments.length>0?new De([],{[Se]:n}):n}function Ol(n){const t={};for(const r of Object.keys(n.children)){const i=Ol(n.children[r]);(i.segments.length>0||i.hasChildren())&&(t[r]=i)}return function QF(n){if(1===n.numberOfChildren&&n.children[Se]){const t=n.children[Se];return new De(n.segments.concat(t.segments),t.children)}return n}(new De(n.segments,t))}function wi(n){return n instanceof _i}function XF(n,t,e,r,o){if(0===e.length)return Ns(t.root,t.root,t.root,r,o);const i=function Kb(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Wb(!0,0,n);let t=0,e=!1;const r=n.reduce((o,i,s)=>{if("object"==typeof i&&null!=i){if(i.outlets){const a={};return Zt(i.outlets,(c,u)=>{a[u]="string"==typeof c?c.split("/"):c}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return"string"!=typeof i?[...o,i]:0===s?(i.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?e=!0:".."===a?t++:""!=a&&o.push(a))}),o):[...o,i]},[]);return new Wb(e,t,r)}(e);return i.toRoot()?Ns(t.root,t.root,new De([],{}),r,o):function s(c){const u=function e2(n,t,e,r){if(n.isAbsolute)return new Ps(t.root,!0,0);if(-1===r)return new Ps(e,e===t.root,0);return function Qb(n,t,e){let r=n,o=t,i=e;for(;i>o;){if(i-=o,r=r.parent,!r)throw new G(4005,!1);o=r.segments.length}return new Ps(r,!1,o-i)}(e,r+(ec(n.commands[0])?0:1),n.numberOfDoubleDots)}(i,t,n.snapshot?._urlSegment,c),l=u.processChildren?nc(u.segmentGroup,u.index,i.commands):og(u.segmentGroup,u.index,i.commands);return Ns(t.root,u.segmentGroup,l,r,o)}(n.snapshot?._lastPathIndex)}function ec(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function tc(n){return"object"==typeof n&&null!=n&&n.outlets}function Ns(n,t,e,r,o){let s,i={};r&&Zt(r,(c,u)=>{i[u]=Array.isArray(c)?c.map(l=>`${l}`):`${c}`}),s=n===t?e:zb(n,t,e);const a=ng(Ol(s));return new _i(a,i,o)}function zb(n,t,e){const r={};return Zt(n.children,(o,i)=>{r[i]=o===t?e:zb(o,t,e)}),new De(n.segments,r)}class Wb{constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&ec(r[0]))throw new G(4003,!1);const o=r.find(tc);if(o&&o!==Fb(r))throw new G(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ps{constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}}function og(n,t,e){if(n||(n=new De([],{})),0===n.segments.length&&n.hasChildren())return nc(n,t,e);const r=function n2(n,t,e){let r=0,o=t;const i={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=e.length)return i;const s=n.segments[o],a=e[r];if(tc(a))break;const c=`${a}`,u=r<e.length-1?e[r+1]:null;if(o>0&&void 0===c)break;if(c&&u&&"object"==typeof u&&void 0===u.outlets){if(!Jb(c,u,s))return i;r+=2}else{if(!Jb(c,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,t,e),o=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const i=new De(n.segments.slice(0,r.pathIndex),{});return i.children[Se]=new De(n.segments.slice(r.pathIndex),n.children),nc(i,0,o)}return r.match&&0===o.length?new De(n.segments,{}):r.match&&!n.hasChildren()?ig(n,t,e):r.match?nc(n,0,o):ig(n,t,e)}function nc(n,t,e){if(0===e.length)return new De(n.segments,{});{const r=function t2(n){return tc(n[0])?n[0].outlets:{[Se]:n}}(e),o={};return Zt(r,(i,s)=>{"string"==typeof i&&(i=[i]),null!==i&&(o[s]=og(n.children[s],t,i))}),Zt(n.children,(i,s)=>{void 0===r[s]&&(o[s]=i)}),new De(n.segments,o)}}function ig(n,t,e){const r=n.segments.slice(0,t);let o=0;for(;o<e.length;){const i=e[o];if(tc(i)){const c=r2(i.outlets);return new De(r,c)}if(0===o&&ec(e[0])){r.push(new Xa(n.segments[t].path,Yb(e[0]))),o++;continue}const s=tc(i)?i.outlets[Se]:`${i}`,a=o<e.length-1?e[o+1]:null;s&&a&&ec(a)?(r.push(new Xa(s,Yb(a))),o+=2):(r.push(new Xa(s,{})),o++)}return new De(r,{})}function r2(n){const t={};return Zt(n,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[r]=ig(new De([],{}),0,e))}),t}function Yb(n){const t={};return Zt(n,(e,r)=>t[r]=`${e}`),t}function Jb(n,t,e){return n==e.path&&no(t,e.parameters)}class Do{constructor(t,e){this.id=t,this.url=e}}class sg extends Do{constructor(t,e,r="imperative",o=null){super(t,e),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ei extends Do{constructor(t,e,r){super(t,e),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class xl extends Do{constructor(t,e,r,o){super(t,e),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Xb extends Do{constructor(t,e,r,o){super(t,e),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class o2 extends Do{constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class i2 extends Do{constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class s2 extends Do{constructor(t,e,r,o,i){super(t,e),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class a2 extends Do{constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class c2 extends Do{constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class u2{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class l2{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class d2{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class h2{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class f2{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class p2{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zb{constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class e0{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=ag(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){const e=ag(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=cg(t,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return cg(t,this._root).map(e=>e.value)}}function ag(n,t){if(n===t.value)return t;for(const e of t.children){const r=ag(n,e);if(r)return r}return null}function cg(n,t){if(n===t.value)return[t];for(const e of t.children){const r=cg(n,e);if(r.length)return r.unshift(t),r}return[]}class Mo{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Os(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class t0 extends e0{constructor(t,e){super(t),this.snapshot=e,ug(this,t)}toString(){return this.snapshot.toString()}}function n0(n,t){const e=function m2(n,t){const s=new Fl([],{},{},"",{},Se,t,null,n.root,-1,{});return new o0("",new Mo(s,[]))}(n,t),r=new yr([new Xa("",{})]),o=new yr({}),i=new yr({}),s=new yr({}),a=new yr(""),c=new bi(r,o,s,a,i,Se,t,e.root);return c.snapshot=e.root,new t0(new Mo(c,[]),e)}class bi{constructor(t,e,r,o,i,s,a,c){this.url=t,this.params=e,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.title=this.data?.pipe(we(u=>u[Ja]))??te(void 0),this._futureSnapshot=c}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(we(t=>ks(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(we(t=>ks(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function r0(n,t="emptyOnly"){const e=n.pathFromRoot;let r=0;if("always"!==t)for(r=e.length-1;r>=1;){const o=e[r],i=e[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(i.component)break;r--}}return function v2(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(r))}class Fl{constructor(t,e,r,o,i,s,a,c,u,l,d,h){this.url=t,this.params=e,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.title=this.data?.[Ja],this.routeConfig=c,this._urlSegment=u,this._lastPathIndex=l,this._correctedLastPathIndex=h??l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ks(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ks(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class o0 extends e0{constructor(t,e){super(e),this.url=t,ug(this,e)}toString(){return s0(this._root)}}function ug(n,t){t.value._routerState=n,t.children.forEach(e=>ug(n,e))}function s0(n){const t=n.children.length>0?` { ${n.children.map(s0).join(", ")} } `:"";return`${n.value}${t}`}function lg(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,no(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),no(t.params,e.params)||n.params.next(e.params),function NF(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!no(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),no(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function dg(n,t){const e=no(n.params,t.params)&&function LF(n,t){return Ci(n,t)&&n.every((e,r)=>no(e.parameters,t[r].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||dg(n.parent,t.parent))}function rc(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=t.value;const o=function _2(n,t,e){return t.children.map(r=>{for(const o of e.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return rc(n,r,o);return rc(n,r)})}(n,t,e);return new Mo(r,o)}{if(n.shouldAttach(t.value)){const i=n.retrieve(t.value);if(null!==i){const s=i.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>rc(n,a)),s}}const r=function C2(n){return new bi(new yr(n.url),new yr(n.params),new yr(n.queryParams),new yr(n.fragment),new yr(n.data),n.outlet,n.component,n)}(t.value),o=t.children.map(i=>rc(n,i));return new Mo(r,o)}}const hg="ngNavigationCancelingError";function a0(n,t){const{redirectTo:e,navigationBehaviorOptions:r}=wi(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=c0(!1,0,t);return o.url=e,o.navigationBehaviorOptions=r,o}function c0(n,t,e){const r=new Error("NavigationCancelingError: "+(n||""));return r[hg]=!0,r.cancellationCode=t,e&&(r.url=e),r}function u0(n){return l0(n)&&wi(n.url)}function l0(n){return n&&n[hg]}class w2{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new oc,this.attachRef=null}}let oc=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,r){const o=this.getOrCreateContext(e);o.outlet=r,this.contexts.set(e,o)}onChildOutletDestroyed(e){const r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new w2,this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ll=!1;let fg=(()=>{class n{constructor(e,r,o,i,s){this.parentContexts=e,this.location=r,this.changeDetector=i,this.environmentInjector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new It,this.deactivateEvents=new It,this.attachEvents=new It,this.detachEvents=new It,this.name=o||Se,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new G(4012,Ll);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new G(4012,Ll);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new G(4012,Ll);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new G(4013,Ll);this._activatedRoute=e;const o=this.location,s=e._futureSnapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new E2(e,a,o.injector);if(r&&function b2(n){return!!n.resolveComponentFactory}(r)){const u=r.resolveComponentFactory(s);this.activated=o.createComponent(u,o.length,c)}else this.activated=o.createComponent(s,{index:o.length,injector:c,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(R(oc),R(xr),ha("name"),R(al),R(Vo))},n.\u0275dir=de({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class E2{constructor(t,e,r){this.route=t,this.childContexts=e,this.parent=r}get(t,e){return t===bi?this.route:t===oc?this.childContexts:this.parent.get(t,e)}}let pg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ir({type:n,selectors:[["ng-component"]],standalone:!0,features:[hw],decls:1,vars:0,template:function(e,r){1&e&&P(0,"router-outlet")},dependencies:[fg],encapsulation:2}),n})();function d0(n,t){return n.providers&&!n._injector&&(n._injector=Ju(n.providers,t,`Route: ${n.path}`)),n._injector??t}function mg(n){const t=n.children&&n.children.map(mg),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Se&&(e.component=pg),e}function _r(n){return n.outlet||Se}function h0(n,t){const e=n.filter(r=>_r(r)===t);return e.push(...n.filter(r=>_r(r)!==t)),e}function ic(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class D2{constructor(t,e,r,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=o}activate(t){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),lg(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){const o=Os(e);t.children.forEach(i=>{const s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),Zt(o,(i,s)=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(t,e,r){const o=t.value,i=e?e.value:null;if(o===i)if(o.component){const s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,r);else i&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const r=e.getContext(t.value.outlet),o=r&&t.value.component?r.children:e,i=Os(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const r=e.getContext(t.value.outlet),o=r&&t.value.component?r.children:e,i=Os(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,e,r){const o=Os(e);t.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new p2(i.value.snapshot))}),t.children.length&&this.forwardEvent(new h2(t.value.snapshot))}activateRoutes(t,e,r){const o=t.value,i=e?e.value:null;if(lg(o),o===i)if(o.component){const s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,r);else if(o.component){const s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),lg(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=ic(o.snapshot),c=a?.get(Da)??null;s.attachRef=null,s.route=o,s.resolver=c,s.injector=a,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,r)}}class f0{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Ul{constructor(t,e){this.component=t,this.route=e}}function M2(n,t,e){const r=n._root;return sc(r,t?t._root:null,e,[r.value])}function xs(n,t){const e=Symbol(),r=t.get(n,e);return r===e?"function"!=typeof n||function kI(n){return null!==eu(n)}(n)?t.get(n):n:r}function sc(n,t,e,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=Os(t);return n.children.forEach(s=>{(function k2(n,t,e,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=n.value,s=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){const c=function N2(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Ci(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Ci(n.url,t.url)||!no(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!dg(n,t)||!no(n.queryParams,t.queryParams);default:return!dg(n,t)}}(s,i,i.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new f0(r)):(i.data=s.data,i._resolvedData=s._resolvedData),sc(n,t,i.component?a?a.children:null:e,r,o),c&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new Ul(a.outlet.component,s))}else s&&ac(t,a,o),o.canActivateChecks.push(new f0(r)),sc(n,null,i.component?a?a.children:null:e,r,o)})(s,i[s.value.outlet],e,r.concat([s.value]),o),delete i[s.value.outlet]}),Zt(i,(s,a)=>ac(s,e.getContext(a),o)),o}function ac(n,t,e){const r=Os(n),o=n.value;Zt(r,(i,s)=>{ac(i,o.component?t?t.children.getContext(s):null:t,e)}),e.canDeactivateChecks.push(new Ul(o.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,o))}function cc(n){return"function"==typeof n}function vg(n){return n instanceof Al||"EmptyError"===n?.name}const Hl=Symbol("INITIAL_VALUE");function Fs(){return kn(n=>Ab(n.map(t=>t.pipe($o(1),function SF(...n){const t=ta(n);return bt((e,r)=>{(t?Qp(n,e,t):Qp(n,e)).subscribe(r)})}(Hl)))).pipe(we(t=>{for(const e of t)if(!0!==e){if(e===Hl)return Hl;if(!1===e||e instanceof _i)return e}return!0}),mn(t=>t!==Hl),$o(1)))}function p0(n){return function Wc(...n){return Xs(n)}(vn(t=>{if(wi(t))throw a0(0,t)}),we(t=>!0===t))}const yg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function g0(n,t,e,r,o){const i=_g(n,t,e);return i.matched?function Q2(n,t,e,r){const o=t.canMatch;return o&&0!==o.length?te(o.map(s=>{const a=xs(s,n);return Wo(function U2(n){return n&&cc(n.canMatch)}(a)?a.canMatch(t,e):n.runInContext(()=>a(t,e)))})).pipe(Fs(),p0()):te(!0)}(r=d0(t,r),t,e).pipe(we(s=>!0===s?i:{...yg})):te(i)}function _g(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...yg}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const o=(t.matcher||kF)(e,n,t);if(!o)return{...yg};const i={};Zt(o.posParams,(a,c)=>{i[c]=a.path});const s=o.consumed.length>0?{...i,...o.consumed[o.consumed.length-1].parameters}:i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function Vl(n,t,e,r,o="corrected"){if(e.length>0&&function X2(n,t,e){return e.some(r=>Bl(n,t,r)&&_r(r)!==Se)}(n,e,r)){const s=new De(t,function J2(n,t,e,r){const o={};o[Se]=r,r._sourceSegment=n,r._segmentIndexShift=t.length;for(const i of e)if(""===i.path&&_r(i)!==Se){const s=new De([],{});s._sourceSegment=n,s._segmentIndexShift=t.length,o[_r(i)]=s}return o}(n,t,r,new De(e,n.children)));return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:[]}}if(0===e.length&&function Z2(n,t,e){return e.some(r=>Bl(n,t,r))}(n,e,r)){const s=new De(n.segments,function Y2(n,t,e,r,o,i){const s={};for(const a of r)if(Bl(n,e,a)&&!o[_r(a)]){const c=new De([],{});c._sourceSegment=n,c._segmentIndexShift="legacy"===i?n.segments.length:t.length,s[_r(a)]=c}return{...o,...s}}(n,t,e,r,n.children,o));return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}const i=new De(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:e}}function Bl(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function m0(n,t,e,r){return!!(_r(n)===r||r!==Se&&Bl(t,e,n))&&("**"===n.path||_g(t,n,e).matched)}function v0(n,t,e){return 0===t.length&&!n.children[e]}const jl=!1;class ql{constructor(t){this.segmentGroup=t||null}}class y0{constructor(t){this.urlTree=t}}function uc(n){return Rs(new ql(n))}function _0(n){return Rs(new y0(n))}class rL{constructor(t,e,r,o,i){this.injector=t,this.configLoader=e,this.urlSerializer=r,this.urlTree=o,this.config=i,this.allowRedirects=!0}apply(){const t=Vl(this.urlTree.root,[],[],this.config).segmentGroup,e=new De(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,Se).pipe(we(i=>this.createUrlTree(Ol(i),this.urlTree.queryParams,this.urlTree.fragment))).pipe(to(i=>{if(i instanceof y0)return this.allowRedirects=!1,this.match(i.urlTree);throw i instanceof ql?this.noMatchError(i):i}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,Se).pipe(we(o=>this.createUrlTree(Ol(o),t.queryParams,t.fragment))).pipe(to(o=>{throw o instanceof ql?this.noMatchError(o):o}))}noMatchError(t){return new G(4002,jl)}createUrlTree(t,e,r){const o=ng(t);return new _i(o,e,r)}expandSegmentGroup(t,e,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,e,r).pipe(we(i=>new De([],i))):this.expandSegment(t,r,e,r.segments,o,!0)}expandChildren(t,e,r){const o=[];for(const i of Object.keys(r.children))"primary"===i?o.unshift(i):o.push(i);return He(o).pipe(eo(i=>{const s=r.children[i],a=h0(e,i);return this.expandSegmentGroup(t,a,s,i).pipe(we(c=>({segment:c,outlet:i})))}),Nb((i,s)=>(i[s.outlet]=s.segment,i),{}),Pb())}expandSegment(t,e,r,o,i,s){return He(r).pipe(eo(a=>this.expandSegmentAgainstRoute(t,e,r,a,o,i,s).pipe(to(u=>{if(u instanceof ql)return te(null);throw u}))),zo(a=>!!a),to((a,c)=>{if(vg(a))return v0(e,o,i)?te(new De([],{})):uc(e);throw a}))}expandSegmentAgainstRoute(t,e,r,o,i,s,a){return m0(o,e,i,s)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(t,e,o,i,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,r,o,i,s):uc(e):uc(e)}expandSegmentAgainstRouteUsingRedirect(t,e,r,o,i,s){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,o,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,o,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,r,o){const i=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?_0(i):this.lineralizeSegments(r,i).pipe(Yt(s=>{const a=new De(s,{});return this.expandSegment(t,a,e,s,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,o,i,s){const{matched:a,consumedSegments:c,remainingSegments:u,positionalParamSegments:l}=_g(e,o,i);if(!a)return uc(e);const d=this.applyRedirectCommands(c,o.redirectTo,l);return o.redirectTo.startsWith("/")?_0(d):this.lineralizeSegments(o,d).pipe(Yt(h=>this.expandSegment(t,e,r,h.concat(u),s,!1)))}matchSegmentAgainstRoute(t,e,r,o,i){return"**"===r.path?(t=d0(r,t),r.loadChildren?(r._loadedRoutes?te({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(t,r)).pipe(we(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new De(o,{})))):te(new De(o,{}))):g0(e,r,o,t).pipe(kn(({matched:s,consumedSegments:a,remainingSegments:c})=>s?this.getChildConfig(t=r._injector??t,r,o).pipe(Yt(l=>{const d=l.injector??t,h=l.routes,{segmentGroup:g,slicedSegments:m}=Vl(e,a,c,h),E=new De(g.segments,g.children);if(0===m.length&&E.hasChildren())return this.expandChildren(d,h,E).pipe(we(D=>new De(a,D)));if(0===h.length&&0===m.length)return te(new De(a,{}));const S=_r(r)===i;return this.expandSegment(d,E,h,m,S?Se:i,!0).pipe(we(N=>new De(a.concat(N.segments),N.children)))})):uc(e)))}getChildConfig(t,e,r){return e.children?te({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?te({routes:e._loadedRoutes,injector:e._loadedInjector}):function K2(n,t,e,r){const o=t.canLoad;return void 0===o||0===o.length?te(!0):te(o.map(s=>{const a=xs(s,n);return Wo(function O2(n){return n&&cc(n.canLoad)}(a)?a.canLoad(t,e):n.runInContext(()=>a(t,e)))})).pipe(Fs(),p0())}(t,e,r).pipe(Yt(o=>o?this.configLoader.loadChildren(t,e).pipe(vn(i=>{e._loadedRoutes=i.routes,e._loadedInjector=i.injector})):function tL(n){return Rs(c0(jl,3))}())):te({routes:[],injector:t})}lineralizeSegments(t,e){let r=[],o=e.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return te(r);if(o.numberOfChildren>1||!o.children[Se])return Rs(new G(4e3,jl));o=o.children[Se]}}applyRedirectCommands(t,e,r){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,r)}applyRedirectCreateUrlTree(t,e,r,o){const i=this.createSegmentGroup(t,e.root,r,o);return new _i(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const r={};return Zt(t,(o,i)=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=e[a]}else r[i]=o}),r}createSegmentGroup(t,e,r,o){const i=this.createSegments(t,e.segments,r,o);let s={};return Zt(e.children,(a,c)=>{s[c]=this.createSegmentGroup(t,a,r,o)}),new De(i,s)}createSegments(t,e,r,o){return e.map(i=>i.path.startsWith(":")?this.findPosParam(t,i,o):this.findOrReturn(i,r))}findPosParam(t,e,r){const o=r[e.path.substring(1)];if(!o)throw new G(4001,jl);return o}findOrReturn(t,e){let r=0;for(const o of e){if(o.path===t.path)return e.splice(r),o;r++}return t}}class iL{}class cL{constructor(t,e,r,o,i,s,a,c){this.injector=t,this.rootComponentType=e,this.config=r,this.urlTree=o,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=a,this.urlSerializer=c}recognize(){const t=Vl(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Se).pipe(we(e=>{if(null===e)return null;const r=new Fl([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Se,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new Mo(r,e),i=new o0(this.url,o);return this.inheritParamsAndData(i._root),i}))}inheritParamsAndData(t){const e=t.value,r=r0(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),t.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(t,e,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,e,r):this.processSegment(t,e,r,r.segments,o)}processChildren(t,e,r){return He(Object.keys(r.children)).pipe(eo(o=>{const i=r.children[o],s=h0(e,o);return this.processSegmentGroup(t,s,i,o)}),Nb((o,i)=>o&&i?(o.push(...i),o):null),function DF(n,t=!1){return bt((e,r)=>{let o=0;e.subscribe(mt(r,i=>{const s=n(i,o++);(s||t)&&r.next(i),!s&&r.complete()}))})}(o=>null!==o),Dl(null),Pb(),we(o=>{if(null===o)return null;const i=C0(o);return function uL(n){n.sort((t,e)=>t.value.outlet===Se?-1:e.value.outlet===Se?1:t.value.outlet.localeCompare(e.value.outlet))}(i),i}))}processSegment(t,e,r,o,i){return He(e).pipe(eo(s=>this.processSegmentAgainstRoute(s._injector??t,s,r,o,i)),zo(s=>!!s),to(s=>{if(vg(s))return v0(r,o,i)?te([]):te(null);throw s}))}processSegmentAgainstRoute(t,e,r,o,i){if(e.redirectTo||!m0(e,r,o,i))return te(null);let s;if("**"===e.path){const a=o.length>0?Fb(o).parameters:{},c=E0(r)+o.length;s=te({snapshot:new Fl(o,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,T0(e),_r(e),e.component??e._loadedComponent??null,e,w0(r),c,S0(e),c),consumedSegments:[],remainingSegments:[]})}else s=g0(r,e,o,t).pipe(we(({matched:a,consumedSegments:c,remainingSegments:u,parameters:l})=>{if(!a)return null;const d=E0(r)+c.length;return{snapshot:new Fl(c,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,T0(e),_r(e),e.component??e._loadedComponent??null,e,w0(r),d,S0(e),d),consumedSegments:c,remainingSegments:u}}));return s.pipe(kn(a=>{if(null===a)return te(null);const{snapshot:c,consumedSegments:u,remainingSegments:l}=a;t=e._injector??t;const d=e._loadedInjector??t,h=function lL(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:g,slicedSegments:m}=Vl(r,u,l,h.filter(S=>void 0===S.redirectTo),this.relativeLinkResolution);if(0===m.length&&g.hasChildren())return this.processChildren(d,h,g).pipe(we(S=>null===S?null:[new Mo(c,S)]));if(0===h.length&&0===m.length)return te([new Mo(c,[])]);const E=_r(e)===i;return this.processSegment(d,h,g,m,E?Se:i).pipe(we(S=>null===S?null:[new Mo(c,S)]))}))}}function dL(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function C0(n){const t=[],e=new Set;for(const r of n){if(!dL(r)){t.push(r);continue}const o=t.find(i=>r.value.routeConfig===i.value.routeConfig);void 0!==o?(o.children.push(...r.children),e.add(o)):t.push(r)}for(const r of e){const o=C0(r.children);t.push(new Mo(r.value,o))}return t.filter(r=>!e.has(r))}function w0(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function E0(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function T0(n){return n.data||{}}function S0(n){return n.resolve||{}}function I0(n){return"string"==typeof n.title||null===n.title}function Cg(n){return kn(t=>{const e=n(t);return e?He(e).pipe(we(()=>t)):te(t)})}let A0=(()=>{class n{buildTitle(e){let r,o=e.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===Se);return r}getResolvedTitleForRoute(e){return e.data[Ja]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Z({token:n,factory:function(){return At(D0)},providedIn:"root"}),n})(),D0=(()=>{class n extends A0{constructor(e){super(),this.title=e}updateTitle(e){const r=this.buildTitle(e);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(e){return new(e||n)(B(_b))},n.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class _L{}class wL extends class CL{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const $l=new oe("",{providedIn:"root",factory:()=>({})}),wg=new oe("ROUTES");let Eg=(()=>{class n{constructor(e,r){this.injector=e,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return te(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const r=Wo(e.loadComponent()).pipe(vn(i=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=i}),Xp(()=>{this.componentLoaders.delete(e)})),o=new Rb(r,()=>new Ue).pipe(Yp());return this.componentLoaders.set(e,o),o}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return te({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const i=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(we(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let c,u,l=!1;Array.isArray(a)?u=a:(c=a.create(e).injector,u=xb(c.get(wg,[],ae.Self|ae.Optional)));return{routes:u.map(mg),injector:c}}),Xp(()=>{this.childrenLoaders.delete(r)})),s=new Rb(i,()=>new Ue).pipe(Yp());return this.childrenLoaders.set(r,s),s}loadModuleFactoryOrRoutes(e){return Wo(e()).pipe(Yt(r=>r instanceof lw||Array.isArray(r)?te(r):He(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(e){return new(e||n)(B(Hn),B(hp))},n.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class bL{}class TL{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function SL(n){throw n}function IL(n,t,e){return t.parse("/")}const AL={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},DL={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function R0(){const n=At(jb),t=At(oc),e=At(Ds),r=At(Hn),o=At(hp),i=At(wg,{optional:!0})??[],s=At($l,{optional:!0})??{},a=At(D0),c=At(A0,{optional:!0}),u=At(bL,{optional:!0}),l=At(_L,{optional:!0}),d=new Mt(null,n,t,e,r,o,xb(i));return u&&(d.urlHandlingStrategy=u),l&&(d.routeReuseStrategy=l),d.titleStrategy=c??a,function ML(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(s,d),d}let Mt=(()=>{class n{constructor(e,r,o,i,s,a,c){this.rootComponentType=e,this.urlSerializer=r,this.rootContexts=o,this.location=i,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ue,this.errorHandler=SL,this.malformedUriErrorHandler=IL,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>te(void 0),this.urlHandlingStrategy=new TL,this.routeReuseStrategy=new wL,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=s.get(Eg),this.configLoader.onLoadEndListener=h=>this.triggerEvent(new l2(h)),this.configLoader.onLoadStartListener=h=>this.triggerEvent(new u2(h)),this.ngModule=s.get(mi),this.console=s.get(f1);const d=s.get(Bt);this.isNgZoneEnabled=d instanceof Bt&&Bt.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=function PF(){return new _i(new De([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=n0(this.currentUrlTree,this.rootComponentType),this.transitions=new yr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const r=this.events;return e.pipe(mn(o=>0!==o.id),we(o=>({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),kn(o=>{let i=!1,s=!1;return te(o).pipe(vn(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),kn(a=>{const c=this.browserUrlTree.toString(),u=!this.navigated||a.extractedUrl.toString()!==c||c!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||u)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return k0(a.source)&&(this.browserUrlTree=a.extractedUrl),te(a).pipe(kn(d=>{const h=this.transitions.getValue();return r.next(new sg(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?qr:Promise.resolve(d)}),function oL(n,t,e,r){return kn(o=>function nL(n,t,e,r,o){return new rL(n,t,e,r,o).apply()}(n,t,e,o.extractedUrl,r).pipe(we(i=>({...o,urlAfterRedirects:i}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),vn(d=>{this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects},o.urlAfterRedirects=d.urlAfterRedirects}),function fL(n,t,e,r,o,i){return Yt(s=>function aL(n,t,e,r,o,i,s="emptyOnly",a="legacy"){return new cL(n,t,e,r,o,s,a,i).recognize().pipe(kn(c=>null===c?function sL(n){return new gt(t=>t.error(n))}(new iL):te(c)))}(n,t,e,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,o,i).pipe(we(a=>({...s,targetSnapshot:a}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),vn(d=>{if(o.targetSnapshot=d.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const g=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(g,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new o2(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(u&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:g,source:m,restoredState:E,extras:S}=a,T=new sg(h,this.serializeUrl(g),m,E);r.next(T);const N=n0(g,this.rootComponentType).snapshot;return te(o={...a,targetSnapshot:N,urlAfterRedirects:g,extras:{...S,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=a.rawUrl,a.resolve(null),qr}),vn(a=>{const c=new i2(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(c)}),we(a=>o={...a,guards:M2(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),function V2(n,t){return Yt(e=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=e;return 0===s.length&&0===i.length?te({...e,guardsResult:!0}):function B2(n,t,e,r){return He(n).pipe(Yt(o=>function W2(n,t,e,r,o){const i=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return i&&0!==i.length?te(i.map(a=>{const c=ic(t)??o,u=xs(a,c);return Wo(function L2(n){return n&&cc(n.canDeactivate)}(u)?u.canDeactivate(n,t,e,r):c.runInContext(()=>u(n,t,e,r))).pipe(zo())})).pipe(Fs()):te(!0)}(o.component,o.route,e,t,r)),zo(o=>!0!==o,!0))}(s,r,o,n).pipe(Yt(a=>a&&function P2(n){return"boolean"==typeof n}(a)?function j2(n,t,e,r){return He(t).pipe(eo(o=>Qp(function G2(n,t){return null!==n&&t&&t(new d2(n)),te(!0)}(o.route.parent,r),function q2(n,t){return null!==n&&t&&t(new f2(n)),te(!0)}(o.route,r),function z2(n,t,e){const r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(s=>function R2(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(s)).filter(s=>null!==s).map(s=>Mb(()=>te(s.guards.map(c=>{const u=ic(s.node)??e,l=xs(c,u);return Wo(function F2(n){return n&&cc(n.canActivateChild)}(l)?l.canActivateChild(r,n):u.runInContext(()=>l(r,n))).pipe(zo())})).pipe(Fs())));return te(i).pipe(Fs())}(n,o.path,e),function $2(n,t,e){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return te(!0);const o=r.map(i=>Mb(()=>{const s=ic(t)??e,a=xs(i,s);return Wo(function x2(n){return n&&cc(n.canActivate)}(a)?a.canActivate(t,n):s.runInContext(()=>a(t,n))).pipe(zo())}));return te(o).pipe(Fs())}(n,o.route,e))),zo(o=>!0!==o,!0))}(r,i,n,t):te(a)),we(a=>({...e,guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),vn(a=>{if(o.guardsResult=a.guardsResult,wi(a.guardsResult))throw a0(0,a.guardsResult);const c=new s2(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(c)}),mn(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),Cg(a=>{if(a.guards.canActivateChecks.length)return te(a).pipe(vn(c=>{const u=new a2(c.id,this.serializeUrl(c.extractedUrl),this.serializeUrl(c.urlAfterRedirects),c.targetSnapshot);this.triggerEvent(u)}),kn(c=>{let u=!1;return te(c).pipe(function pL(n,t){return Yt(e=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=e;if(!o.length)return te(e);let i=0;return He(o).pipe(eo(s=>function gL(n,t,e,r){const o=n.routeConfig,i=n._resolve;return void 0!==o?.title&&!I0(o)&&(i[Ja]=o.title),function mL(n,t,e,r){const o=function vL(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===o.length)return te({});const i={};return He(o).pipe(Yt(s=>function yL(n,t,e,r){const o=ic(t)??r,i=xs(n,o);return Wo(i.resolve?i.resolve(t,e):o.runInContext(()=>i(t,e)))}(n[s],t,e,r).pipe(zo(),vn(a=>{i[s]=a}))),Jp(1),function MF(n){return we(()=>n)}(i),to(s=>vg(s)?qr:Rs(s)))}(i,n,t,r).pipe(we(s=>(n._resolvedData=s,n.data=r0(n,e).resolve,o&&I0(o)&&(n.data[Ja]=o.title),null)))}(s.route,r,n,t)),vn(()=>i++),Jp(1),Yt(s=>i===o.length?te(e):qr))})}(this.paramsInheritanceStrategy,this.ngModule.injector),vn({next:()=>u=!0,complete:()=>{u||(this.restoreHistory(c),this.cancelNavigationTransition(c,"",2))}}))}),vn(c=>{const u=new c2(c.id,this.serializeUrl(c.extractedUrl),this.serializeUrl(c.urlAfterRedirects),c.targetSnapshot);this.triggerEvent(u)}))}),Cg(a=>{const c=u=>{const l=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(u.routeConfig).pipe(vn(d=>{u.component=d}),we(()=>{})));for(const d of u.children)l.push(...c(d));return l};return Ab(c(a.targetSnapshot.root)).pipe(Dl(),$o(1))}),Cg(()=>this.afterPreactivation()),we(a=>{const c=function y2(n,t,e){const r=rc(n,t._root,e?e._root:void 0);return new t0(r,t)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return o={...a,targetRouterState:c}}),vn(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,t,e)=>we(r=>(new D2(t,r.targetRouterState,r.currentRouterState,e).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),vn({next(){i=!0},complete(){i=!0}}),Xp(()=>{i||s||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),to(a=>{if(s=!0,l0(a)){u0(a)||(this.navigated=!0,this.restoreHistory(o,!0));const c=new xl(o.id,this.serializeUrl(o.extractedUrl),a.message,a.cancellationCode);if(r.next(c),u0(a)){const u=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),l={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||k0(o.source)};this.scheduleNavigation(u,"imperative",null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}else o.resolve(!1)}else{this.restoreHistory(o,!0);const c=new Xb(o.id,this.serializeUrl(o.extractedUrl),a,o.targetSnapshot??void 0);r.next(c);try{o.resolve(this.errorHandler(a))}catch(u){o.reject(u)}}return qr}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const o={replaceUrl:!0},i=e.state?.navigationId?e.state:null;if(i){const a={...i};delete a.navigationId,delete a.\u0275routerPageId,0!==Object.keys(a).length&&(o.state=a)}const s=this.parseUrl(e.url);this.scheduleNavigation(s,r,i,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(mg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=o||this.routerState.root,l=c?this.currentUrlTree.fragment:s;let d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...i};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=i||null}return null!==d&&(d=this.removeEmptyProps(d)),XF(u,this.currentUrlTree,e,d,l??null)}navigateByUrl(e,r={skipLocationChange:!1}){const o=wi(e)?e:this.parseUrl(e),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,r)}navigate(e,r={skipLocationChange:!1}){return function RL(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new G(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,e)}return r}isActive(e,r){let o;if(o=!0===r?{...AL}:!1===r?{...DL}:r,wi(e))return Ub(this.currentUrlTree,e,o);const i=this.parseUrl(e);return Ub(this.currentUrlTree,i,o)}removeEmptyProps(e){return Object.keys(e).reduce((r,o)=>{const i=e[o];return null!=i&&(r[o]=i),r},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Ei(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((h,g)=>{a=h,c=g});const l=++this.navigationId;let d;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),d=o&&o.\u0275routerPageId?o.\u0275routerPageId:i.replaceUrl||i.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):d=0,this.setTransition({id:l,targetPageId:d,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:i,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(h=>Promise.reject(h))}setBrowserUrl(e,r){const o=this.urlSerializer.serialize(e),i={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",i):this.location.go(o,"",i)}restoreHistory(e,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===o?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===o&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,r,o){const i=new xl(e.id,this.serializeUrl(e.extractedUrl),r,o);this.triggerEvent(i),e.resolve(!1)}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return n.\u0275fac=function(e){df()},n.\u0275prov=Z({token:n,factory:function(){return R0()},providedIn:"root"}),n})();function k0(n){return"imperative"!==n}let bg=(()=>{class n{constructor(e,r,o,i,s){this.router=e,this.route=r,this.tabIndexAttribute=o,this.renderer=i,this.el=s,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new Ue,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=So(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=So(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=So(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const r=this.renderer,o=this.el.nativeElement;null!==e?r.setAttribute(o,"tabindex",e):r.removeAttribute(o,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(R(Mt),R(bi),ha("tabindex"),R(yo),R(rr))},n.\u0275dir=de({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,r){1&e&&ce("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[hr]}),n})(),Wl=(()=>{class n{constructor(e,r,o){this.router=e,this.route=r,this.locationStrategy=o,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Ue,this.subscription=e.events.subscribe(i=>{i instanceof Ei&&this.updateTargetUrlAndHref()})}set preserveFragment(e){this._preserveFragment=So(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=So(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=So(e)}get replaceUrl(){return this._replaceUrl}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,r,o,i,s){return!!(0!==e||r||o||i||s||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(R(Mt),R(bi),R(yi))},n.\u0275dir=de({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,r){1&e&&ce("click",function(i){return r.onClick(i.button,i.ctrlKey,i.shiftKey,i.altKey,i.metaKey)}),2&e&&Yr("target",r.target)("href",r.href,Dn)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[hr]}),n})(),N0=(()=>{class n{constructor(e,r,o,i,s,a){this.router=e,this.element=r,this.renderer=o,this.cdr=i,this.link=s,this.linkWithHref=a,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new It,this.routerEventsSubscription=e.events.subscribe(c=>{c instanceof Ei&&this.update()})}ngAfterContentInit(){te(this.links.changes,this.linksWithHrefs.changes,te(null)).pipe(Vi()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=He(e).pipe(Vi()).subscribe(r=>{this.isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(e){const r=Array.isArray(e)?e:e.split(" ");this.classes=r.filter(o=>!!o)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(r=>{e?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(e))})}isLinkActive(e){const r=function kL(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>!!o.urlTree&&e.isActive(o.urlTree,r)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return n.\u0275fac=function(e){return new(e||n)(R(Mt),R(rr),R(yo),R(al),R(bg,8),R(Wl,8))},n.\u0275dir=de({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(e,r,o){if(1&e&&(ip(o,bg,5),ip(o,Wl,5)),2&e){let i;Ts(i=Ss())&&(r.links=i),Ts(i=Ss())&&(r.linksWithHrefs=i)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[hr]}),n})();class P0{}let NL=(()=>{class n{constructor(e,r,o,i,s){this.router=e,this.injector=o,this.preloadingStrategy=i,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(mn(e=>e instanceof Ei),eo(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const o=[];for(const i of r){i.providers&&!i._injector&&(i._injector=Ju(i.providers,e,`Route: ${i.path}`));const s=i._injector??e,a=i._loadedInjector??s;i.loadChildren&&!i._loadedRoutes&&void 0===i.canLoad||i.loadComponent&&!i._loadedComponent?o.push(this.preloadConfig(s,i)):(i.children||i._loadedRoutes)&&o.push(this.processRoutes(a,i.children??i._loadedRoutes))}return He(o).pipe(Vi())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(e,r):te(null);const i=o.pipe(Yt(s=>null===s?te(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));return r.loadComponent&&!r._loadedComponent?He([i,this.loader.loadComponent(r)]).pipe(Vi()):i})}}return n.\u0275fac=function(e){return new(e||n)(B(Mt),B(hp),B(Vo),B(P0),B(Eg))},n.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Tg=new oe("");let O0=(()=>{class n{constructor(e,r,o={}){this.router=e,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof sg?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Ei&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Zb&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.router.triggerEvent(new Zb(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){df()},n.\u0275prov=Z({token:n,factory:n.\u0275fac}),n})();function Ls(n,t){return{\u0275kind:n,\u0275providers:t}}function Sg(n){return[{provide:wg,multi:!0,useValue:n}]}function F0(){const n=At(Hn);return t=>{const e=n.get(il);if(t!==e.components[0])return;const r=n.get(Mt),o=n.get(L0);1===n.get(Ig)&&r.initialNavigation(),n.get(U0,null,ae.Optional)?.setUpPreloading(),n.get(Tg,null,ae.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),o.closed||(o.next(),o.unsubscribe())}}const L0=new oe("",{factory:()=>new Ue}),Ig=new oe("",{providedIn:"root",factory:()=>1});const U0=new oe("");function FL(n){return Ls(0,[{provide:U0,useExisting:NL},{provide:P0,useExisting:n}])}const H0=new oe("ROUTER_FORROOT_GUARD"),LL=[Ds,{provide:jb,useClass:eg},{provide:Mt,useFactory:R0},oc,{provide:bi,useFactory:function x0(n){return n.routerState.root},deps:[Mt]},Eg];function UL(){return new aE("Router",Mt)}let V0=(()=>{class n{constructor(e){}static forRoot(e,r){return{ngModule:n,providers:[LL,[],Sg(e),{provide:H0,useFactory:jL,deps:[[Mt,new _a,new Ca]]},{provide:$l,useValue:r||{}},r?.useHash?{provide:yi,useClass:tO}:{provide:yi,useClass:NE},{provide:Tg,useFactory:()=>{const n=At(Mt),t=At(_x),e=At($l);return e.scrollOffset&&t.setOffset(e.scrollOffset),new O0(n,t,e)}},r?.preloadingStrategy?FL(r.preloadingStrategy).\u0275providers:[],{provide:aE,multi:!0,useFactory:UL},r?.initialNavigation?qL(r):[],[{provide:B0,useFactory:F0},{provide:eE,multi:!0,useExisting:B0}]]}}static forChild(e){return{ngModule:n,providers:[Sg(e)]}}}return n.\u0275fac=function(e){return new(e||n)(B(H0,8))},n.\u0275mod=xn({type:n}),n.\u0275inj=En({imports:[pg]}),n})();function jL(n){return"guarded"}function qL(n){return["disabled"===n.initialNavigation?Ls(3,[{provide:nl,multi:!0,useFactory:()=>{const t=At(Mt);return()=>{t.setUpLocationChangeListener()}}},{provide:Ig,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Ls(2,[{provide:Ig,useValue:0},{provide:nl,multi:!0,deps:[Hn],useFactory:t=>{const e=t.get(Z1,Promise.resolve());let r=!1;return()=>e.then(()=>new Promise(i=>{const s=t.get(Mt),a=t.get(L0);(function o(i){t.get(Mt).events.pipe(mn(a=>a instanceof Ei||a instanceof xl||a instanceof Xb),we(a=>a instanceof Ei||a instanceof xl&&(0===a.code||1===a.code)&&null),mn(a=>null!==a),$o(1)).subscribe(()=>{i()})})(()=>{i(!0),r=!0}),s.afterPreactivation=()=>(i(!0),r||a.closed?te(void 0):a),s.initialNavigation()}))}}]).\u0275providers:[]]}const B0=new oe("");var Ag=function(n,t){return(Ag=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])})(n,t)};function Bn(n,t){function e(){this.constructor=n}Ag(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var Ke=function(){return Ke=Object.assign||function(t){for(var e,r=1,o=arguments.length;r<o;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Ke.apply(this,arguments)};function fe(n,t,e,r){return new(e||(e=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):function o(i){return i instanceof e?i:new e(function(s){s(i)})}(l.value).then(a,c)}u((r=r.apply(n,t||[])).next())})}function pe(n,t){var r,o,i,s,e={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return function c(u){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,o&&(i=2&u[0]?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,o=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(!(i=(i=e.trys).length>0&&i[i.length-1])&&(6===u[0]||2===u[0])){e=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){e.label=u[1];break}if(6===u[0]&&e.label<i[1]){e.label=i[1],i=u;break}if(i&&e.label<i[2]){e.label=i[2],e.ops.push(u);break}i[2]&&e.ops.pop(),e.trys.pop();continue}u=t.call(n,e)}catch(l){u=[6,l],o=0}finally{r=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,l])}}}function Yl(){for(var n=0,t=0,e=arguments.length;t<e;t++)n+=arguments[t].length;var r=Array(n),o=0;for(t=0;t<e;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r}var b={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",CACHE_PREFIX:"msal",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_RESPONSE_TYPE:"code",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",FRAGMENT_RESPONSE_MODE:"fragment",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",REGIONAL_AUTH_NON_MSI_QUERY_STRING:"allowestsrnonmsi=true",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],TOKEN_RESPONSE_TYPE:"token",ID_TOKEN_RESPONSE_TYPE:"id_token",SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},lc=[b.OPENID_SCOPE,b.PROFILE_SCOPE,b.OFFLINE_ACCESS_SCOPE],j0=Yl(lc,[b.EMAIL_SCOPE]),jn=(()=>{return(n=jn||(jn={})).CONTENT_TYPE="Content-Type",n.RETRY_AFTER="Retry-After",n.CCS_HEADER="X-AnchorMailbox",n.WWWAuthenticate="WWW-Authenticate",n.AuthenticationInfo="Authentication-Info",n.X_MS_REQUEST_ID="x-ms-request-id",n.X_MS_HTTP_VERSION="x-ms-httpver",jn;var n})(),xt=(()=>{return(n=xt||(xt={})).ID_TOKEN="idtoken",n.CLIENT_INFO="client.info",n.ADAL_ID_TOKEN="adal.idtoken",n.ERROR="error",n.ERROR_DESC="error.description",n.ACTIVE_ACCOUNT="active-account",n.ACTIVE_ACCOUNT_FILTERS="active-account-filters",xt;var n})(),dc=(()=>{return(n=dc||(dc={})).COMMON="common",n.ORGANIZATIONS="organizations",n.CONSUMERS="consumers",dc;var n})(),ve=(()=>{return(n=ve||(ve={})).CLIENT_ID="client_id",n.REDIRECT_URI="redirect_uri",n.RESPONSE_TYPE="response_type",n.RESPONSE_MODE="response_mode",n.GRANT_TYPE="grant_type",n.CLAIMS="claims",n.SCOPE="scope",n.ERROR="error",n.ERROR_DESCRIPTION="error_description",n.ACCESS_TOKEN="access_token",n.ID_TOKEN="id_token",n.REFRESH_TOKEN="refresh_token",n.EXPIRES_IN="expires_in",n.STATE="state",n.NONCE="nonce",n.PROMPT="prompt",n.SESSION_STATE="session_state",n.CLIENT_INFO="client_info",n.CODE="code",n.CODE_CHALLENGE="code_challenge",n.CODE_CHALLENGE_METHOD="code_challenge_method",n.CODE_VERIFIER="code_verifier",n.CLIENT_REQUEST_ID="client-request-id",n.X_CLIENT_SKU="x-client-SKU",n.X_CLIENT_VER="x-client-VER",n.X_CLIENT_OS="x-client-OS",n.X_CLIENT_CPU="x-client-CPU",n.X_CLIENT_CURR_TELEM="x-client-current-telemetry",n.X_CLIENT_LAST_TELEM="x-client-last-telemetry",n.X_MS_LIB_CAPABILITY="x-ms-lib-capability",n.X_APP_NAME="x-app-name",n.X_APP_VER="x-app-ver",n.POST_LOGOUT_URI="post_logout_redirect_uri",n.ID_TOKEN_HINT="id_token_hint",n.DEVICE_CODE="device_code",n.CLIENT_SECRET="client_secret",n.CLIENT_ASSERTION="client_assertion",n.CLIENT_ASSERTION_TYPE="client_assertion_type",n.TOKEN_TYPE="token_type",n.REQ_CNF="req_cnf",n.OBO_ASSERTION="assertion",n.REQUESTED_TOKEN_USE="requested_token_use",n.ON_BEHALF_OF="on_behalf_of",n.FOCI="foci",n.CCS_HEADER="X-AnchorMailbox",n.RETURN_SPA_CODE="return_spa_code",n.NATIVE_BROKER="nativebroker",n.LOGOUT_HINT="logout_hint",ve;var n})(),Ti=(()=>{return(n=Ti||(Ti={})).ACCESS_TOKEN="access_token",n.XMS_CC="xms_cc",Ti;var n})(),yn={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create",NO_SESSION:"no_session"},Us=(()=>{return(n=Us||(Us={})).ACCOUNT="account",n.SID="sid",n.LOGIN_HINT="login_hint",n.ID_TOKEN="id_token",n.DOMAIN_HINT="domain_hint",n.ORGANIZATIONS="organizations",n.CONSUMERS="consumers",n.ACCOUNT_ID="accountIdentifier",n.HOMEACCOUNT_ID="homeAccountIdentifier",Us;var n})(),q0={PLAIN:"plain",S256:"S256"},hc=(()=>{return(n=hc||(hc={})).QUERY="query",n.FRAGMENT="fragment",n.FORM_POST="form_post",hc;var n})(),fc=(()=>{return(n=fc||(fc={})).IMPLICIT_GRANT="implicit",n.AUTHORIZATION_CODE_GRANT="authorization_code",n.CLIENT_CREDENTIALS_GRANT="client_credentials",n.RESOURCE_OWNER_PASSWORD_GRANT="password",n.REFRESH_TOKEN_GRANT="refresh_token",n.DEVICE_CODE_GRANT="device_code",n.JWT_BEARER="urn:ietf:params:oauth:grant-type:jwt-bearer",fc;var n})(),ro=(()=>{return(n=ro||(ro={})).MSSTS_ACCOUNT_TYPE="MSSTS",n.ADFS_ACCOUNT_TYPE="ADFS",n.MSAV1_ACCOUNT_TYPE="MSA",n.GENERIC_ACCOUNT_TYPE="Generic",ro;var n})(),Nn=(()=>{return(n=Nn||(Nn={})).CACHE_KEY_SEPARATOR="-",n.CLIENT_INFO_SEPARATOR=".",Nn;var n})(),Ie=(()=>{return(n=Ie||(Ie={})).ID_TOKEN="IdToken",n.ACCESS_TOKEN="AccessToken",n.ACCESS_TOKEN_WITH_AUTH_SCHEME="AccessToken_With_AuthScheme",n.REFRESH_TOKEN="RefreshToken",Ie;var n})(),Ko=(()=>{return(n=Ko||(Ko={})).ACCOUNT="Account",n.CREDENTIAL="Credential",n.ID_TOKEN="IdToken",n.ACCESS_TOKEN="AccessToken",n.REFRESH_TOKEN="RefreshToken",n.APP_METADATA="AppMetadata",n.TEMPORARY="TempCache",n.TELEMETRY="Telemetry",n.UNDEFINED="Undefined",n.THROTTLING="Throttling",Ko;var n})(),oo=(()=>{return(n=oo||(oo={}))[n.ADFS=1001]="ADFS",n[n.MSA=1002]="MSA",n[n.MSSTS=1003]="MSSTS",n[n.GENERIC=1004]="GENERIC",n[n.ACCESS_TOKEN=2001]="ACCESS_TOKEN",n[n.REFRESH_TOKEN=2002]="REFRESH_TOKEN",n[n.ID_TOKEN=2003]="ID_TOKEN",n[n.APP_METADATA=3001]="APP_METADATA",n[n.UNDEFINED=9999]="UNDEFINED",oo;var n})(),Dg="appmetadata",ir=(()=>{return(n=ir||(ir={})).CONFIG="config",n.CACHE="cache",n.NETWORK="network",n.HARDCODED_VALUES="hardcoded_values",ir;var n})(),en={SCHEMA_VERSION:5,MAX_CUR_HEADER_BYTES:80,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},je=(()=>{return(n=je||(je={})).BEARER="Bearer",n.POP="pop",n.SSH="ssh-cert",je;var n})(),mc=(()=>{return(n=mc||(mc={})).username="username",n.password="password",mc;var n})(),Si=(()=>{return(n=Si||(Si={}))[n.httpSuccess=200]="httpSuccess",n[n.httpBadRequest=400]="httpBadRequest",Si;var n})(),Ro=(()=>{return(n=Ro||(Ro={})).FAILED_AUTO_DETECTION="1",n.INTERNAL_CACHE="2",n.ENVIRONMENT_VARIABLE="3",n.IMDS="4",Ro;var n})(),Qo=(()=>{return(n=Qo||(Qo={})).CONFIGURED_MATCHES_DETECTED="1",n.CONFIGURED_NO_AUTO_DETECTION="2",n.CONFIGURED_NOT_DETECTED="3",n.AUTO_DETECTION_REQUESTED_SUCCESSFUL="4",n.AUTO_DETECTION_REQUESTED_FAILED="5",Qo;var n})(),Yo=(()=>{return(n=Yo||(Yo={})).NO_CACHE_HIT="0",n.FORCE_REFRESH="1",n.NO_CACHED_ACCESS_TOKEN="2",n.CACHED_ACCESS_TOKEN_EXPIRED="3",n.REFRESH_CACHED_ACCESS_TOKEN="4",Yo;var n})(),Xl=(()=>{return(n=Xl||(Xl={})).Jwt="JWT",n.Jwk="JWK",n.Pop="pop",Xl;var n})(),vc_CHANNEL_ID="53ee284d-920a-4b59-9d30-a60315b26836",io=(()=>{return(n=io||(io={})).HandshakeRequest="Handshake",n.HandshakeResponse="HandshakeResponse",n.GetToken="GetToken",n.Response="Response",io;var n})(),Wt=(()=>{return(n=Wt||(Wt={})).LocalStorage="localStorage",n.SessionStorage="sessionStorage",n.MemoryStorage="memoryStorage",Wt;var n})(),Vr=(()=>{return(n=Vr||(Vr={})).GET="GET",n.POST="POST",Vr;var n})(),xe=(()=>{return(n=xe||(xe={})).AUTHORITY="authority",n.ACQUIRE_TOKEN_ACCOUNT="acquireToken.account",n.SESSION_STATE="session.state",n.REQUEST_STATE="request.state",n.NONCE_IDTOKEN="nonce.id_token",n.ORIGIN_URI="request.origin",n.RENEW_STATUS="token.renew.status",n.URL_HASH="urlHash",n.REQUEST_PARAMS="request.params",n.SCOPES="scopes",n.INTERACTION_STATUS_KEY="interaction.status",n.CCS_CREDENTIAL="ccs.credential",n.CORRELATION_ID="request.correlationId",n.NATIVE_REQUEST="request.native",n.REDIRECT_CONTEXT="request.redirect.context",xe;var n})(),Ii=(()=>{return(n=Ii||(Ii={})).WRAPPER_SKU="wrapper.sku",n.WRAPPER_VER="wrapper.version",Ii;var n})(),Xe=(()=>{return(n=Xe||(Xe={}))[n.acquireTokenRedirect=861]="acquireTokenRedirect",n[n.acquireTokenPopup=862]="acquireTokenPopup",n[n.ssoSilent=863]="ssoSilent",n[n.acquireTokenSilent_authCode=864]="acquireTokenSilent_authCode",n[n.handleRedirectPromise=865]="handleRedirectPromise",n[n.acquireTokenByCode=866]="acquireTokenByCode",n[n.acquireTokenSilent_silentFlow=61]="acquireTokenSilent_silentFlow",n[n.logout=961]="logout",n[n.logoutPopup=962]="logoutPopup",Xe;var n})(),q=(()=>{return(n=q||(q={})).Redirect="redirect",n.Popup="popup",n.Silent="silent",n.None="none",q;var n})(),Ct=(()=>{return(n=Ct||(Ct={})).Startup="startup",n.Login="login",n.Logout="logout",n.AcquireToken="acquireToken",n.SsoSilent="ssoSilent",n.HandleRedirect="handleRedirect",n.None="none",Ct;var n})(),$0={scopes:lc},Hs="jwk",Zl=(()=>{return(n=Zl||(Zl={})).React="@azure/msal-react",n.Angular="@azure/msal-angular",Zl;var n})(),Mg="msal.db",Pn=(()=>{return(n=Pn||(Pn={}))[n.Default=0]="Default",n[n.AccessToken=1]="AccessToken",n[n.AccessTokenAndRefreshToken=2]="AccessTokenAndRefreshToken",n[n.RefreshToken=3]="RefreshToken",n[n.RefreshTokenAndNetwork=4]="RefreshTokenAndNetwork",n[n.Skip=5]="Skip",Pn;var n})(),ee=(()=>{return(n=ee||(ee={})).INITIALIZE_START="msal:initializeStart",n.INITIALIZE_END="msal:initializeEnd",n.ACCOUNT_ADDED="msal:accountAdded",n.ACCOUNT_REMOVED="msal:accountRemoved",n.LOGIN_START="msal:loginStart",n.LOGIN_SUCCESS="msal:loginSuccess",n.LOGIN_FAILURE="msal:loginFailure",n.ACQUIRE_TOKEN_START="msal:acquireTokenStart",n.ACQUIRE_TOKEN_SUCCESS="msal:acquireTokenSuccess",n.ACQUIRE_TOKEN_FAILURE="msal:acquireTokenFailure",n.ACQUIRE_TOKEN_NETWORK_START="msal:acquireTokenFromNetworkStart",n.SSO_SILENT_START="msal:ssoSilentStart",n.SSO_SILENT_SUCCESS="msal:ssoSilentSuccess",n.SSO_SILENT_FAILURE="msal:ssoSilentFailure",n.ACQUIRE_TOKEN_BY_CODE_START="msal:acquireTokenByCodeStart",n.ACQUIRE_TOKEN_BY_CODE_SUCCESS="msal:acquireTokenByCodeSuccess",n.ACQUIRE_TOKEN_BY_CODE_FAILURE="msal:acquireTokenByCodeFailure",n.HANDLE_REDIRECT_START="msal:handleRedirectStart",n.HANDLE_REDIRECT_END="msal:handleRedirectEnd",n.POPUP_OPENED="msal:popupOpened",n.LOGOUT_START="msal:logoutStart",n.LOGOUT_SUCCESS="msal:logoutSuccess",n.LOGOUT_FAILURE="msal:logoutFailure",n.LOGOUT_END="msal:logoutEnd",ee;var n})(),KL=function(){function n(){}return n.getInteractionStatusFromEvent=function(t,e){switch(t.eventType){case ee.LOGIN_START:return Ct.Login;case ee.SSO_SILENT_START:return Ct.SsoSilent;case ee.ACQUIRE_TOKEN_START:if(t.interactionType===q.Redirect||t.interactionType===q.Popup)return Ct.AcquireToken;break;case ee.HANDLE_REDIRECT_START:return Ct.HandleRedirect;case ee.LOGOUT_START:return Ct.Logout;case ee.SSO_SILENT_SUCCESS:case ee.SSO_SILENT_FAILURE:if(e&&e!==Ct.SsoSilent)break;return Ct.None;case ee.LOGOUT_END:if(e&&e!==Ct.Logout)break;return Ct.None;case ee.HANDLE_REDIRECT_END:if(e&&e!==Ct.HandleRedirect)break;return Ct.None;case ee.LOGIN_SUCCESS:case ee.LOGIN_FAILURE:case ee.ACQUIRE_TOKEN_SUCCESS:case ee.ACQUIRE_TOKEN_FAILURE:if(t.interactionType===q.Redirect||t.interactionType===q.Popup){if(e&&e!==Ct.Login&&e!==Ct.AcquireToken)break;return Ct.None}}return null},n}(),Rg=function(n,t){return(Rg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])})(n,t)};function tn(n,t){function e(){this.constructor=n}Rg(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var X=function(){return X=Object.assign||function(t){for(var e,r=1,o=arguments.length;r<o;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},X.apply(this,arguments)};function z0(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(n);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(e[r[o]]=n[r[o]])}return e}function x(n,t,e,r){return new(e||(e=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):function o(i){return i instanceof e?i:new e(function(s){s(i)})}(l.value).then(a,c)}u((r=r.apply(n,t||[])).next())})}function F(n,t){var r,o,i,s,e={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return function c(u){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,o&&(i=2&u[0]?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,o=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(!(i=(i=e.trys).length>0&&i[i.length-1])&&(6===u[0]||2===u[0])){e=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){e.label=u[1];break}if(6===u[0]&&e.label<i[1]){e.label=i[1],i=u;break}if(i&&e.label<i[2]){e.label=i[2],e.ops.push(u);break}i[2]&&e.ops.pop(),e.trys.pop();continue}u=t.call(n,e)}catch(l){u=[6,l],o=0}finally{r=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,l])}}}function QL(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var o,s,r=e.call(n),i=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(s)throw s.error}}return i}function kg(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(QL(arguments[t]));return n}var ed_unexpectedError_code="unexpected_error",ed_unexpectedError_desc="Unexpected error in authentication.",ed_postRequestFailed_code="post_request_failed",ed_postRequestFailed_desc="Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details.",re=function(n){function t(e,r,o){var i=this;return i=n.call(this,r?e+": "+r:e)||this,Object.setPrototypeOf(i,t.prototype),i.errorCode=e||b.EMPTY_STRING,i.errorMessage=r||b.EMPTY_STRING,i.subError=o||b.EMPTY_STRING,i.name="AuthError",i}return Bn(t,n),t.prototype.setCorrelationId=function(e){this.correlationId=e},t.createUnexpectedError=function(e){return new t(ed_unexpectedError_code,ed_unexpectedError_desc+": "+e)},t.createPostRequestFailed=function(e){return new t(ed_postRequestFailed_code,ed_postRequestFailed_desc+": "+e)},t}(Error),qn_redirectUriNotSet_code="redirect_uri_empty",qn_redirectUriNotSet_desc="A redirect URI is required for all calls, and none has been set.",qn_postLogoutUriNotSet_code="post_logout_uri_empty",qn_postLogoutUriNotSet_desc="A post logout redirect has not been set.",qn_storageNotSupportedError_code="storage_not_supported",qn_storageNotSupportedError_desc="Given storage configuration option was not supported.",qn_noRedirectCallbacksSet_code="no_redirect_callbacks",qn_noRedirectCallbacksSet_desc="No redirect callbacks have been set. Please call setRedirectCallbacks() with the appropriate function arguments before continuing. More information is available here: https://github.com/AzureAD/microsoft-authentication-library-for-js/wiki/MSAL-basics.",qn_stubPcaInstanceCalled_code="stubbed_public_client_application_called",qn_stubPcaInstanceCalled_desc="Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors",qn_inMemRedirectUnavailable_code="in_mem_redirect_unavailable",qn_inMemRedirectUnavailable_desc="Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true.",qn_entropyNotProvided_code="entropy_not_provided",qn_entropyNotProvided_desc="The available browser crypto interface requires entropy set via system.cryptoOptions.entropy configuration option.",Vs=function(n){function t(e,r){var o=n.call(this,e,r)||this;return o.name="BrowserConfigurationAuthError",Object.setPrototypeOf(o,t.prototype),o}return tn(t,n),t.createRedirectUriEmptyError=function(){return new t(qn_redirectUriNotSet_code,qn_redirectUriNotSet_desc)},t.createPostLogoutRedirectUriEmptyError=function(){return new t(qn_postLogoutUriNotSet_code,qn_postLogoutUriNotSet_desc)},t.createStorageNotSupportedError=function(e){return new t(qn_storageNotSupportedError_code,qn_storageNotSupportedError_desc+" Given Location: "+e)},t.createRedirectCallbacksNotSetError=function(){return new t(qn_noRedirectCallbacksSet_code,qn_noRedirectCallbacksSet_desc)},t.createStubPcaInstanceCalledError=function(){return new t(qn_stubPcaInstanceCalled_code,qn_stubPcaInstanceCalled_desc)},t.createInMemoryRedirectUnavailableError=function(){return new t(qn_inMemRedirectUnavailable_code,qn_inMemRedirectUnavailable_desc)},t.createEntropyNotProvided=function(){return new t(qn_entropyNotProvided_code,qn_entropyNotProvided_desc)},t}(re),H_clientInfoDecodingError_code="client_info_decoding_error",H_clientInfoDecodingError_desc="The client info could not be parsed/decoded correctly. Please review the trace to determine the root cause.",H_clientInfoEmptyError_code="client_info_empty_error",H_clientInfoEmptyError_desc="The client info was empty. Please review the trace to determine the root cause.",H_tokenParsingError_code="token_parsing_error",H_tokenParsingError_desc="Token cannot be parsed. Please review stack trace to determine root cause.",H_nullOrEmptyToken_code="null_or_empty_token",H_nullOrEmptyToken_desc="The token is null or empty. Please review the trace to determine the root cause.",H_endpointResolutionError_code="endpoints_resolution_error",H_endpointResolutionError_desc="Error: could not resolve endpoints. Please check network and try again.",H_networkError_code="network_error",H_networkError_desc="Network request failed. Please check network trace to determine root cause.",H_unableToGetOpenidConfigError_code="openid_config_error",H_unableToGetOpenidConfigError_desc="Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",H_hashNotDeserialized_code="hash_not_deserialized",H_hashNotDeserialized_desc="The hash parameters could not be deserialized. Please review the trace to determine the root cause.",H_invalidStateError_code="invalid_state",H_invalidStateError_desc="State was not the expected format. Please check the logs to determine whether the request was sent using ProtocolUtils.setRequestState().",H_stateMismatchError_code="state_mismatch",H_stateMismatchError_desc="State mismatch error. Please check your network. Continued requests may cause cache overflow.",H_stateNotFoundError_code="state_not_found",H_stateNotFoundError_desc="State not found",H_nonceMismatchError_code="nonce_mismatch",H_nonceMismatchError_desc="Nonce mismatch error. This may be caused by a race condition in concurrent requests.",H_nonceNotFoundError_code="nonce_not_found",H_nonceNotFoundError_desc="nonce not found",H_authTimeNotFoundError_code="auth_time_not_found",H_authTimeNotFoundError_desc="Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",H_maxAgeTranspiredError_code="max_age_transpired",H_maxAgeTranspiredError_desc="Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",H_multipleMatchingTokens_code="multiple_matching_tokens",H_multipleMatchingTokens_desc="The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",H_multipleMatchingAccounts_code="multiple_matching_accounts",H_multipleMatchingAccounts_desc="The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",H_multipleMatchingAppMetadata_code="multiple_matching_appMetadata",H_multipleMatchingAppMetadata_desc="The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",H_tokenRequestCannotBeMade_code="request_cannot_be_made",H_tokenRequestCannotBeMade_desc="Token request cannot be made without authorization code or refresh token.",H_appendEmptyScopeError_code="cannot_append_empty_scope",H_appendEmptyScopeError_desc="Cannot append null or empty scope to ScopeSet. Please check the stack trace for more info.",H_removeEmptyScopeError_code="cannot_remove_empty_scope",H_removeEmptyScopeError_desc="Cannot remove null or empty scope from ScopeSet. Please check the stack trace for more info.",H_appendScopeSetError_code="cannot_append_scopeset",H_appendScopeSetError_desc="Cannot append ScopeSet due to error.",H_emptyInputScopeSetError_code="empty_input_scopeset",H_emptyInputScopeSetError_desc="Empty input ScopeSet cannot be processed.",H_DeviceCodePollingCancelled_code="device_code_polling_cancelled",H_DeviceCodePollingCancelled_desc="Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",H_DeviceCodeExpired_code="device_code_expired",H_DeviceCodeExpired_desc="Device code is expired.",H_DeviceCodeUnknownError_code="device_code_unknown_error",H_DeviceCodeUnknownError_desc="Device code stopped polling for unknown reasons.",H_NoAccountInSilentRequest_code="no_account_in_silent_request",H_NoAccountInSilentRequest_desc="Please pass an account object, silent flow is not supported without account information",H_invalidCacheRecord_code="invalid_cache_record",H_invalidCacheRecord_desc="Cache record object was null or undefined.",H_invalidCacheEnvironment_code="invalid_cache_environment",H_invalidCacheEnvironment_desc="Invalid environment when attempting to create cache entry",H_noAccountFound_code="no_account_found",H_noAccountFound_desc="No account found in cache for given key.",H_CachePluginError_code="no cache plugin set on CacheManager",H_CachePluginError_desc="ICachePlugin needs to be set before using readFromStorage or writeFromStorage",H_noCryptoObj_code="no_crypto_object",H_noCryptoObj_desc="No crypto object detected. This is required for the following operation: ",H_invalidCacheType_code="invalid_cache_type",H_invalidCacheType_desc="Invalid cache type",H_unexpectedAccountType_code="unexpected_account_type",H_unexpectedAccountType_desc="Unexpected account type.",H_unexpectedCredentialType_code="unexpected_credential_type",H_unexpectedCredentialType_desc="Unexpected credential type.",H_invalidAssertion_code="invalid_assertion",H_invalidAssertion_desc="Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",H_invalidClientCredential_code="invalid_client_credential",H_invalidClientCredential_desc="Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",H_tokenRefreshRequired_code="token_refresh_required",H_tokenRefreshRequired_desc="Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",H_userTimeoutReached_code="user_timeout_reached",H_userTimeoutReached_desc="User defined timeout for device code polling reached",H_tokenClaimsRequired_code="token_claims_cnf_required_for_signedjwt",H_tokenClaimsRequired_desc="Cannot generate a POP jwt if the token_claims are not populated",H_noAuthorizationCodeFromServer_code="authorization_code_missing_from_server_response",H_noAuthorizationCodeFromServer_desc="Server response does not contain an authorization code to proceed",H_bindingKeyNotRemovedError_code="binding_key_not_removed",H_bindingKeyNotRemovedError_desc="Could not remove the credential's binding key from storage.",H_logoutNotSupported_code="end_session_endpoint_not_supported",H_logoutNotSupported_desc="Provided authority does not support logout.",H_keyIdMissing_code="key_id_missing",H_keyIdMissing_desc="A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",H_noNetworkConnectivity_code="no_network_connectivity",H_noNetworkConnectivity_desc="No network connectivity. Check your internet connection.",H_userCanceledError_code="user_canceled",H_userCanceledError_desc="User canceled the flow.",Y=function(n){function t(e,r){var o=n.call(this,e,r)||this;return o.name="ClientAuthError",Object.setPrototypeOf(o,t.prototype),o}return Bn(t,n),t.createClientInfoDecodingError=function(e){return new t(H_clientInfoDecodingError_code,H_clientInfoDecodingError_desc+" Failed with error: "+e)},t.createClientInfoEmptyError=function(){return new t(H_clientInfoEmptyError_code,""+H_clientInfoEmptyError_desc)},t.createTokenParsingError=function(e){return new t(H_tokenParsingError_code,H_tokenParsingError_desc+" Failed with error: "+e)},t.createTokenNullOrEmptyError=function(e){return new t(H_nullOrEmptyToken_code,H_nullOrEmptyToken_desc+" Raw Token Value: "+e)},t.createEndpointDiscoveryIncompleteError=function(e){return new t(H_endpointResolutionError_code,H_endpointResolutionError_desc+" Detail: "+e)},t.createNetworkError=function(e,r){return new t(H_networkError_code,H_networkError_desc+" | Fetch client threw: "+r+" | Attempted to reach: "+e.split("?")[0])},t.createUnableToGetOpenidConfigError=function(e){return new t(H_unableToGetOpenidConfigError_code,H_unableToGetOpenidConfigError_desc+" Attempted to retrieve endpoints from: "+e)},t.createHashNotDeserializedError=function(e){return new t(H_hashNotDeserialized_code,H_hashNotDeserialized_desc+" Given Object: "+e)},t.createInvalidStateError=function(e,r){return new t(H_invalidStateError_code,H_invalidStateError_desc+" Invalid State: "+e+", Root Err: "+r)},t.createStateMismatchError=function(){return new t(H_stateMismatchError_code,H_stateMismatchError_desc)},t.createStateNotFoundError=function(e){return new t(H_stateNotFoundError_code,H_stateNotFoundError_desc+":  "+e)},t.createNonceMismatchError=function(){return new t(H_nonceMismatchError_code,H_nonceMismatchError_desc)},t.createAuthTimeNotFoundError=function(){return new t(H_authTimeNotFoundError_code,H_authTimeNotFoundError_desc)},t.createMaxAgeTranspiredError=function(){return new t(H_maxAgeTranspiredError_code,H_maxAgeTranspiredError_desc)},t.createNonceNotFoundError=function(e){return new t(H_nonceNotFoundError_code,H_nonceNotFoundError_desc+":  "+e)},t.createMultipleMatchingTokensInCacheError=function(){return new t(H_multipleMatchingTokens_code,H_multipleMatchingTokens_desc+".")},t.createMultipleMatchingAccountsInCacheError=function(){return new t(H_multipleMatchingAccounts_code,H_multipleMatchingAccounts_desc)},t.createMultipleMatchingAppMetadataInCacheError=function(){return new t(H_multipleMatchingAppMetadata_code,H_multipleMatchingAppMetadata_desc)},t.createTokenRequestCannotBeMadeError=function(){return new t(H_tokenRequestCannotBeMade_code,H_tokenRequestCannotBeMade_desc)},t.createAppendEmptyScopeToSetError=function(e){return new t(H_appendEmptyScopeError_code,H_appendEmptyScopeError_desc+" Given Scope: "+e)},t.createRemoveEmptyScopeFromSetError=function(e){return new t(H_removeEmptyScopeError_code,H_removeEmptyScopeError_desc+" Given Scope: "+e)},t.createAppendScopeSetError=function(e){return new t(H_appendScopeSetError_code,H_appendScopeSetError_desc+" Detail Error: "+e)},t.createEmptyInputScopeSetError=function(){return new t(H_emptyInputScopeSetError_code,""+H_emptyInputScopeSetError_desc)},t.createDeviceCodeCancelledError=function(){return new t(H_DeviceCodePollingCancelled_code,""+H_DeviceCodePollingCancelled_desc)},t.createDeviceCodeExpiredError=function(){return new t(H_DeviceCodeExpired_code,""+H_DeviceCodeExpired_desc)},t.createDeviceCodeUnknownError=function(){return new t(H_DeviceCodeUnknownError_code,""+H_DeviceCodeUnknownError_desc)},t.createNoAccountInSilentRequestError=function(){return new t(H_NoAccountInSilentRequest_code,""+H_NoAccountInSilentRequest_desc)},t.createNullOrUndefinedCacheRecord=function(){return new t(H_invalidCacheRecord_code,H_invalidCacheRecord_desc)},t.createInvalidCacheEnvironmentError=function(){return new t(H_invalidCacheEnvironment_code,H_invalidCacheEnvironment_desc)},t.createNoAccountFoundError=function(){return new t(H_noAccountFound_code,H_noAccountFound_desc)},t.createCachePluginError=function(){return new t(H_CachePluginError_code,""+H_CachePluginError_desc)},t.createNoCryptoObjectError=function(e){return new t(H_noCryptoObj_code,""+H_noCryptoObj_desc+e)},t.createInvalidCacheTypeError=function(){return new t(H_invalidCacheType_code,""+H_invalidCacheType_desc)},t.createUnexpectedAccountTypeError=function(){return new t(H_unexpectedAccountType_code,""+H_unexpectedAccountType_desc)},t.createUnexpectedCredentialTypeError=function(){return new t(H_unexpectedCredentialType_code,""+H_unexpectedCredentialType_desc)},t.createInvalidAssertionError=function(){return new t(H_invalidAssertion_code,""+H_invalidAssertion_desc)},t.createInvalidCredentialError=function(){return new t(H_invalidClientCredential_code,""+H_invalidClientCredential_desc)},t.createRefreshRequiredError=function(){return new t(H_tokenRefreshRequired_code,H_tokenRefreshRequired_desc)},t.createUserTimeoutReachedError=function(){return new t(H_userTimeoutReached_code,H_userTimeoutReached_desc)},t.createTokenClaimsRequiredError=function(){return new t(H_tokenClaimsRequired_code,H_tokenClaimsRequired_desc)},t.createNoAuthCodeInServerResponseError=function(){return new t(H_noAuthorizationCodeFromServer_code,H_noAuthorizationCodeFromServer_desc)},t.createBindingKeyNotRemovedError=function(){return new t(H_bindingKeyNotRemovedError_code,H_bindingKeyNotRemovedError_desc)},t.createLogoutNotSupportedError=function(){return new t(H_logoutNotSupported_code,H_logoutNotSupported_desc)},t.createKeyIdMissingError=function(){return new t(H_keyIdMissing_code,H_keyIdMissing_desc)},t.createNoNetworkConnectivityError=function(){return new t(H_noNetworkConnectivity_code,H_noNetworkConnectivity_desc)},t.createUserCanceledError=function(){return new t(H_userCanceledError_code,H_userCanceledError_desc)},t}(re),Ce_redirectUriNotSet_code="redirect_uri_empty",Ce_redirectUriNotSet_desc="A redirect URI is required for all calls, and none has been set.",Ce_postLogoutUriNotSet_code="post_logout_uri_empty",Ce_postLogoutUriNotSet_desc="A post logout redirect has not been set.",Ce_claimsRequestParsingError_code="claims_request_parsing_error",Ce_claimsRequestParsingError_desc="Could not parse the given claims request object.",Ce_authorityUriInsecure_code="authority_uri_insecure",Ce_authorityUriInsecure_desc="Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",Ce_urlParseError_code="url_parse_error",Ce_urlParseError_desc="URL could not be parsed into appropriate segments.",Ce_urlEmptyError_code="empty_url_error",Ce_urlEmptyError_desc="URL was empty or null.",Ce_emptyScopesError_code="empty_input_scopes_error",Ce_emptyScopesError_desc="Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",Ce_clientIdSingleScopeError_code="clientid_input_scopes_error",Ce_clientIdSingleScopeError_desc="Client ID can only be provided as a single scope.",Ce_invalidPrompt_code="invalid_prompt_value",Ce_invalidPrompt_desc="Supported prompt values are 'login', 'select_account', 'consent', 'create', 'none' and 'no_session'.  Please see here for valid configuration options: https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_common.html#commonauthorizationurlrequest",Ce_invalidClaimsRequest_code="invalid_claims",Ce_invalidClaimsRequest_desc="Given claims parameter must be a stringified JSON object.",Ce_tokenRequestEmptyError_code="token_request_empty",Ce_tokenRequestEmptyError_desc="Token request was empty and not found in cache.",Ce_logoutRequestEmptyError_code="logout_request_empty",Ce_logoutRequestEmptyError_desc="The logout request was null or undefined.",Ce_invalidCodeChallengeMethod_code="invalid_code_challenge_method",Ce_invalidCodeChallengeMethod_desc='code_challenge_method passed is invalid. Valid values are "plain" and "S256".',Ce_invalidCodeChallengeParams_code="pkce_params_missing",Ce_invalidCodeChallengeParams_desc="Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",Ce_invalidCloudDiscoveryMetadata_code="invalid_cloud_discovery_metadata",Ce_invalidCloudDiscoveryMetadata_desc="Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",Ce_invalidAuthorityMetadata_code="invalid_authority_metadata",Ce_invalidAuthorityMetadata_desc="Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",Ce_untrustedAuthority_code="untrusted_authority",Ce_untrustedAuthority_desc="The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",Ce_invalidAzureCloudInstance_code="invalid_azure_cloud_instance",Ce_invalidAzureCloudInstance_desc="Invalid AzureCloudInstance provided. Please refer MSAL JS docs: aks.ms/msaljs/azure_cloud_instance for valid values",Ce_missingSshJwk_code="missing_ssh_jwk",Ce_missingSshJwk_desc="Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",Ce_missingSshKid_code="missing_ssh_kid",Ce_missingSshKid_desc="Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",Ce_missingNonceAuthenticationHeader_code="missing_nonce_authentication_header",Ce_missingNonceAuthenticationHeader_desc="Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",Ce_invalidAuthenticationHeader_code="invalid_authentication_header",Ce_invalidAuthenticationHeader_desc="Invalid authentication header provided",ut=function(n){function t(e,r){var o=n.call(this,e,r)||this;return o.name="ClientConfigurationError",Object.setPrototypeOf(o,t.prototype),o}return Bn(t,n),t.createRedirectUriEmptyError=function(){return new t(Ce_redirectUriNotSet_code,Ce_redirectUriNotSet_desc)},t.createPostLogoutRedirectUriEmptyError=function(){return new t(Ce_postLogoutUriNotSet_code,Ce_postLogoutUriNotSet_desc)},t.createClaimsRequestParsingError=function(e){return new t(Ce_claimsRequestParsingError_code,Ce_claimsRequestParsingError_desc+" Given value: "+e)},t.createInsecureAuthorityUriError=function(e){return new t(Ce_authorityUriInsecure_code,Ce_authorityUriInsecure_desc+" Given URI: "+e)},t.createUrlParseError=function(e){return new t(Ce_urlParseError_code,Ce_urlParseError_desc+" Given Error: "+e)},t.createUrlEmptyError=function(){return new t(Ce_urlEmptyError_code,Ce_urlEmptyError_desc)},t.createEmptyScopesArrayError=function(){return new t(Ce_emptyScopesError_code,""+Ce_emptyScopesError_desc)},t.createClientIdSingleScopeError=function(e){return new t(Ce_clientIdSingleScopeError_code,Ce_clientIdSingleScopeError_desc+" Given Scopes: "+e)},t.createInvalidPromptError=function(e){return new t(Ce_invalidPrompt_code,Ce_invalidPrompt_desc+" Given value: "+e)},t.createInvalidClaimsRequestError=function(){return new t(Ce_invalidClaimsRequest_code,Ce_invalidClaimsRequest_desc)},t.createEmptyLogoutRequestError=function(){return new t(Ce_logoutRequestEmptyError_code,Ce_logoutRequestEmptyError_desc)},t.createEmptyTokenRequestError=function(){return new t(Ce_tokenRequestEmptyError_code,Ce_tokenRequestEmptyError_desc)},t.createInvalidCodeChallengeMethodError=function(){return new t(Ce_invalidCodeChallengeMethod_code,Ce_invalidCodeChallengeMethod_desc)},t.createInvalidCodeChallengeParamsError=function(){return new t(Ce_invalidCodeChallengeParams_code,Ce_invalidCodeChallengeParams_desc)},t.createInvalidCloudDiscoveryMetadataError=function(){return new t(Ce_invalidCloudDiscoveryMetadata_code,Ce_invalidCloudDiscoveryMetadata_desc)},t.createInvalidAuthorityMetadataError=function(){return new t(Ce_invalidAuthorityMetadata_code,Ce_invalidAuthorityMetadata_desc)},t.createUntrustedAuthorityError=function(){return new t(Ce_untrustedAuthority_code,Ce_untrustedAuthority_desc)},t.createInvalidAzureCloudInstanceError=function(){return new t(Ce_invalidAzureCloudInstance_code,Ce_invalidAzureCloudInstance_desc)},t.createMissingSshJwkError=function(){return new t(Ce_missingSshJwk_code,Ce_missingSshJwk_desc)},t.createMissingSshKidError=function(){return new t(Ce_missingSshKid_code,Ce_missingSshKid_desc)},t.createMissingNonceAuthenticationHeadersError=function(){return new t(Ce_missingNonceAuthenticationHeader_code,Ce_missingNonceAuthenticationHeader_desc)},t.createInvalidAuthenticationHeaderError=function(e,r){return new t(Ce_invalidAuthenticationHeader_code,Ce_invalidAuthenticationHeader_desc+". Invalid header: "+e+". Details: "+r)},t}(Y),z=function(){function n(){}return n.decodeAuthToken=function(t){if(n.isEmpty(t))throw Y.createTokenNullOrEmptyError(t);var r=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(t);if(!r||r.length<4)throw Y.createTokenParsingError("Given token is malformed: "+JSON.stringify(t));return{header:r[1],JWSPayload:r[2],JWSSig:r[3]}},n.isEmpty=function(t){return typeof t>"u"||!t||0===t.length},n.isEmptyObj=function(t){if(t&&!n.isEmpty(t))try{var e=JSON.parse(t);return 0===Object.keys(e).length}catch{}return!0},n.startsWith=function(t,e){return 0===t.indexOf(e)},n.endsWith=function(t,e){return t.length>=e.length&&t.lastIndexOf(e)===t.length-e.length},n.queryStringToObject=function(t){var e={},r=t.split("&"),o=function(i){return decodeURIComponent(i.replace(/\+/g," "))};return r.forEach(function(i){if(i.trim()){var s=i.split(/=(.+)/g,2),a=s[0],c=s[1];a&&c&&(e[o(a)]=o(c))}}),e},n.trimArrayEntries=function(t){return t.map(function(e){return e.trim()})},n.removeEmptyStringsFromArray=function(t){return t.filter(function(e){return!n.isEmpty(e)})},n.jsonParseHelper=function(t){try{return JSON.parse(t)}catch{return null}},n.matchPattern=function(t,e){return new RegExp(t.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(e)},n}(),Ne=function(){function n(t){if(this._urlString=t,z.isEmpty(this._urlString))throw ut.createUrlEmptyError();z.isEmpty(this.getHash())&&(this._urlString=n.canonicalizeUri(t))}return Object.defineProperty(n.prototype,"urlString",{get:function(){return this._urlString},enumerable:!1,configurable:!0}),n.canonicalizeUri=function(t){if(t){var e=t.toLowerCase();return z.endsWith(e,"?")?e=e.slice(0,-1):z.endsWith(e,"?/")&&(e=e.slice(0,-2)),z.endsWith(e,"/")||(e+="/"),e}return t},n.prototype.validateAsUri=function(){var t;try{t=this.getUrlComponents()}catch(e){throw ut.createUrlParseError(e)}if(!t.HostNameAndPort||!t.PathSegments)throw ut.createUrlParseError("Given url string: "+this.urlString);if(!t.Protocol||"https:"!==t.Protocol.toLowerCase())throw ut.createInsecureAuthorityUriError(this.urlString)},n.appendQueryString=function(t,e){return z.isEmpty(e)?t:t.indexOf("?")<0?t+"?"+e:t+"&"+e},n.removeHashFromUrl=function(t){return n.canonicalizeUri(t.split("#")[0])},n.prototype.replaceTenantPath=function(t){var e=this.getUrlComponents(),r=e.PathSegments;return t&&0!==r.length&&(r[0]===dc.COMMON||r[0]===dc.ORGANIZATIONS)&&(r[0]=t),n.constructAuthorityUriFromObject(e)},n.prototype.getHash=function(){return n.parseHash(this.urlString)},n.prototype.getUrlComponents=function(){var t=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),e=this.urlString.match(t);if(!e)throw ut.createUrlParseError("Given url string: "+this.urlString);var r={Protocol:e[1],HostNameAndPort:e[4],AbsolutePath:e[5],QueryString:e[7]},o=r.AbsolutePath.split("/");return o=o.filter(function(i){return i&&i.length>0}),r.PathSegments=o,!z.isEmpty(r.QueryString)&&r.QueryString.endsWith("/")&&(r.QueryString=r.QueryString.substring(0,r.QueryString.length-1)),r},n.getDomainFromUrl=function(t){var e=RegExp("^([^:/?#]+://)?([^/?#]*)"),r=t.match(e);if(!r)throw ut.createUrlParseError("Given url string: "+t);return r[2]},n.getAbsoluteUrl=function(t,e){if(t[0]===b.FORWARD_SLASH){var o=new n(e).getUrlComponents();return o.Protocol+"//"+o.HostNameAndPort+t}return t},n.parseHash=function(t){var e=t.indexOf("#"),r=t.indexOf("#/");return r>-1?t.substring(r+2):e>-1?t.substring(e+1):b.EMPTY_STRING},n.parseQueryString=function(t){var e=t.indexOf("?"),r=t.indexOf("/?");return r>-1?t.substring(r+2):e>-1?t.substring(e+1):b.EMPTY_STRING},n.constructAuthorityUriFromObject=function(t){return new n(t.Protocol+"//"+t.HostNameAndPort+"/"+t.PathSegments.join("/"))},n.getDeserializedHash=function(t){if(z.isEmpty(t))return{};var e=n.parseHash(t),r=z.queryStringToObject(z.isEmpty(e)?t:e);if(!r)throw Y.createHashNotDeserializedError(JSON.stringify(r));return r},n.getDeserializedQueryString=function(t){if(z.isEmpty(t))return{};var e=n.parseQueryString(t),r=z.queryStringToObject(z.isEmpty(e)?t:e);if(!r)throw Y.createHashNotDeserializedError(JSON.stringify(r));return r},n.hashContainsKnownProperties=function(t){if(z.isEmpty(t)||t.indexOf("=")<0)return!1;var e=n.getDeserializedHash(t);return!!(e.code||e.error_description||e.error||e.state)},n}(),U_pkceNotGenerated_code="pkce_not_created",U_pkceNotGenerated_desc="The PKCE code challenge and verifier could not be generated.",U_cryptoDoesNotExist_code="crypto_nonexistent",U_cryptoDoesNotExist_desc="The crypto object or function is not available.",U_httpMethodNotImplementedError_code="http_method_not_implemented",U_httpMethodNotImplementedError_desc="The HTTP method given has not been implemented in this library.",U_emptyNavigateUriError_code="empty_navigate_uri",U_emptyNavigateUriError_desc="Navigation URI is empty. Please check stack trace for more info.",U_hashEmptyError_code="hash_empty_error",U_hashEmptyError_desc="Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. For more visit: aka.ms/msaljs/browser-errors.",U_hashDoesNotContainStateError_code="no_state_in_hash",U_hashDoesNotContainStateError_desc="Hash does not contain state. Please verify that the request originated from msal.",U_hashDoesNotContainKnownPropertiesError_code="hash_does_not_contain_known_properties",U_hashDoesNotContainKnownPropertiesError_desc="Hash does not contain known properites. Please verify that your redirectUri is not changing the hash. For more visit: aka.ms/msaljs/browser-errors.",U_unableToParseStateError_code="unable_to_parse_state",U_unableToParseStateError_desc="Unable to parse state. Please verify that the request originated from msal.",U_stateInteractionTypeMismatchError_code="state_interaction_type_mismatch",U_stateInteractionTypeMismatchError_desc="Hash contains state but the interaction type does not match the caller.",U_interactionInProgress_code="interaction_in_progress",U_interactionInProgress_desc="Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.  For more visit: aka.ms/msaljs/browser-errors.",U_popupWindowError_code="popup_window_error",U_popupWindowError_desc="Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser.",U_emptyWindowError_code="empty_window_error",U_emptyWindowError_desc="window.open returned null or undefined window object.",U_userCancelledError_code="user_cancelled",U_userCancelledError_desc="User cancelled the flow.",U_monitorPopupTimeoutError_code="monitor_window_timeout",U_monitorPopupTimeoutError_desc="Token acquisition in popup failed due to timeout. For more visit: aka.ms/msaljs/browser-errors.",U_monitorIframeTimeoutError_code="monitor_window_timeout",U_monitorIframeTimeoutError_desc="Token acquisition in iframe failed due to timeout. For more visit: aka.ms/msaljs/browser-errors.",U_redirectInIframeError_code="redirect_in_iframe",U_redirectInIframeError_desc="Redirects are not supported for iframed or brokered applications. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs.",U_blockTokenRequestsInHiddenIframeError_code="block_iframe_reload",U_blockTokenRequestsInHiddenIframeError_desc="Request was blocked inside an iframe because MSAL detected an authentication response. For more visit: aka.ms/msaljs/browser-errors",U_blockAcquireTokenInPopupsError_code="block_nested_popups",U_blockAcquireTokenInPopupsError_desc="Request was blocked inside a popup because MSAL detected it was running in a popup.",U_iframeClosedPrematurelyError_code="iframe_closed_prematurely",U_iframeClosedPrematurelyError_desc="The iframe being monitored was closed prematurely.",U_silentLogoutUnsupportedError_code="silent_logout_unsupported",U_silentLogoutUnsupportedError_desc="Silent logout not supported. Please call logoutRedirect or logoutPopup instead.",U_noAccountError_code="no_account_error",U_noAccountError_desc="No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request.",U_silentPromptValueError_code="silent_prompt_value_error",U_silentPromptValueError_desc="The value given for the prompt value is not valid for silent requests - must be set to 'none' or 'no_session'.",U_noTokenRequestCacheError_code="no_token_request_cache_error",U_noTokenRequestCacheError_desc="No token request found in cache.",U_unableToParseTokenRequestCacheError_code="unable_to_parse_token_request_cache_error",U_unableToParseTokenRequestCacheError_desc="The cached token request could not be parsed.",U_noCachedAuthorityError_code="no_cached_authority_error",U_noCachedAuthorityError_desc="No cached authority found.",U_authRequestNotSet_code="auth_request_not_set_error",U_authRequestNotSet_desc="Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler",U_invalidCacheType_code="invalid_cache_type",U_invalidCacheType_desc="Invalid cache type",U_notInBrowserEnvironment_code="non_browser_environment",U_notInBrowserEnvironment_desc="Login and token requests are not supported in non-browser environments.",U_databaseNotOpen_code="database_not_open",U_databaseNotOpen_desc="Database is not open!",U_noNetworkConnectivity_code="no_network_connectivity",U_noNetworkConnectivity_desc="No network connectivity. Check your internet connection.",U_postRequestFailed_code="post_request_failed",U_postRequestFailed_desc="Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'",U_getRequestFailed_code="get_request_failed",U_getRequestFailed_desc="Network request failed. Please check the network trace to determine root cause.",U_failedToParseNetworkResponse_code="failed_to_parse_response",U_failedToParseNetworkResponse_desc="Failed to parse network response. Check network trace.",U_unableToLoadTokenError_code="unable_to_load_token",U_unableToLoadTokenError_desc="Error loading token to cache.",U_signingKeyNotFoundInStorage_code="crypto_key_not_found",U_signingKeyNotFoundInStorage_desc="Cryptographic Key or Keypair not found in browser storage.",U_authCodeRequired_code="auth_code_required",U_authCodeRequired_desc="An authorization code must be provided (as the `code` property on the request) to this flow.",U_authCodeOrNativeAccountRequired_code="auth_code_or_nativeAccountId_required",U_authCodeOrNativeAccountRequired_desc="An authorization code or nativeAccountId must be provided to this flow.",U_spaCodeAndNativeAccountPresent_code="spa_code_and_nativeAccountId_present",U_spaCodeAndNativeAccountPresent_desc="Request cannot contain both spa code and native account id.",U_databaseUnavailable_code="database_unavailable",U_databaseUnavailable_desc="IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts.",U_unableToAcquireTokenFromNativePlatform_code="unable_to_acquire_token_from_native_platform",U_unableToAcquireTokenFromNativePlatform_desc="Unable to acquire token from native platform. For a list of possible reasons visit aka.ms/msaljs/browser-errors.",U_nativeHandshakeTimeout_code="native_handshake_timeout",U_nativeHandshakeTimeout_desc="Timed out while attempting to establish connection to browser extension",U_nativeExtensionNotInstalled_code="native_extension_not_installed",U_nativeExtensionNotInstalled_desc="Native extension is not installed. If you think this is a mistake call the initialize function.",U_nativeConnectionNotEstablished_code="native_connection_not_established",U_nativeConnectionNotEstablished_desc="Connection to native platform has not been established. Please install a compatible browser extension and run initialize(). For more please visit aka.ms/msaljs/browser-errors.",U_nativeBrokerCalledBeforeInitialize_code="native_broker_called_before_initialize",U_nativeBrokerCalledBeforeInitialize_desc="You must call and await the initialize function before attempting to call any other MSAL API when native brokering is enabled. For more please visit aka.ms/msaljs/browser-errors.",U_nativePromptNotSupported_code="native_prompt_not_supported",U_nativePromptNotSupported_desc="The provided prompt is not supported by the native platform. This request should be routed to the web based flow.",$=function(n){function t(e,r){var o=n.call(this,e,r)||this;return Object.setPrototypeOf(o,t.prototype),o.name="BrowserAuthError",o}return tn(t,n),t.createPkceNotGeneratedError=function(e){return new t(U_pkceNotGenerated_code,U_pkceNotGenerated_desc+" Detail:"+e)},t.createCryptoNotAvailableError=function(e){return new t(U_cryptoDoesNotExist_code,U_cryptoDoesNotExist_desc+" Detail:"+e)},t.createHttpMethodNotImplementedError=function(e){return new t(U_httpMethodNotImplementedError_code,U_httpMethodNotImplementedError_desc+" Given Method: "+e)},t.createEmptyNavigationUriError=function(){return new t(U_emptyNavigateUriError_code,U_emptyNavigateUriError_desc)},t.createEmptyHashError=function(e){return new t(U_hashEmptyError_code,U_hashEmptyError_desc+" Given Url: "+e)},t.createHashDoesNotContainStateError=function(){return new t(U_hashDoesNotContainStateError_code,U_hashDoesNotContainStateError_desc)},t.createHashDoesNotContainKnownPropertiesError=function(){return new t(U_hashDoesNotContainKnownPropertiesError_code,U_hashDoesNotContainKnownPropertiesError_desc)},t.createUnableToParseStateError=function(){return new t(U_unableToParseStateError_code,U_unableToParseStateError_desc)},t.createStateInteractionTypeMismatchError=function(){return new t(U_stateInteractionTypeMismatchError_code,U_stateInteractionTypeMismatchError_desc)},t.createInteractionInProgressError=function(){return new t(U_interactionInProgress_code,U_interactionInProgress_desc)},t.createPopupWindowError=function(e){var r=U_popupWindowError_desc;return r=z.isEmpty(e)?r:r+" Details: "+e,new t(U_popupWindowError_code,r)},t.createEmptyWindowCreatedError=function(){return new t(U_emptyWindowError_code,U_emptyWindowError_desc)},t.createUserCancelledError=function(){return new t(U_userCancelledError_code,U_userCancelledError_desc)},t.createMonitorPopupTimeoutError=function(){return new t(U_monitorPopupTimeoutError_code,U_monitorPopupTimeoutError_desc)},t.createMonitorIframeTimeoutError=function(){return new t(U_monitorIframeTimeoutError_code,U_monitorIframeTimeoutError_desc)},t.createRedirectInIframeError=function(e){return new t(U_redirectInIframeError_code,U_redirectInIframeError_desc+" (window.parent !== window) => "+e)},t.createBlockReloadInHiddenIframeError=function(){return new t(U_blockTokenRequestsInHiddenIframeError_code,U_blockTokenRequestsInHiddenIframeError_desc)},t.createBlockAcquireTokenInPopupsError=function(){return new t(U_blockAcquireTokenInPopupsError_code,U_blockAcquireTokenInPopupsError_desc)},t.createIframeClosedPrematurelyError=function(){return new t(U_iframeClosedPrematurelyError_code,U_iframeClosedPrematurelyError_desc)},t.createSilentLogoutUnsupportedError=function(){return new t(U_silentLogoutUnsupportedError_code,U_silentLogoutUnsupportedError_desc)},t.createNoAccountError=function(){return new t(U_noAccountError_code,U_noAccountError_desc)},t.createSilentPromptValueError=function(e){return new t(U_silentPromptValueError_code,U_silentPromptValueError_desc+" Given value: "+e)},t.createUnableToParseTokenRequestCacheError=function(){return new t(U_unableToParseTokenRequestCacheError_code,U_unableToParseTokenRequestCacheError_desc)},t.createNoTokenRequestCacheError=function(){return new t(U_noTokenRequestCacheError_code,U_noTokenRequestCacheError_desc)},t.createAuthRequestNotSetError=function(){return new t(U_authRequestNotSet_code,U_authRequestNotSet_desc)},t.createNoCachedAuthorityError=function(){return new t(U_noCachedAuthorityError_code,U_noCachedAuthorityError_desc)},t.createInvalidCacheTypeError=function(){return new t(U_invalidCacheType_code,""+U_invalidCacheType_desc)},t.createNonBrowserEnvironmentError=function(){return new t(U_notInBrowserEnvironment_code,U_notInBrowserEnvironment_desc)},t.createDatabaseNotOpenError=function(){return new t(U_databaseNotOpen_code,U_databaseNotOpen_desc)},t.createNoNetworkConnectivityError=function(){return new t(U_noNetworkConnectivity_code,U_noNetworkConnectivity_desc)},t.createPostRequestFailedError=function(e,r){return new t(U_postRequestFailed_code,U_postRequestFailed_desc+" | Network client threw: "+e+" | Attempted to reach: "+r.split("?")[0])},t.createGetRequestFailedError=function(e,r){return new t(U_getRequestFailed_code,U_getRequestFailed_desc+" | Network client threw: "+e+" | Attempted to reach: "+r.split("?")[0])},t.createFailedToParseNetworkResponseError=function(e){return new t(U_failedToParseNetworkResponse_code,U_failedToParseNetworkResponse_desc+" | Attempted to reach: "+e.split("?")[0])},t.createUnableToLoadTokenError=function(e){return new t(U_unableToLoadTokenError_code,U_unableToLoadTokenError_desc+" | "+e)},t.createSigningKeyNotFoundInStorageError=function(e){return new t(U_signingKeyNotFoundInStorage_code,U_signingKeyNotFoundInStorage_desc+" | No match found for KeyId: "+e)},t.createAuthCodeRequiredError=function(){return new t(U_authCodeRequired_code,U_authCodeRequired_desc)},t.createAuthCodeOrNativeAccountIdRequiredError=function(){return new t(U_authCodeOrNativeAccountRequired_code,U_authCodeOrNativeAccountRequired_desc)},t.createSpaCodeAndNativeAccountIdPresentError=function(){return new t(U_spaCodeAndNativeAccountPresent_code,U_spaCodeAndNativeAccountPresent_desc)},t.createDatabaseUnavailableError=function(){return new t(U_databaseUnavailable_code,U_databaseUnavailable_desc)},t.createUnableToAcquireTokenFromNativePlatformError=function(){return new t(U_unableToAcquireTokenFromNativePlatform_code,U_unableToAcquireTokenFromNativePlatform_desc)},t.createNativeHandshakeTimeoutError=function(){return new t(U_nativeHandshakeTimeout_code,U_nativeHandshakeTimeout_desc)},t.createNativeExtensionNotInstalledError=function(){return new t(U_nativeExtensionNotInstalled_code,U_nativeExtensionNotInstalled_desc)},t.createNativeConnectionNotEstablishedError=function(){return new t(U_nativeConnectionNotEstablished_code,U_nativeConnectionNotEstablished_desc)},t.createNativeBrokerCalledBeforeInitialize=function(){return new t(U_nativeBrokerCalledBeforeInitialize_code,U_nativeBrokerCalledBeforeInitialize_desc)},t.createNativePromptParameterNotSupportedError=function(){return new t(U_nativePromptNotSupported_code,U_nativePromptNotSupported_desc)},t}(re),YL=function(){function n(){}return n.prototype.sendGetRequestAsync=function(t,e){return x(this,void 0,void 0,function(){var r,o,i;return F(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,fetch(t,{method:Vr.GET,headers:this.getFetchHeaders(e)})];case 1:return r=s.sent(),[3,3];case 2:throw o=s.sent(),window.navigator.onLine?$.createGetRequestFailedError(o,t):$.createNoNetworkConnectivityError();case 3:return s.trys.push([3,5,,6]),i={headers:this.getHeaderDict(r.headers)},[4,r.json()];case 4:return[2,(i.body=s.sent(),i.status=r.status,i)];case 5:throw s.sent(),$.createFailedToParseNetworkResponseError(t);case 6:return[2]}})})},n.prototype.sendPostRequestAsync=function(t,e){return x(this,void 0,void 0,function(){var r,o,i,s;return F(this,function(a){switch(a.label){case 0:r=e&&e.body||b.EMPTY_STRING,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,fetch(t,{method:Vr.POST,headers:this.getFetchHeaders(e),body:r})];case 2:return o=a.sent(),[3,4];case 3:throw i=a.sent(),window.navigator.onLine?$.createPostRequestFailedError(i,t):$.createNoNetworkConnectivityError();case 4:return a.trys.push([4,6,,7]),s={headers:this.getHeaderDict(o.headers)},[4,o.json()];case 5:return[2,(s.body=a.sent(),s.status=o.status,s)];case 6:throw a.sent(),$.createFailedToParseNetworkResponseError(t);case 7:return[2]}})})},n.prototype.getFetchHeaders=function(t){var e=new Headers;if(!t||!t.headers)return e;var r=t.headers;return Object.keys(r).forEach(function(o){e.append(o,r[o])}),e},n.prototype.getHeaderDict=function(t){var e={};return t.forEach(function(r,o){e[o]=r}),e},n}(),JL=function(){function n(){}return n.prototype.sendGetRequestAsync=function(t,e){return x(this,void 0,void 0,function(){return F(this,function(r){return[2,this.sendRequestAsync(t,Vr.GET,e)]})})},n.prototype.sendPostRequestAsync=function(t,e){return x(this,void 0,void 0,function(){return F(this,function(r){return[2,this.sendRequestAsync(t,Vr.POST,e)]})})},n.prototype.sendRequestAsync=function(t,e,r){var o=this;return new Promise(function(i,s){var a=new XMLHttpRequest;if(a.open(e,t,!0),o.setXhrHeaders(a,r),a.onload=function(){(a.status<200||a.status>=300)&&s(e===Vr.POST?$.createPostRequestFailedError("Failed with status "+a.status,t):$.createGetRequestFailedError("Failed with status "+a.status,t));try{var c=JSON.parse(a.responseText),u={headers:o.getHeaderDict(a),body:c,status:a.status};i(u)}catch{s($.createFailedToParseNetworkResponseError(t))}},a.onerror=function(){window.navigator.onLine?s(e===Vr.POST?$.createPostRequestFailedError("Failed with status "+a.status,t):$.createGetRequestFailedError("Failed with status "+a.status,t)):s($.createNoNetworkConnectivityError())},e===Vr.POST&&r&&r.body)a.send(r.body);else{if(e!==Vr.GET)throw $.createHttpMethodNotImplementedError(e);a.send()}})},n.prototype.setXhrHeaders=function(t,e){if(e&&e.headers){var r=e.headers;Object.keys(r).forEach(function(o){t.setRequestHeader(o,r[o])})}},n.prototype.getHeaderDict=function(t){var r=t.getAllResponseHeaders().trim().split(/[\r\n]+/),o={};return r.forEach(function(i){var s=i.split(": "),a=s.shift(),c=s.join(": ");a&&c&&(o[a]=c)}),o},n}(),lt=function(){function n(){}return n.clearHash=function(t){t.location.hash=b.EMPTY_STRING,"function"==typeof t.history.replaceState&&t.history.replaceState(null,b.EMPTY_STRING,""+t.location.origin+t.location.pathname+t.location.search)},n.replaceHash=function(t){var e=t.split("#");e.shift(),window.location.hash=e.length>0?e.join("#"):b.EMPTY_STRING},n.isInIframe=function(){return window.parent!==window},n.isInPopup=function(){return typeof window<"u"&&!!window.opener&&window.opener!==window&&"string"==typeof window.name&&0===window.name.indexOf("msal.")},n.getCurrentUri=function(){return window.location.href.split("?")[0].split("#")[0]},n.getHomepage=function(){var e=new Ne(window.location.href).getUrlComponents();return e.Protocol+"//"+e.HostNameAndPort+"/"},n.getBrowserNetworkClient=function(){return window.fetch&&window.Headers?new YL:new JL},n.blockReloadInHiddenIframes=function(){if(Ne.hashContainsKnownProperties(window.location.hash)&&n.isInIframe())throw $.createBlockReloadInHiddenIframeError()},n.blockRedirectInIframe=function(t,e){var r=n.isInIframe();if(t===q.Redirect&&r&&!e)throw $.createRedirectInIframeError(r)},n.blockAcquireTokenInPopups=function(){if(n.isInPopup())throw $.createBlockAcquireTokenInPopupsError()},n.blockNonBrowserEnvironment=function(t){if(!t)throw $.createNonBrowserEnvironmentError()},n.blockNativeBrokerCalledBeforeInitialized=function(t,e){if(t&&!e)throw $.createNativeBrokerCalledBeforeInitialize()},n.detectIEOrEdge=function(){var t=window.navigator.userAgent,e=t.indexOf("MSIE "),r=t.indexOf("Trident/"),o=t.indexOf("Edge/");return e>0||r>0||o>0},n}();const W0={now:()=>(W0.delegate||Date).now(),delegate:void 0};class XL extends Ue{constructor(t=1/0,e=1/0,r=W0){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:i,_windowTime:s}=this;e||(r.push(t),!o&&r.push(i.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:o}=this,i=o.slice();for(let s=0;s<i.length&&!t.closed;s+=r?1:2)t.next(i[s]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:r,_infiniteTimeWindow:o}=this,i=(o?1:2)*t;if(t<1/0&&i<r.length&&r.splice(0,r.length-i),!o){const s=e.now();let a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}}const td=new oe("MSAL_INSTANCE"),nd=new oe("MSAL_GUARD_CONFIG"),Ng=new oe("MSAL_INTERCEPTOR_CONFIG"),ZL=new oe("MSAL_BROADCAST_CONFIG"),K0="@azure/msal-angular",Pg="2.5.4";let Gn=(()=>{class n{constructor(e,r){this.instance=e,this.location=r;const o=this.location.path(!0).split("#").pop();o&&(this.redirectHash=`#${o}`),this.instance.initializeWrapperLibrary(Zl.Angular,Pg)}initialize(){return He(this.instance.initialize())}acquireTokenPopup(e){return He(this.instance.acquireTokenPopup(e))}acquireTokenRedirect(e){return He(this.instance.acquireTokenRedirect(e))}acquireTokenSilent(e){return He(this.instance.acquireTokenSilent(e))}handleRedirectObservable(e){return He(this.instance.handleRedirectPromise(e||this.redirectHash))}loginPopup(e){return He(this.instance.loginPopup(e))}loginRedirect(e){return He(this.instance.loginRedirect(e))}logout(e){return He(this.instance.logout(e))}logoutRedirect(e){return He(this.instance.logoutRedirect(e))}logoutPopup(e){return He(this.instance.logoutPopup(e))}ssoSilent(e){return He(this.instance.ssoSilent(e))}getLogger(){return this.logger||(this.logger=this.instance.getLogger().clone(K0,Pg)),this.logger}setLogger(e){this.logger=e.clone(K0,Pg),this.instance.setLogger(e)}}return n.\u0275fac=function(e){return new(e||n)(B(td),B(Ds))},n.\u0275prov=Z({token:n,factory:n.\u0275fac}),n})(),Ai=(()=>{class n{constructor(e,r,o){this.msalInstance=e,this.authService=r,this.msalBroadcastConfig=o,this.msalBroadcastConfig&&this.msalBroadcastConfig.eventsToReplay>0?(this.authService.getLogger().verbose(`BroadcastService - replayPastEvents set on BroadcastConfig, replaying the last ${this.msalBroadcastConfig.eventsToReplay} events`),this._msalSubject=new XL(this.msalBroadcastConfig.eventsToReplay)):this._msalSubject=new Ue,this.msalSubject$=this._msalSubject.asObservable(),this._inProgress=new yr(Ct.Startup),this.inProgress$=this._inProgress.asObservable(),this.msalInstance.addEventCallback(i=>{this._msalSubject.next(i);const s=KL.getInteractionStatusFromEvent(i,this._inProgress.value);null!==s&&(this.authService.getLogger().verbose(`BroadcastService - ${i.eventType} results in setting inProgress from ${this._inProgress.value} to ${s}`),this._inProgress.next(s))})}}return n.\u0275fac=function(e){return new(e||n)(B(td),B(Gn),B(ZL,8))},n.\u0275prov=Z({token:n,factory:n.\u0275fac}),n})(),Bs=(()=>{class n{constructor(e,r,o,i,s){this.msalGuardConfig=e,this.msalBroadcastService=r,this.authService=o,this.location=i,this.router=s,this.msalBroadcastService.inProgress$.subscribe()}parseUrl(e){return this.router.parseUrl(e)}getDestinationUrl(e){this.authService.getLogger().verbose("Guard - getting destination url");const r=document.getElementsByTagName("base"),o=this.location.normalize(r.length?r[0].href:window.location.origin),i=this.location.prepareExternalUrl(e);return i.startsWith("#")?(this.authService.getLogger().verbose("Guard - destination by hash routing"),`${o}/${i}`):`${o}${e}`}loginInteractively(e){const r="function"==typeof this.msalGuardConfig.authRequest?this.msalGuardConfig.authRequest(this.authService,e):Object.assign({},this.msalGuardConfig.authRequest);if(this.msalGuardConfig.interactionType===q.Popup)return this.authService.getLogger().verbose("Guard - logging in by popup"),this.authService.loginPopup(r).pipe(we(i=>(this.authService.getLogger().verbose("Guard - login by popup successful, can activate, setting active account"),this.authService.instance.setActiveAccount(i.account),!0)));this.authService.getLogger().verbose("Guard - logging in by redirect");const o=this.getDestinationUrl(e.url);return this.authService.loginRedirect(Object.assign({redirectStartPage:o},r)).pipe(we(()=>!1))}activateHelper(e){if(this.msalGuardConfig.interactionType!==q.Popup&&this.msalGuardConfig.interactionType!==q.Redirect)throw new Vs("invalid_interaction_type","Invalid interaction type provided to MSAL Guard. InteractionType.Popup or InteractionType.Redirect must be provided in the MsalGuardConfiguration");if(this.authService.getLogger().verbose("MSAL Guard activated"),!(typeof window<"u"))return this.authService.getLogger().info("Guard - window is undefined, MSAL does not support server-side token acquisition"),te(!0);if(Ne.hashContainsKnownProperties(window.location.hash)&&lt.isInIframe()&&!this.authService.instance.getConfiguration().system.allowRedirectInIframe)return this.authService.getLogger().warning("Guard - redirectUri set to page with MSAL Guard. It is recommended to not set redirectUri to a page that requires authentication."),te(!1);this.msalGuardConfig.loginFailedRoute&&(this.loginFailedRoute=this.parseUrl(this.msalGuardConfig.loginFailedRoute));const r=this.location.path(!0);return this.authService.handleRedirectObservable().pipe(eo(()=>{if(!this.authService.instance.getAllAccounts().length)return e?(this.authService.getLogger().verbose("Guard - no accounts retrieved, log in required to activate"),this.loginInteractively(e)):(this.authService.getLogger().verbose("Guard - no accounts retrieved, no state, cannot load"),te(!1));if(this.authService.getLogger().verbose("Guard - at least 1 account exists, can activate or load"),e){const o=this.includesCode(e.url),i=!!e.root&&!!e.root.fragment&&this.includesCode(`#${e.root.fragment}`),s=0===this.location.prepareExternalUrl(e.url).indexOf("#");if(o&&(i||s))return this.authService.getLogger().info("Guard - Hash contains known code response, stopping navigation."),r.indexOf("#")>-1?te(this.parseUrl(this.location.path())):te(this.parseUrl(""))}return te(!0)}),to(o=>(this.authService.getLogger().error("Guard - error while logging in, unable to activate"),this.authService.getLogger().errorPii(`Guard - error: ${o.message}`),this.loginFailedRoute&&parseInt(Hy.major,10)>9&&e?(this.authService.getLogger().verbose("Guard - loginFailedRoute set, redirecting"),te(this.loginFailedRoute)):te(!1))))}includesCode(e){return e.lastIndexOf("/code")>-1&&e.lastIndexOf("/code")===e.length-5||e.indexOf("#code=")>-1||e.indexOf("&code=")>-1}canActivate(e,r){return this.authService.getLogger().verbose("Guard - canActivate"),this.activateHelper(r)}canActivateChild(e,r){return this.authService.getLogger().verbose("Guard - canActivateChild"),this.activateHelper(r)}canLoad(){return this.authService.getLogger().verbose("Guard - canLoad"),this.activateHelper()}}return n.\u0275fac=function(e){return new(e||n)(B(nd),B(Ai),B(Gn),B(Ds),B(Mt))},n.\u0275prov=Z({token:n,factory:n.\u0275fac}),n})(),eU=(()=>{class n{constructor(e,r,o,i,s){this.msalInterceptorConfig=e,this.authService=r,this.location=o,this.msalBroadcastService=i,this._document=s}intercept(e,r){if(this.msalInterceptorConfig.interactionType!==q.Popup&&this.msalInterceptorConfig.interactionType!==q.Redirect)throw new Vs("invalid_interaction_type","Invalid interaction type provided to MSAL Interceptor. InteractionType.Popup, InteractionType.Redirect must be provided in the msalInterceptorConfiguration");this.authService.getLogger().verbose("MSAL Interceptor activated");const o=this.getScopesForEndpoint(e.url,e.method);if(!o||0===o.length)return this.authService.getLogger().verbose("Interceptor - no scopes for endpoint"),r.handle(e);let i;this.authService.instance.getActiveAccount()?(this.authService.getLogger().verbose("Interceptor - active account selected"),i=this.authService.instance.getActiveAccount()):(this.authService.getLogger().verbose("Interceptor - no active account, fallback to first account"),i=this.authService.instance.getAllAccounts()[0]);const s="function"==typeof this.msalInterceptorConfig.authRequest?this.msalInterceptorConfig.authRequest(this.authService,e,{account:i}):Object.assign(Object.assign({},this.msalInterceptorConfig.authRequest),{account:i});return this.authService.getLogger().info(`Interceptor - ${o.length} scopes found for endpoint`),this.authService.getLogger().infoPii(`Interceptor - [${o}] scopes found for ${e.url}`),this.acquireToken(s,o,i).pipe(kn(a=>{this.authService.getLogger().verbose("Interceptor - setting authorization headers");const c=e.headers.set("Authorization",`Bearer ${a.accessToken}`),u=e.clone({headers:c});return r.handle(u)}))}acquireToken(e,r,o){return this.authService.acquireTokenSilent(Object.assign(Object.assign({},e),{scopes:r,account:o})).pipe(to(()=>(this.authService.getLogger().error("Interceptor - acquireTokenSilent rejected with error. Invoking interaction to resolve."),this.msalBroadcastService.inProgress$.pipe($o(1),kn(i=>i===Ct.None?this.acquireTokenInteractively(e,r):this.msalBroadcastService.inProgress$.pipe(mn(s=>s===Ct.None),$o(1),kn(()=>this.acquireToken(e,r,o))))))),kn(i=>i.accessToken?te(i):(this.authService.getLogger().error("Interceptor - acquireTokenSilent resolved with null access token. Known issue with B2C tenants, invoking interaction to resolve."),this.msalBroadcastService.inProgress$.pipe(mn(s=>s===Ct.None),$o(1),kn(()=>this.acquireTokenInteractively(e,r))))))}acquireTokenInteractively(e,r){if(this.msalInterceptorConfig.interactionType===q.Popup)return this.authService.getLogger().verbose("Interceptor - error acquiring token silently, acquiring by popup"),this.authService.acquireTokenPopup(Object.assign(Object.assign({},e),{scopes:r}));this.authService.getLogger().verbose("Interceptor - error acquiring token silently, acquiring by redirect");const o=window.location.href;return this.authService.acquireTokenRedirect(Object.assign(Object.assign({},e),{scopes:r,redirectStartPage:o})),qr}getScopesForEndpoint(e,r){this.authService.getLogger().verbose("Interceptor - getting scopes for endpoint");const o=this.location.normalize(e),i=Array.from(this.msalInterceptorConfig.protectedResourceMap.keys()),s=this.matchResourcesToEndpoint(i,o);return s.absoluteResources.length>0?this.matchScopesToEndpoint(this.msalInterceptorConfig.protectedResourceMap,s.absoluteResources,r):s.relativeResources.length>0?this.matchScopesToEndpoint(this.msalInterceptorConfig.protectedResourceMap,s.relativeResources,r):null}matchResourcesToEndpoint(e,r){const o={absoluteResources:[],relativeResources:[]};return e.forEach(i=>{const s=this.location.normalize(i);z.matchPattern(s,r)&&o.absoluteResources.push(i);const a=this.getAbsoluteUrl(i),c=new Ne(a).getUrlComponents(),u=this.getAbsoluteUrl(r),l=new Ne(u).getUrlComponents(),d=c.QueryString?`${c.AbsolutePath}?${c.QueryString}`:this.location.normalize(c.AbsolutePath);c.HostNameAndPort===l.HostNameAndPort&&z.matchPattern(d,u)&&""!==d&&"/*"!==d&&o.relativeResources.push(i)}),o}getAbsoluteUrl(e){const r=this._document.createElement("a");return r.href=e,r.href}matchScopesToEndpoint(e,r,o){const i=[];return r.forEach(s=>{const a=[],c=e.get(s);null!==c?(c.forEach(u=>{if("string"==typeof u)a.push(u);else{const l=o.toLowerCase();u.httpMethod.toLowerCase()===l&&(null===u.scopes?i.push(null):u.scopes.forEach(h=>{a.push(h)}))}}),a.length>0&&i.push(a)):i.push(null)}),i.length>0?(i.length>1&&this.authService.getLogger().warning("Interceptor - More than 1 matching scopes for endpoint found."),i[0]):null}}return n.\u0275fac=function(e){return new(e||n)(B(Ng),B(Gn),B(Ds),B(Ai),B(zt))},n.\u0275prov=Z({token:n,factory:n.\u0275fac}),n})(),tU=(()=>{class n{constructor(e){this.authService=e}ngOnInit(){this.authService.getLogger().verbose("MsalRedirectComponent activated"),this.authService.initialize().pipe(eo(()=>this.authService.handleRedirectObservable())).subscribe()}}return n.\u0275fac=function(e){return new(e||n)(R(Gn))},n.\u0275cmp=Ir({type:n,selectors:[["app-redirect"]],decls:0,vars:0,template:function(e,r){},encapsulation:2}),n})(),nU=(()=>{class n{static forRoot(e,r,o){return{ngModule:n,providers:[{provide:td,useValue:e},{provide:nd,useValue:r},{provide:Ng,useValue:o},Gn]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=xn({type:n}),n.\u0275inj=En({providers:[Bs,Ai],imports:[YE]}),n})();function Og(n){return bt((t,e)=>{ur(n).subscribe(mt(e,()=>e.complete(),an)),!e.closed&&t.subscribe(e)})}let Q0=(()=>{class n{constructor(e){this.router=e,this.admin=!1}canActivate(){return!!this.admin||(this.router.navigate(["/home"]),!1)}setAdmin(e){this.admin=e}}return n.\u0275fac=function(e){return new(e||n)(B(Mt))},n.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Y0{}class J0{}class ko{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const o=e.slice(0,r),i=o.toLowerCase(),s=e.slice(r+1).trim();this.maybeSetNormalizedName(o,i),this.headers.has(i)?this.headers.get(i).push(s):this.headers.set(i,[s])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let r=t[e];const o=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(o,r),this.maybeSetNormalizedName(e,o))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof ko?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new ko;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof ko?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,e);const o=("a"===t.op?this.headers.get(e):void 0)||[];o.push(...r),this.headers.set(e,o);break;case"d":const i=t.value;if(i){let s=this.headers.get(e);if(!s)return;s=s.filter(a=>-1===i.indexOf(a)),0===s.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class rU{encodeKey(t){return X0(t)}encodeValue(t){return X0(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const iU=/%(\d[a-f0-9])/gi,sU={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function X0(n){return encodeURIComponent(n).replace(iU,(t,e)=>sU[e]??t)}function rd(n){return`${n}`}class Jo{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new rU,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function oU(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{const i=o.indexOf("="),[s,a]=-1==i?[t.decodeKey(o),""]:[t.decodeKey(o.slice(0,i)),t.decodeValue(o.slice(i+1))],c=e.get(s)||[];c.push(a),e.set(s,c)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const r=t.fromObject[e],o=Array.isArray(r)?r.map(rd):[rd(r)];this.map.set(e,o)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(r=>{const o=t[r];Array.isArray(o)?o.forEach(i=>{e.push({param:r,value:i,op:"a"})}):e.push({param:r,value:o,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Jo({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(rd(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const o=r.indexOf(rd(t.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class aU{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function Z0(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function eT(n){return typeof Blob<"u"&&n instanceof Blob}function tT(n){return typeof FormData<"u"&&n instanceof FormData}class yc{constructor(t,e,r,o){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function cU(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,i=o):i=r,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params)),this.headers||(this.headers=new ko),this.context||(this.context=new aU),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+s}}else this.params=new Jo,this.urlWithParams=e}serializeBody(){return null===this.body?null:Z0(this.body)||eT(this.body)||tT(this.body)||function uU(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Jo?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||tT(this.body)?null:eT(this.body)?this.body.type||null:Z0(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Jo?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,r=t.url||this.url,o=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let c=t.headers||this.headers,u=t.params||this.params;const l=t.context??this.context;return void 0!==t.setHeaders&&(c=Object.keys(t.setHeaders).reduce((d,h)=>d.set(h,t.setHeaders[h]),c)),t.setParams&&(u=Object.keys(t.setParams).reduce((d,h)=>d.set(h,t.setParams[h]),u)),new yc(e,r,i,{params:u,headers:c,context:l,reportProgress:a,responseType:o,withCredentials:s})}}var Ft=(()=>((Ft=Ft||{})[Ft.Sent=0]="Sent",Ft[Ft.UploadProgress=1]="UploadProgress",Ft[Ft.ResponseHeader=2]="ResponseHeader",Ft[Ft.DownloadProgress=3]="DownloadProgress",Ft[Ft.Response=4]="Response",Ft[Ft.User=5]="User",Ft))();class xg{constructor(t,e=200,r="OK"){this.headers=t.headers||new ko,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Fg extends xg{constructor(t={}){super(t),this.type=Ft.ResponseHeader}clone(t={}){return new Fg({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class od extends xg{constructor(t={}){super(t),this.type=Ft.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new od({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class nT extends xg{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Lg(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let so=(()=>{class n{constructor(e){this.handler=e}request(e,r,o={}){let i;if(e instanceof yc)i=e;else{let c,u;c=o.headers instanceof ko?o.headers:new ko(o.headers),o.params&&(u=o.params instanceof Jo?o.params:new Jo({fromObject:o.params})),i=new yc(e,r,void 0!==o.body?o.body:null,{headers:c,context:o.context,params:u,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const s=te(i).pipe(eo(c=>this.handler.handle(c)));if(e instanceof yc||"events"===o.observe)return s;const a=s.pipe(mn(c=>c instanceof od));switch(o.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return a.pipe(we(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(we(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(we(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(we(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new Jo).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,o={}){return this.request("PATCH",e,Lg(o,r))}post(e,r,o={}){return this.request("POST",e,Lg(o,r))}put(e,r,o={}){return this.request("PUT",e,Lg(o,r))}}return n.\u0275fac=function(e){return new(e||n)(B(Y0))},n.\u0275prov=Z({token:n,factory:n.\u0275fac}),n})();class rT{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const Ug=new oe("HTTP_INTERCEPTORS");let lU=(()=>{class n{intercept(e,r){return r.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Z({token:n,factory:n.\u0275fac}),n})();const dU=/^\)\]\}',?\n/;let oT=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new gt(r=>{const o=this.xhrFactory.build();if(o.open(e.method,e.urlWithParams),e.withCredentials&&(o.withCredentials=!0),e.headers.forEach((g,m)=>o.setRequestHeader(g,m.join(","))),e.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const g=e.detectContentTypeHeader();null!==g&&o.setRequestHeader("Content-Type",g)}if(e.responseType){const g=e.responseType.toLowerCase();o.responseType="json"!==g?g:"text"}const i=e.serializeBody();let s=null;const a=()=>{if(null!==s)return s;const g=o.statusText||"OK",m=new ko(o.getAllResponseHeaders()),E=function hU(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||e.url;return s=new Fg({headers:m,status:o.status,statusText:g,url:E}),s},c=()=>{let{headers:g,status:m,statusText:E,url:S}=a(),T=null;204!==m&&(T=typeof o.response>"u"?o.responseText:o.response),0===m&&(m=T?200:0);let N=m>=200&&m<300;if("json"===e.responseType&&"string"==typeof T){const D=T;T=T.replace(dU,"");try{T=""!==T?JSON.parse(T):null}catch(J){T=D,N&&(N=!1,T={error:J,text:T})}}N?(r.next(new od({body:T,headers:g,status:m,statusText:E,url:S||void 0})),r.complete()):r.error(new nT({error:T,headers:g,status:m,statusText:E,url:S||void 0}))},u=g=>{const{url:m}=a(),E=new nT({error:g,status:o.status||0,statusText:o.statusText||"Unknown Error",url:m||void 0});r.error(E)};let l=!1;const d=g=>{l||(r.next(a()),l=!0);let m={type:Ft.DownloadProgress,loaded:g.loaded};g.lengthComputable&&(m.total=g.total),"text"===e.responseType&&!!o.responseText&&(m.partialText=o.responseText),r.next(m)},h=g=>{let m={type:Ft.UploadProgress,loaded:g.loaded};g.lengthComputable&&(m.total=g.total),r.next(m)};return o.addEventListener("load",c),o.addEventListener("error",u),o.addEventListener("timeout",u),o.addEventListener("abort",u),e.reportProgress&&(o.addEventListener("progress",d),null!==i&&o.upload&&o.upload.addEventListener("progress",h)),o.send(i),r.next({type:Ft.Sent}),()=>{o.removeEventListener("error",u),o.removeEventListener("abort",u),o.removeEventListener("load",c),o.removeEventListener("timeout",u),e.reportProgress&&(o.removeEventListener("progress",d),null!==i&&o.upload&&o.upload.removeEventListener("progress",h)),o.readyState!==o.DONE&&o.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(B(ZE))},n.\u0275prov=Z({token:n,factory:n.\u0275fac}),n})();const Hg=new oe("XSRF_COOKIE_NAME"),Vg=new oe("XSRF_HEADER_NAME");class iT{}let fU=(()=>{class n{constructor(e,r,o){this.doc=e,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=jE(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(B(zt),B(dp),B(Hg))},n.\u0275prov=Z({token:n,factory:n.\u0275fac}),n})(),Bg=(()=>{class n{constructor(e,r){this.tokenService=e,this.headerName=r}intercept(e,r){const o=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||o.startsWith("http://")||o.startsWith("https://"))return r.handle(e);const i=this.tokenService.getToken();return null!==i&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,i)})),r.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(B(iT),B(Vg))},n.\u0275prov=Z({token:n,factory:n.\u0275fac}),n})(),pU=(()=>{class n{constructor(e,r){this.backend=e,this.injector=r,this.chain=null}handle(e){if(null===this.chain){const r=this.injector.get(Ug,[]);this.chain=r.reduceRight((o,i)=>new rT(o,i),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(B(J0),B(Hn))},n.\u0275prov=Z({token:n,factory:n.\u0275fac}),n})(),gU=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:Bg,useClass:lU}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:Hg,useValue:e.cookieName}:[],e.headerName?{provide:Vg,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=xn({type:n}),n.\u0275inj=En({providers:[Bg,{provide:Ug,useExisting:Bg,multi:!0},{provide:iT,useClass:fU},{provide:Hg,useValue:"XSRF-TOKEN"},{provide:Vg,useValue:"X-XSRF-TOKEN"}]}),n})(),sT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=xn({type:n}),n.\u0275inj=En({providers:[so,{provide:Y0,useClass:pU},oT,{provide:J0,useExisting:oT}],imports:[gU.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})(),mU=(()=>{class n{constructor(e){this.httpclient=e,this.flask="http://10.14.255.59/admin"}isAdmin(e){return this.httpclient.post(this.flask+"/check-admin",{user:e})}}return n.\u0275fac=function(e){return new(e||n)(B(so))},n.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function vU(n,t){1&n&&(C(0,"a",14),w(1,"Home"),_())}function yU(n,t){1&n&&(C(0,"a",15),w(1,"Chat"),_())}function _U(n,t){1&n&&(C(0,"a",16),w(1,"DevOps"),_())}function CU(n,t){1&n&&(C(0,"a",17),w(1,"My Profile"),_())}function wU(n,t){1&n&&(C(0,"a",18),w(1,"Admin"),_())}let jg=(()=>{class n{constructor(e,r,o,i,s){this.msalGuardConfig=e,this.authService=r,this.msalBroadcastService=o,this.adminAuthGuardService=i,this.adminCheck=s,this.title="Microsoft identity platform",this.loginDisplay=!1,this.userIsAdmin=!1,this.isIframe=!1,this.accounts=[],this._destroying$=new Ue}ngOnInit(){this.isIframe=window!==window.parent&&!window.opener,this.setLoginDisplay(),this.authService.instance.enableAccountStorageEvents(),this.user=this.authService.instance.getActiveAccount()?.username,this.msalBroadcastService.inProgress$.pipe(mn(e=>e===Ct.None),Og(this._destroying$)).subscribe(()=>{this.setLoginDisplay(),this.checkAndSetActiveAccount()}),this.msalBroadcastService.msalSubject$.pipe(mn(e=>e.eventType===ee.LOGOUT_SUCCESS),Og(this._destroying$)).subscribe(e=>{this.setLoginDisplay(),this.checkAndSetActiveAccount()}),this.msalBroadcastService.msalSubject$.pipe(mn(e=>e.eventType===ee.LOGIN_SUCCESS),Og(this._destroying$)).subscribe(e=>{this.authService.instance.setActiveAccount(e.payload.account)}),this.checkAdmin()}checkAndSetActiveAccount(){if(!this.authService.instance.getActiveAccount()&&this.authService.instance.getAllAccounts().length>0){let r=this.authService.instance.getAllAccounts();this.authService.instance.setActiveAccount(r[0])}}login(){this.msalGuardConfig.authRequest?this.authService.loginPopup({...this.msalGuardConfig.authRequest}).subscribe(e=>{this.authService.instance.setActiveAccount(e.account)}):this.authService.loginPopup().subscribe(e=>{this.authService.instance.setActiveAccount(e.account)})}logOut(){this.authService.logoutRedirect({postLogoutRedirectUri:"/",account:this.authService.instance.getActiveAccount()})}loginRedirect(){this.authService.loginRedirect()}setLoginDisplay(){this.loginDisplay=this.authService.instance.getAllAccounts().length>0,this.name=this.authService.instance.getActiveAccount()?this.authService.instance.getActiveAccount()?.username:"Unknown",this.accounts=this.authService.instance.getAllAccounts()}ngOnDestroy(){this._destroying$.next(void 0),this._destroying$.complete()}checkAdmin(){this.adminCheck.isAdmin(this.user).subscribe(e=>{this.userIsAdmin=e.admin,this.adminAuthGuardService.setAdmin(this.userIsAdmin)})}}return n.\u0275fac=function(e){return new(e||n)(R(nd),R(Gn),R(Ai),R(Q0),R(mU))},n.\u0275cmp=Ir({type:n,selectors:[["app-root"]],decls:16,vars:5,consts:[[1,"navbarC","navbar","navbar-expand-lg","navbar-dark","bg-custom"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["src","../assets/images/Perficient-Logo-Horz_NoTag_onecolor_White.png","alt","Logo"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNavAltMarkup","aria-controls","navbarNavAltMarkup","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","ml-auto"],[1,"navbar-toggler-icon"],["id","navbarNavAltMarkup",1,"collapse","navbar-collapse","justify-content-end"],[1,"navbar-nav"],["id","home-section","class","nav-link","routerLink","/home","routerLinkActive","active",4,"ngIf"],["id","chat-section","class","nav-link","routerLink","/chat","routerLinkActive","active",4,"ngIf"],["id","devops-config-section","class","nav-link","routerLink","/devops-config","routerLinkActive","active",4,"ngIf"],["id","profile-section","class","nav-link","routerLink","/profile","routerLinkActive","active",4,"ngIf"],["id","admin-section","class","nav-link","routerLink","/admin","routerLinkActive","active",4,"ngIf"],["id","about-section","routerLink","/about","routerLinkActive","active",1,"nav-link"],["id","home-section","routerLink","/home","routerLinkActive","active",1,"nav-link"],["id","chat-section","routerLink","/chat","routerLinkActive","active",1,"nav-link"],["id","devops-config-section","routerLink","/devops-config","routerLinkActive","active",1,"nav-link"],["id","profile-section","routerLink","/profile","routerLinkActive","active",1,"nav-link"],["id","admin-section","routerLink","/admin","routerLinkActive","active",1,"nav-link"]],template:function(e,r){1&e&&(C(0,"nav",0)(1,"div",1)(2,"a",2),P(3,"img",3),_(),C(4,"button",4),P(5,"span",5),_(),C(6,"div",6)(7,"div",7),K(8,vU,2,0,"a",8),K(9,yU,2,0,"a",9),K(10,_U,2,0,"a",10),K(11,CU,2,0,"a",11),K(12,wU,2,0,"a",12),C(13,"a",13),w(14,"About"),_()()()()(),P(15,"router-outlet")),2&e&&(A(8),j("ngIf",!r.loginDisplay),A(1),j("ngIf",r.loginDisplay),A(1),j("ngIf",r.loginDisplay),A(1),j("ngIf",r.loginDisplay),A(1),j("ngIf",r.loginDisplay&&r.userIsAdmin))},dependencies:[Ms,fg,Wl,N0],styles:[".bg-custom[_ngcontent-%COMP%]{background-color:#282828}.active[_ngcontent-%COMP%]{font-size:larger;padding-top:4.5px;padding-bottom:4.5px}.navbar-nav[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{padding-left:19px}.navbar-brand[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20%;min-width:150px;max-height:50px}.navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{white-space:nowrap}.navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;transition:font-size .1s,color .1s}.body[_ngcontent-%COMP%]{font-family:Lato,sans-serif}a.navbar-brand[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0}.navbar[_ngcontent-%COMP%]{z-index:1}"]}),n})(),EU=(()=>{class n{constructor(e){this.httpclient=e,this.flask="http:/10.14.255.59/employee"}sendUser(e,r){let o={user:r,name:e};return o.name=e,this.httpclient.post(this.flask+"/setup-employee",o)}}return n.\u0275fac=function(e){return new(e||n)(B(so))},n.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function bU(n,t){if(1&n){const e=Nr();C(0,"button",5),ce("click",function(){return Jt(e),Xt(ie().login())}),P(1,"i",6),w(2," \xa0Login With Microsoft "),_()}}function TU(n,t){1&n&&(C(0,"h3",7),w(1," You are logged in! Navigate to the Chat page to have a talk with E.V.A. "),_())}let SU=(()=>{class n{constructor(e,r,o,i,s){this.authService=e,this.appComponent=r,this.msalBroadcastService=o,this.router=i,this.FlaskConnection=s,this.title="Login",this.isIframe=!1,this.loginDisplayStart=!1}ngOnInit(){this.isIframe=window!==window.parent&&!window.opener,this.loginDisplayStart=this.authService.instance.getAllAccounts().length>0,this.msalBroadcastService.msalSubject$.subscribe(e=>{"msal:loginSuccess"===e.eventType&&(this.loginDisplayStart=!0,this.router.navigate(["/chat"]))}),this.loginDisplayStart&&this.router.navigate(["/chat"])}login(){this.appComponent.loginRedirect()}}return n.\u0275fac=function(e){return new(e||n)(R(Gn),R(jg),R(Ai),R(Mt),R(EU))},n.\u0275cmp=Ir({type:n,selectors:[["app-start"]],decls:5,vars:4,consts:[[1,"component-container"],[1,"logIn"],["src","../../assets/images/Logo_EVA_Badge.png","alt","E.V.A. Logo"],["class","btn btn-danger","id","login-button",3,"click",4,"ngIf"],["class","log-in-title",4,"ngIf"],["id","login-button",1,"btn","btn-danger",3,"click"],[1,"fa-brands","fa-microsoft"],[1,"log-in-title"]],template:function(e,r){1&e&&(C(0,"div",0)(1,"div",1),P(2,"img",2),K(3,bU,3,0,"button",3),K(4,TU,2,0,"h3",4),_()()),2&e&&(A(1),pi("logIn-message",r.loginDisplayStart),A(2),j("ngIf",!r.loginDisplayStart),A(1),j("ngIf",r.loginDisplayStart))},dependencies:[Ms],styles:['.component-container[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;height:100vh}.component-container[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-image:url(background-image3-ed.007b5f0adca43f66.jpg);background-size:cover;background-repeat:no-repeat;background-position:center;opacity:.87}.logIn[_ngcontent-%COMP%]{z-index:1;min-height:260px;width:330px;margin:0 auto;color:#fff;border-radius:5px;background:rgba(34,34,34,.39);backdrop-filter:blur(9.5px);-webkit-backdrop-filter:blur(8.5px)}img[_ngcontent-%COMP%]{max-height:190px;max-width:160px;padding-top:10px;padding-bottom:10px}.logIn-message[_ngcontent-%COMP%]{min-height:110px}.btn[_ngcontent-%COMP%]{margin-top:5px;width:250px;position:absolute;left:50%;transform:translate(-50%);padding-left:12px;padding-right:12px;font-size:20px}.btn-danger[_ngcontent-%COMP%]{background-color:#e61717;border-color:#e61717}.log-in-title[_ngcontent-%COMP%]{margin-bottom:10px;font-size:28.8px}h3.log-in-title[_ngcontent-%COMP%]{margin-bottom:0}img[_ngcontent-%COMP%]{width:70%;height:70%;display:block;margin-left:auto;margin-right:auto}']}),n})();function aT(n,t,e,r,o,i,s){try{var a=n[i](s),c=a.value}catch(u){return void e(u)}a.done?t(c):Promise.resolve(c).then(r,o)}function _c(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var i=n.apply(t,e);function s(c){aT(i,r,o,s,a,"next",c)}function a(c){aT(i,r,o,s,a,"throw",c)}s(void 0)})}}function IU(n,t){return{type:7,name:n,definitions:t,options:{}}}function AU(n,t=null){return{type:4,styles:t,timings:n}}function cT(n){return{type:6,styles:n,offset:null}}function uT(n,t,e){return{type:0,name:n,styles:t,options:e}}function DU(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function id(n){return{subject:n.subject,date:"on "+n.start.dateTime.substring(5,10).replace("-","/")+"/"+n.start.dateTime.substring(0,4),time:"from "+n.start.dateTime.substring(11,16)+"\xa0\xa0to\xa0\xa0"+n.end.dateTime.substring(11,16),link:n.webLink}}function BU(n,t){return n+" - "+t}function dT(n){return{message:n.id+" "+n.title,url:n.url,description:n.description?"Description: "+n.description:"",priority:n.priority?"Priority: "+n.priority:"",reason:n.reason?"Reason: "+n.reason:'""',state:n.state?"State: "+n.state:"",linked:n.linked}}const $U=new Set(["graph.microsoft.com","graph.microsoft.us","dod-graph.microsoft.us","graph.microsoft.de","microsoftgraph.chinacloudapi.cn","canary.graph.microsoft.com"]);class Di extends Error{static setGraphClientError(t){let e;return t instanceof Error?e=t:(e=new Di,e.customError=t),e}constructor(t){super(t),Object.setPrototypeOf(this,Di.prototype)}}const zU=["$select","$expand","$orderby","$filter","$top","$skip","$skipToken","$count"],qg=n=>{const t=n&&n.constructor&&n.constructor.name;if("Buffer"===t||"Blob"===t||"File"===t||"FormData"===t||"string"==typeof n)return n;if("ArrayBuffer"===t)n=Buffer.from(n);else if("Int8Array"===t||"Int16Array"===t||"Int32Array"===t||"Uint8Array"===t||"Uint16Array"===t||"Uint32Array"===t||"Uint8ClampedArray"===t||"Float32Array"===t||"Float64Array"===t||"DataView"===t)n=Buffer.from(n.buffer);else try{n=JSON.stringify(n)}catch{throw new Error("Unable to stringify the content")}return n},hT=n=>pT(n),fT=(n,t)=>(t.forEach(e=>KU(e)),pT(n,t)),pT=(n,t=$U)=>{if(-1!==(n=n.toLowerCase()).indexOf("https://")){const e=(n=n.replace("https://","")).indexOf(":"),r=n.indexOf("/");let o="";if(-1!==r)return-1!==e&&e<r?(o=n.substring(0,e),t.has(o)):(o=n.substring(0,r),t.has(o))}return!1},KU=n=>{if(-1!==n.indexOf("/"))throw new Di("Please add only hosts or hostnames to the CustomHosts config. If the url is `http://example.com:3000/`, host is `example:3000`")};class Mi{constructor(t=[]){this.middlewareOptions=new Map;for(const e of t)this.middlewareOptions.set(e.constructor,e)}getMiddlewareOptions(t){return this.middlewareOptions.get(t)}setMiddlewareOptions(t,e){this.middlewareOptions.set(t,e)}}const gT=(n,t,e)=>{let r=null;if(typeof Request<"u"&&n instanceof Request)r=n.headers.get(e);else if(typeof t<"u"&&void 0!==t.headers)if(typeof Headers<"u"&&t.headers instanceof Headers)r=t.headers.get(e);else if(t.headers instanceof Array){const o=t.headers;for(let i=0,s=o.length;i<s;i++)if(o[i][0]===e){r=o[i][1];break}}else void 0!==t.headers[e]&&(r=t.headers[e]);return r},mT=(n,t,e,r)=>{if(typeof Request<"u"&&n instanceof Request)n.headers.set(e,r);else if(typeof t<"u")if(void 0===t.headers)t.headers=new Headers({[e]:r});else if(typeof Headers<"u"&&t.headers instanceof Headers)t.headers.set(e,r);else if(t.headers instanceof Array){let o=0;const i=t.headers.length;for(;o<i;o++){const s=t.headers[o];if(s[0]===e){s[1]=r;break}}o===i&&t.headers.push([e,r])}else Object.assign(t.headers,{[e]:r})},vT=(n,t,e,r)=>{typeof Request<"u"&&n instanceof Request?n.headers.append(e,r):typeof t<"u"&&(void 0===t.headers?t.headers=new Headers({[e]:r}):typeof Headers<"u"&&t.headers instanceof Headers?t.headers.append(e,r):t.headers instanceof Array?t.headers.push([e,r]):void 0===t.headers?t.headers={[e]:r}:void 0===t.headers[e]?t.headers[e]=r:t.headers[e]+=`, ${r}`)};class JU{constructor(t,e){this.authenticationProvider=t,this.authenticationProviderOptions=e}}var Ri=(()=>{return(n=Ri||(Ri={}))[n.NONE=0]="NONE",n[n.REDIRECT_HANDLER_ENABLED=1]="REDIRECT_HANDLER_ENABLED",n[n.RETRY_HANDLER_ENABLED=2]="RETRY_HANDLER_ENABLED",n[n.AUTHENTICATION_HANDLER_ENABLED=4]="AUTHENTICATION_HANDLER_ENABLED",Ri;var n})();class Xo{constructor(){this.featureUsage=Ri.NONE}static updateFeatureUsageFlag(t,e){let r;t.middlewareControl instanceof Mi?r=t.middlewareControl.getMiddlewareOptions(Xo):t.middlewareControl=new Mi,typeof r>"u"&&(r=new Xo,t.middlewareControl.setMiddlewareOptions(Xo,r)),r.setFeatureUsage(e)}setFeatureUsage(t){this.featureUsage=this.featureUsage|t}getFeatureUsage(){return this.featureUsage.toString(16)}}let XU=(()=>{class n{constructor(e){this.authenticationProvider=e}execute(e){return y(this,void 0,void 0,function*(){const r="string"==typeof e.request?e.request:e.request.url;if(hT(r)||e.customHosts&&fT(r,e.customHosts)){let o,i,s;e.middlewareControl instanceof Mi&&(o=e.middlewareControl.getMiddlewareOptions(JU)),o&&(i=o.authenticationProvider,s=o.authenticationProviderOptions),i||(i=this.authenticationProvider);const c=`Bearer ${yield i.getAccessToken(s)}`;vT(e.request,e.options,n.AUTHORIZATION_HEADER,c),Xo.updateFeatureUsageFlag(e,Ri.AUTHENTICATION_HANDLER_ENABLED)}else e.options.headers&&delete e.options.headers[n.AUTHORIZATION_HEADER];return yield this.nextMiddleware.execute(e)})}setNext(e){this.nextMiddleware=e}}return n.AUTHORIZATION_HEADER="Authorization",n})(),eH=(()=>{class n{execute(e){return y(this,void 0,void 0,function*(){const r="string"==typeof e.request?e.request:e.request.url;if(hT(r)||e.customHosts&&fT(r,e.customHosts)){let o=gT(e.request,e.options,n.CLIENT_REQUEST_ID_HEADER);o||(o=(()=>{let n="";for(let t=0;t<32;t++)(8===t||12===t||16===t||20===t)&&(n+="-"),n+=Math.floor(16*Math.random()).toString(16);return n})(),mT(e.request,e.options,n.CLIENT_REQUEST_ID_HEADER,o));let s,i=`${n.PRODUCT_NAME}/3.0.5`;if(e.middlewareControl instanceof Mi&&(s=e.middlewareControl.getMiddlewareOptions(Xo)),s){const a=s.getFeatureUsage();i+=` (${n.FEATURE_USAGE_STRING}=${a})`}vT(e.request,e.options,n.SDK_VERSION_HEADER,i)}else delete e.options.headers[n.CLIENT_REQUEST_ID_HEADER],delete e.options.headers[n.SDK_VERSION_HEADER];return yield this.nextMiddleware.execute(e)})}setNext(e){this.nextMiddleware=e}}return n.CLIENT_REQUEST_ID_HEADER="client-request-id",n.SDK_VERSION_HEADER="SdkVersion",n.PRODUCT_NAME="graph-js",n.FEATURE_USAGE_STRING="featureUsage",n})();class nH{constructor(t){this.provider=t}getAccessToken(){return y(this,void 0,void 0,function*(){return new Promise((t,e)=>{this.provider((r,o)=>y(this,void 0,void 0,function*(){if(o)t(o);else{r||(r=new Di("Access token is undefined or empty.\t\t\t\t\t\tPlease provide a valid token.\t\t\t\t\t\tFor more help - https://github.com/microsoftgraph/msgraph-sdk-javascript/blob/dev/docs/CustomAuthenticationProvider.md"));const i=yield Di.setGraphClientError(r);e(i)}}))})})}}class Cc extends Error{constructor(t=-1,e,r){super(e||r&&r.message),Object.setPrototypeOf(this,Cc.prototype),this.statusCode=t,this.code=null,this.requestId=null,this.date=new Date,this.body=null,this.stack=r?r.stack:this.stack}}class sd{static constructError(t,e,r){const o=new Cc(e,"",t);return void 0!==t.name&&(o.code=t.name),o.body=t.toString(),o.date=new Date,o.headers=r?.headers,o}static constructErrorFromResponse(t,e,r){const o=t.error,i=new Cc(e,o.message);return i.code=o.code,void 0!==o.innerError&&(i.requestId=o.innerError["request-id"],i.date=new Date(o.innerError.date)),i.body=JSON.stringify(o),i.headers=r?.headers,i}static getError(t=null,e=-1,r,o){return y(this,void 0,void 0,function*(){let i;if(t&&t.error?i=sd.constructErrorFromResponse(t,e,o):t instanceof Error?i=sd.constructError(t,e,o):(i=new Cc(e),i.body=t),"function"!=typeof r)return i;r(i,null)})}}var nn=(()=>{return(n=nn||(nn={})).ARRAYBUFFER="arraybuffer",n.BLOB="blob",n.DOCUMENT="document",n.JSON="json",n.RAW="raw",n.STREAM="stream",n.TEXT="text",nn;var n})(),ad=(()=>{return(n=ad||(ad={})).TEXT_HTML="text/html",n.TEXT_XML="text/xml",n.APPLICATION_XML="application/xml",n.APPLICATION_XHTML="application/xhtml+xml",ad;var n})(),wc=(()=>{return(n=wc||(wc={})).TEXT_PLAIN="text/plain",n.APPLICATION_JSON="application/json",wc;var n})(),Ec=(()=>{return(n=Ec||(Ec={})).DOCUMENT="^(text\\/(html|xml))|(application\\/(xml|xhtml\\+xml))$",n.IMAGE="^image\\/.+",Ec;var n})();class bc{static parseDocumentResponse(t,e){return typeof DOMParser<"u"?new Promise((r,o)=>{t.text().then(i=>{try{const a=(new DOMParser).parseFromString(i,e);r(a)}catch(s){o(s)}})}):Promise.resolve(t.body)}static convertResponse(t,e){return y(this,void 0,void 0,function*(){if(204===t.status)return Promise.resolve();let r;const o=t.headers.get("Content-type");switch(e){case nn.ARRAYBUFFER:r=yield t.arrayBuffer();break;case nn.BLOB:r=yield t.blob();break;case nn.DOCUMENT:r=yield bc.parseDocumentResponse(t,ad.TEXT_XML);break;case nn.JSON:r=yield t.json();break;case nn.STREAM:r=yield Promise.resolve(t.body);break;case nn.TEXT:r=yield t.text();break;default:if(null!==o){const i=o.split(";")[0];r=new RegExp(Ec.DOCUMENT).test(i)?yield bc.parseDocumentResponse(t,i):new RegExp(Ec.IMAGE).test(i)?t.blob():i===wc.TEXT_PLAIN?yield t.text():i===wc.APPLICATION_JSON?yield t.json():Promise.resolve(t.body)}else r=Promise.resolve(t.body)}return r})}static getResponse(t,e,r){return y(this,void 0,void 0,function*(){if(e===nn.RAW)return Promise.resolve(t);{const o=yield bc.convertResponse(t,e);if(!t.ok)throw o;if("function"!=typeof r)return o;r(null,o)}})}}var $n=(()=>{return(n=$n||($n={})).GET="GET",n.PATCH="PATCH",n.POST="POST",n.PUT="PUT",n.DELETE="DELETE",$n;var n})();class rH{constructor(t,e,r){this.parsePath=o=>{if(-1!==o.indexOf("https://")){const s=(o=o.replace("https://","")).indexOf("/");-1!==s&&(this.urlComponents.host="https://"+o.substring(0,s),o=o.substring(s+1,o.length));const a=o.indexOf("/");-1!==a&&(this.urlComponents.version=o.substring(0,a),o=o.substring(a+1,o.length))}"/"===o.charAt(0)&&(o=o.substr(1));const i=o.indexOf("?");if(-1===i)this.urlComponents.path=o;else{this.urlComponents.path=o.substr(0,i);const s=o.substring(i+1,o.length).split("&");for(const a of s)this.parseQueryParameter(a)}},this.httpClient=t,this.config=e,this.urlComponents={host:this.config.baseUrl,version:this.config.defaultVersion,oDataQueryParams:{},otherURLQueryParams:{},otherURLQueryOptions:[]},this._headers={},this._options={},this._middlewareOptions=[],this.parsePath(r)}addCsvQueryParameter(t,e,r){this.urlComponents.oDataQueryParams[t]=this.urlComponents.oDataQueryParams[t]?this.urlComponents.oDataQueryParams[t]+",":"";let o=[];r.length>1&&"string"==typeof e?o=Array.prototype.slice.call(r):"string"==typeof e?o.push(e):o=o.concat(e),this.urlComponents.oDataQueryParams[t]+=o.join(",")}buildFullUrl(){const t=(n=>{const t=i=>i.replace(/\/+$/,""),e=i=>i.replace(/^\/+/,"");return Array.prototype.slice.call([this.urlComponents.host,this.urlComponents.version,this.urlComponents.path]).reduce((i,s)=>[t(i),e(s)].join("/"))})()+this.createQueryString();return this.config.debugLogging&&console.log(t),t}createQueryString(){const t=this.urlComponents,e=[];if(0!==Object.keys(t.oDataQueryParams).length)for(const r in t.oDataQueryParams)Object.prototype.hasOwnProperty.call(t.oDataQueryParams,r)&&e.push(r+"="+t.oDataQueryParams[r]);if(0!==Object.keys(t.otherURLQueryParams).length)for(const r in t.otherURLQueryParams)Object.prototype.hasOwnProperty.call(t.otherURLQueryParams,r)&&e.push(r+"="+t.otherURLQueryParams[r]);if(0!==t.otherURLQueryOptions.length)for(const r of t.otherURLQueryOptions)e.push(r);return e.length>0?"?"+e.join("&"):""}parseQueryParameter(t){if("string"==typeof t)if("?"===t.charAt(0)&&(t=t.substring(1)),-1!==t.indexOf("&")){const e=t.split("&");for(const r of e)this.parseQueryParamenterString(r)}else this.parseQueryParamenterString(t);else if(t.constructor===Object)for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&this.setURLComponentsQueryParamater(e,t[e]);return this}parseQueryParamenterString(t){if(this.isValidQueryKeyValuePair(t)){const e=t.indexOf("="),r=t.substring(0,e),o=t.substring(e+1);this.setURLComponentsQueryParamater(r,o)}else this.urlComponents.otherURLQueryOptions.push(t)}setURLComponentsQueryParamater(t,e){if(-1!==zU.indexOf(t)){const r=this.urlComponents.oDataQueryParams[t];this.urlComponents.oDataQueryParams[t]=!r||"$expand"!==t&&"$select"!==t&&"$orderby"!==t?e:r+","+e}else this.urlComponents.otherURLQueryParams[t]=e}isValidQueryKeyValuePair(t){const e=t.indexOf("=");return!(-1===e||-1!==t.indexOf("(")&&t.indexOf("(")<e)}updateRequestOptions(t){const e=Object.assign({},t.headers);if(void 0!==this.config.fetchOptions){const r=Object.assign({},this.config.fetchOptions);Object.assign(t,r),void 0!==typeof this.config.fetchOptions.headers&&(t.headers=Object.assign({},this.config.fetchOptions.headers))}Object.assign(t,this._options),void 0!==t.headers&&Object.assign(e,t.headers),Object.assign(e,this._headers),t.headers=e}send(t,e,r){var o;return y(this,void 0,void 0,function*(){let i;const s=new Mi(this._middlewareOptions);this.updateRequestOptions(e);const a=null===(o=this.config)||void 0===o?void 0:o.customHosts;try{return i=(yield this.httpClient.sendRequest({request:t,options:e,middlewareControl:s,customHosts:a})).response,yield bc.getResponse(i,this._responseType,r)}catch(c){if(c instanceof Di)throw c;let u;throw i&&(u=i.status),yield sd.getError(c,u,r,i)}})}setHeaderContentType(){if(!this._headers)return void this.header("Content-Type","application/json");const t=Object.keys(this._headers);for(const e of t)if("content-type"===e.toLowerCase())return;this.header("Content-Type","application/json")}header(t,e){return this._headers[t]=e,this}headers(t){for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(this._headers[e]=t[e]);return this}option(t,e){return this._options[t]=e,this}options(t){for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(this._options[e]=t[e]);return this}middlewareOptions(t){return this._middlewareOptions=t,this}version(t){return this.urlComponents.version=t,this}responseType(t){return this._responseType=t,this}select(t){return this.addCsvQueryParameter("$select",t,arguments),this}expand(t){return this.addCsvQueryParameter("$expand",t,arguments),this}orderby(t){return this.addCsvQueryParameter("$orderby",t,arguments),this}filter(t){return this.urlComponents.oDataQueryParams.$filter=t,this}search(t){return this.urlComponents.oDataQueryParams.$search=t,this}top(t){return this.urlComponents.oDataQueryParams.$top=t,this}skip(t){return this.urlComponents.oDataQueryParams.$skip=t,this}skipToken(t){return this.urlComponents.oDataQueryParams.$skipToken=t,this}count(t=!0){return this.urlComponents.oDataQueryParams.$count=t.toString(),this}query(t){return this.parseQueryParameter(t)}get(t){return y(this,void 0,void 0,function*(){const e=this.buildFullUrl(),r={method:$n.GET};return yield this.send(e,r,t)})}post(t,e){return y(this,void 0,void 0,function*(){const r=this.buildFullUrl(),o={method:$n.POST,body:qg(t)};return"FormData"===(t&&t.constructor&&t.constructor.name)?o.headers={}:(this.setHeaderContentType(),o.headers=this._headers),yield this.send(r,o,e)})}create(t,e){return y(this,void 0,void 0,function*(){return yield this.post(t,e)})}put(t,e){return y(this,void 0,void 0,function*(){const r=this.buildFullUrl();this.setHeaderContentType();const o={method:$n.PUT,body:qg(t)};return yield this.send(r,o,e)})}patch(t,e){return y(this,void 0,void 0,function*(){const r=this.buildFullUrl();this.setHeaderContentType();const o={method:$n.PATCH,body:qg(t)};return yield this.send(r,o,e)})}update(t,e){return y(this,void 0,void 0,function*(){return yield this.patch(t,e)})}delete(t){return y(this,void 0,void 0,function*(){const e=this.buildFullUrl(),r={method:$n.DELETE};return yield this.send(e,r,t)})}del(t){return y(this,void 0,void 0,function*(){return yield this.delete(t)})}getStream(t){return y(this,void 0,void 0,function*(){const e=this.buildFullUrl(),r={method:$n.GET};return this.responseType(nn.STREAM),yield this.send(e,r,t)})}putStream(t,e){return y(this,void 0,void 0,function*(){const r=this.buildFullUrl(),o={method:$n.PUT,headers:{"Content-Type":"application/octet-stream"},body:t};return yield this.send(r,o,e)})}}class yT{constructor(...t){if(!t||!t.length){const e=new Error;throw e.name="InvalidMiddlewareChain",e.message="Please provide a default middleware chain or custom middleware chain",e}this.setMiddleware(...t)}setMiddleware(...t){t.length>1?this.parseMiddleWareArray(t):this.middleware=t[0]}parseMiddleWareArray(t){t.forEach((e,r)=>{r<t.length-1&&e.setNext(t[r+1])}),this.middleware=t[0]}sendRequest(t){return y(this,void 0,void 0,function*(){if("string"==typeof t.request&&void 0===t.options){const e=new Error;throw e.name="InvalidRequestOptions",e.message="Unable to execute the middleware, Please provide valid options for a request",e}return yield this.middleware.execute(t),t})}}class oH{execute(t){return y(this,void 0,void 0,function*(){t.response=yield fetch(t.request,t.options)})}}let cd=(()=>{class n{constructor(e=n.DEFAULT_MAX_REDIRECTS,r=n.defaultShouldRedirect){if(e>n.MAX_MAX_REDIRECTS){const o=new Error(`MaxRedirects should not be more than ${n.MAX_MAX_REDIRECTS}`);throw o.name="MaxLimitExceeded",o}if(e<0){const o=new Error("MaxRedirects should not be negative");throw o.name="MinExpectationNotMet",o}this.maxRedirects=e,this.shouldRedirect=r}}return n.DEFAULT_MAX_REDIRECTS=5,n.MAX_MAX_REDIRECTS=20,n.defaultShouldRedirect=()=>!0,n})(),Gg=(()=>{class n{constructor(e=n.DEFAULT_DELAY,r=n.DEFAULT_MAX_RETRIES,o=n.defaultShouldRetry){if(e>n.MAX_DELAY&&r>n.MAX_MAX_RETRIES){const i=new Error(`Delay and MaxRetries should not be more than ${n.MAX_DELAY} and ${n.MAX_MAX_RETRIES}`);throw i.name="MaxLimitExceeded",i}if(e>n.MAX_DELAY){const i=new Error(`Delay should not be more than ${n.MAX_DELAY}`);throw i.name="MaxLimitExceeded",i}if(r>n.MAX_MAX_RETRIES){const i=new Error(`MaxRetries should not be more than ${n.MAX_MAX_RETRIES}`);throw i.name="MaxLimitExceeded",i}if(e<0&&r<0){const i=new Error("Delay and MaxRetries should not be negative");throw i.name="MinExpectationNotMet",i}if(e<0){const i=new Error("Delay should not be negative");throw i.name="MinExpectationNotMet",i}if(r<0){const i=new Error("MaxRetries should not be negative");throw i.name="MinExpectationNotMet",i}this.delay=Math.min(e,n.MAX_DELAY),this.maxRetries=Math.min(r,n.MAX_MAX_RETRIES),this.shouldRetry=o}getMaxDelay(){return n.MAX_DELAY}}return n.DEFAULT_DELAY=3,n.DEFAULT_MAX_RETRIES=3,n.MAX_DELAY=180,n.MAX_MAX_RETRIES=10,n.defaultShouldRetry=()=>!0,n})(),iH=(()=>{class n{constructor(e=new cd){this.options=e}isRedirect(e){return-1!==n.REDIRECT_STATUS_CODES.indexOf(e.status)}hasLocationHeader(e){return e.headers.has(n.LOCATION_HEADER)}getLocationHeader(e){return e.headers.get(n.LOCATION_HEADER)}isRelativeURL(e){return-1===e.indexOf("://")}shouldDropAuthorizationHeader(e,r){const o=/^[A-Za-z].+?:\/\/.+?(?=\/|$)/,i=o.exec(e);let s,a;null!==i&&(s=i[0]);const c=o.exec(r);return null!==c&&(a=c[0]),typeof s<"u"&&typeof a<"u"&&s!==a}updateRequestUrl(e,r){return y(this,void 0,void 0,function*(){r.request="string"==typeof r.request?e:yield((n,t)=>y(void 0,void 0,void 0,function*(){const e=t.headers.get("Content-Type")?yield t.blob():yield Promise.resolve(void 0),{method:r,headers:o,referrer:i,referrerPolicy:s,mode:a,credentials:c,cache:u,redirect:l,integrity:d,keepalive:h,signal:g}=t;return new Request(n,{method:r,headers:o,body:e,referrer:i,referrerPolicy:s,mode:a,credentials:c,cache:u,redirect:l,integrity:d,keepalive:h,signal:g})}))(e,r.request)})}getOptions(e){let r;return e.middlewareControl instanceof Mi&&(r=e.middlewareControl.getMiddlewareOptions(cd)),typeof r>"u"&&(r=Object.assign(new cd,this.options)),r}executeWithRedirect(e,r,o){return y(this,void 0,void 0,function*(){yield this.nextMiddleware.execute(e);const i=e.response;if(r<o.maxRedirects&&this.isRedirect(i)&&this.hasLocationHeader(i)&&o.shouldRedirect(i)){if(++r,i.status===n.STATUS_CODE_SEE_OTHER)e.options.method=$n.GET,delete e.options.body;else{const s=this.getLocationHeader(i);!this.isRelativeURL(s)&&this.shouldDropAuthorizationHeader(i.url,s)&&delete e.options.headers[n.AUTHORIZATION_HEADER],yield this.updateRequestUrl(s,e)}yield this.executeWithRedirect(e,r,o)}})}execute(e){return y(this,void 0,void 0,function*(){const o=this.getOptions(e);return e.options.redirect=n.MANUAL_REDIRECT,Xo.updateFeatureUsageFlag(e,Ri.REDIRECT_HANDLER_ENABLED),yield this.executeWithRedirect(e,0,o)})}setNext(e){this.nextMiddleware=e}}return n.REDIRECT_STATUS_CODES=[301,302,303,307,308],n.STATUS_CODE_SEE_OTHER=303,n.LOCATION_HEADER="Location",n.AUTHORIZATION_HEADER="Authorization",n.MANUAL_REDIRECT="manual",n})(),sH=(()=>{class n{constructor(e=new Gg){this.options=e}isRetry(e){return-1!==n.RETRY_STATUS_CODES.indexOf(e.status)}isBuffered(e,r){const o="string"==typeof e?r.method:e.method;return!((o===$n.PUT||o===$n.PATCH||o===$n.POST)&&"application/octet-stream"===gT(e,r,"Content-Type"))}getDelay(e,r,o){const i=()=>Number(Math.random().toFixed(3)),s=void 0!==e.headers?e.headers.get(n.RETRY_AFTER_HEADER):null;let a;return a=null!==s?Number.isNaN(Number(s))?Math.round((new Date(s).getTime()-Date.now())/1e3):Number(s):r>=2?this.getExponentialBackOffTime(r)+o+i():o+i(),Math.min(a,this.options.getMaxDelay()+i())}getExponentialBackOffTime(e){return Math.round(.5*(Math.pow(2,e)-1))}sleep(e){return y(this,void 0,void 0,function*(){const r=1e3*e;return new Promise(o=>setTimeout(o,r))})}getOptions(e){let r;return e.middlewareControl instanceof Mi&&(r=e.middlewareControl.getMiddlewareOptions(this.options.constructor)),typeof r>"u"&&(r=Object.assign(new Gg,this.options)),r}executeWithRetry(e,r,o){return y(this,void 0,void 0,function*(){if(yield this.nextMiddleware.execute(e),r<o.maxRetries&&this.isRetry(e.response)&&this.isBuffered(e.request,e.options)&&o.shouldRetry(o.delay,r,e.request,e.options,e.response)){++r,mT(e.request,e.options,n.RETRY_ATTEMPT_HEADER,r.toString());const i=this.getDelay(e.response,r,o.delay);return yield this.sleep(i),yield this.executeWithRetry(e,r,o)}})}execute(e){return y(this,void 0,void 0,function*(){const o=this.getOptions(e);return Xo.updateFeatureUsageFlag(e,Ri.RETRY_HANDLER_ENABLED),yield this.executeWithRetry(e,0,o)})}setNext(e){this.nextMiddleware=e}}return n.RETRY_STATUS_CODES=[429,503,504],n.RETRY_ATTEMPT_HEADER="Retry-Attempt",n.RETRY_AFTER_HEADER="Retry-After",n})();class $g{static createWithAuthenticationProvider(t){const e=new XU(t),r=new sH(new Gg),o=new eH,i=new oH;if(e.setNext(r),"object"==typeof process){const s=new iH(new cd);r.setNext(s),s.setNext(o)}else r.setNext(o);return o.setNext(i),$g.createWithMiddleware(e)}static createWithMiddleware(...t){return new yT(...t)}}class ud{static init(t){const e={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]="authProvider"===r?new nH(t[r]):t[r]);return ud.initWithMiddleware(e)}static initWithMiddleware(t){return new ud(t)}constructor(t){this.config={baseUrl:"https://graph.microsoft.com/",debugLogging:!1,defaultVersion:"v1.0"},(()=>{if(typeof Promise>"u"&&typeof fetch>"u"){const n=new Error("Library cannot function without Promise and fetch. So, please provide polyfill for them.");throw n.name="PolyFillNotAvailable",n}if(typeof Promise>"u"){const n=new Error("Library cannot function without Promise. So, please provide polyfill for it.");throw n.name="PolyFillNotAvailable",n}if(typeof fetch>"u"){const n=new Error("Library cannot function without fetch. So, please provide polyfill for it.");throw n.name="PolyFillNotAvailable",n}})();for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(this.config[r]=t[r]);let e;if(void 0!==t.authProvider&&void 0!==t.middleware){const r=new Error;throw r.name="AmbiguityInInitialization",r.message="Unable to Create Client, Please provide either authentication provider for default middleware chain or custom middleware chain not both",r}if(void 0!==t.authProvider)e=$g.createWithAuthenticationProvider(t.authProvider);else{if(void 0===t.middleware){const r=new Error;throw r.name="InvalidMiddlewareChain",r.message="Unable to Create Client, Please provide either authentication provider for default middleware chain or custom middleware chain",r}e=new yT(...[].concat(t.middleware))}this.httpClient=e}api(t){return new rH(this.httpClient,this.config,t)}}var Lt=(()=>{return(n=Lt||(Lt={}))[n.Error=0]="Error",n[n.Warning=1]="Warning",n[n.Info=2]="Info",n[n.Verbose=3]="Verbose",n[n.Trace=4]="Trace",Lt;var n})(),_T=function(){function n(t,e,r){this.level=Lt.Info;var i=t||n.createDefaultLoggerOptions();this.localCallback=i.loggerCallback||function(){},this.piiLoggingEnabled=i.piiLoggingEnabled||!1,this.level="number"==typeof i.logLevel?i.logLevel:Lt.Info,this.correlationId=i.correlationId||b.EMPTY_STRING,this.packageName=e||b.EMPTY_STRING,this.packageVersion=r||b.EMPTY_STRING}return n.createDefaultLoggerOptions=function(){return{loggerCallback:function(){},piiLoggingEnabled:!1,logLevel:Lt.Info}},n.prototype.clone=function(t,e,r){return new n({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:r||this.correlationId},t,e)},n.prototype.logMessage=function(t,e){if(!(e.logLevel>this.level||!this.piiLoggingEnabled&&e.containsPii)){var o,r=(new Date).toUTCString();o=z.isEmpty(e.correlationId)?z.isEmpty(this.correlationId)?"["+r+"]":"["+r+"] : ["+this.correlationId+"]":"["+r+"] : ["+e.correlationId+"]",this.executeCallback(e.logLevel,o+" : "+this.packageName+"@"+this.packageVersion+" : "+Lt[e.logLevel]+" - "+t,e.containsPii||!1)}},n.prototype.executeCallback=function(t,e,r){this.localCallback&&this.localCallback(t,e,r)},n.prototype.error=function(t,e){this.logMessage(t,{logLevel:Lt.Error,containsPii:!1,correlationId:e||b.EMPTY_STRING})},n.prototype.errorPii=function(t,e){this.logMessage(t,{logLevel:Lt.Error,containsPii:!0,correlationId:e||b.EMPTY_STRING})},n.prototype.warning=function(t,e){this.logMessage(t,{logLevel:Lt.Warning,containsPii:!1,correlationId:e||b.EMPTY_STRING})},n.prototype.warningPii=function(t,e){this.logMessage(t,{logLevel:Lt.Warning,containsPii:!0,correlationId:e||b.EMPTY_STRING})},n.prototype.info=function(t,e){this.logMessage(t,{logLevel:Lt.Info,containsPii:!1,correlationId:e||b.EMPTY_STRING})},n.prototype.infoPii=function(t,e){this.logMessage(t,{logLevel:Lt.Info,containsPii:!0,correlationId:e||b.EMPTY_STRING})},n.prototype.verbose=function(t,e){this.logMessage(t,{logLevel:Lt.Verbose,containsPii:!1,correlationId:e||b.EMPTY_STRING})},n.prototype.verbosePii=function(t,e){this.logMessage(t,{logLevel:Lt.Verbose,containsPii:!0,correlationId:e||b.EMPTY_STRING})},n.prototype.trace=function(t,e){this.logMessage(t,{logLevel:Lt.Trace,containsPii:!1,correlationId:e||b.EMPTY_STRING})},n.prototype.tracePii=function(t,e){this.logMessage(t,{logLevel:Lt.Trace,containsPii:!0,correlationId:e||b.EMPTY_STRING})},n.prototype.isPiiLoggingEnabled=function(){return this.piiLoggingEnabled||!1},n}();const uH=window.navigator.userAgent.indexOf("MSIE ")>-1||window.navigator.userAgent.indexOf("Trident/")>-1,js={auth:{clientId:"f29d003a-068e-4284-818c-d4b45df75a45",authority:"https://login.microsoftonline.com/common",redirectUri:"http://10.14.255.59/",postLogoutRedirectUri:"/",clientCapabilities:["CP1"]},cache:{cacheLocation:Wt.LocalStorage,storeAuthStateInCookie:uH},system:{loggerOptions:{loggerCallback(n,t){console.log(t)},logLevel:Lt.Error,piiLoggingEnabled:!1}}},_n={graphMe:{endpoint:"https://graph.microsoft.com/v1.0/me",scopes:["User.Read","User.Read.All"]},graphContacts:{endpoint:"https://graph.microsoft.com/v1.0/me/contacts",scopes:["Contacts.Read"]},graphAddContacts:{endpoint:"https://graph.microsoft.com/v1.0/me/contacts",scopes:["Contacts.ReadWrite"]},graphSearchContact:{endpoint:"https://graph.microsoft.com/v1.0/me/people",scopes:["People.Read","People.Read.All"]},graphFindMeeting:{endpoint:"https://graph.microsoft.com/v1.0/me/findMeetingTimes",scopes:["Calendars.Read.Shared","Calendars.ReadWrite.Shared"]},graphScheduleMeeting:{endpoint:"https://graph.microsoft.com/v1.0/me/events",scopes:["Calendars.ReadWrite"]},graphGetEvents:{endpoint:"https://graph.microsoft.com/v1.0/me/calendarview",scopes:["Calendars.Read","Calendars.ReadWrite"]},graphGetAllEvents:{endpoint:"https://graph.microsoft.com/v1.0/me/calendarview",scopes:["Calendars.Read","Calendars.ReadWrite"]},grahUpdatedAndDeleteEvents:{endpoint:"https://graph.microsoft.com/v1.0/me/events",scopes:["Calendars.ReadWrite"]}},lH={scopes:["User.Read","Contacts.Read"]};var CT=["interaction_required","consent_required","login_required"],dH=["message_only","additional_action","basic_action","user_password_expired","consent_required"],Tc_noTokensFoundError_code="no_tokens_found",Tc_noTokensFoundError_desc="No refresh token found in the cache. Please sign-in.",Tc_native_account_unavailable_code="native_account_unavailable",Tc_native_account_unavailable_desc="The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",Cr=function(n){function t(e,r,o,i,s,a,c){var u=n.call(this,e,r,o)||this;return Object.setPrototypeOf(u,t.prototype),u.timestamp=i||b.EMPTY_STRING,u.traceId=s||b.EMPTY_STRING,u.correlationId=a||b.EMPTY_STRING,u.claims=c||b.EMPTY_STRING,u.name="InteractionRequiredAuthError",u}return Bn(t,n),t.isInteractionRequiredError=function(e,r,o){var i=!!e&&CT.indexOf(e)>-1,s=!!o&&dH.indexOf(o)>-1,a=!!r&&CT.some(function(c){return r.indexOf(c)>-1});return i||a||s},t.createNoTokensFoundError=function(){return new t(Tc_noTokensFoundError_code,Tc_noTokensFoundError_desc)},t.createNativeAccountUnavailableError=function(){return new t(Tc_native_account_unavailable_code,Tc_native_account_unavailable_desc)},t}(re);const ld=n=>sessionStorage.getItem(n);let wT=(()=>{class n{constructor(e){this.authService=e,this.getGraphClient=r=>{let o={authProvider:new ET(r,this.authService)};return ud.initWithMiddleware(o)}}handleClaimsChallenge(e,r){const i=(n=>{const t=n.indexOf(" "),e=n.substring(t+1).split(", "),r={};return e.forEach(o=>{const[i,s]=o.split("=");r[i.trim()]=window.decodeURI(s.replace(/(^"|"$)/g,""))}),r})(e.headers.get("WWW-Authenticate"));let s=this.authService.instance.getActiveAccount();((n,t)=>{(n=>/[A-Za-z0-9+/=]/.test(n))(n)?sessionStorage.setItem(t,n):sessionStorage.setItem(t,window.btoa(n))})(i.claims,`cc.${js.auth.clientId}.${s?.idTokenClaims?.oid}.${new URL(r.endpoint).hostname}`),new ET(r,this.authService).getAccessToken()}}return n.\u0275fac=function(e){return new(e||n)(B(Gn))},n.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class ET{constructor(t,e){this.authService=e,this.account=t.account,this.scopes=t.scopes,this.interactionType=t.interactionType,this.endpoint=t.endpoint}getAccessToken(){var t=this;return new Promise(function(){var e=_c(function*(r,o){let i,s=new URL(t.endpoint).hostname,a=t.authService.instance.getActiveAccount()&&ld(`cc.${js.auth.clientId}.${t.authService.instance.getActiveAccount()?.idTokenClaims?.oid}.${s}`)?window.atob(ld(`cc.${js.auth.clientId}.${t.authService.instance.getActiveAccount()?.idTokenClaims?.oid}.${s}`)):void 0;try{i=yield t.authService.instance.acquireTokenSilent({account:t.account,scopes:t.scopes,claims:a}),i.accessToken?r(i.accessToken):o(Error("Failed to acquire an access token"))}catch(c){if(c instanceof Cr)switch(t.interactionType){case q.Popup:i=yield t.authService.instance.acquireTokenPopup({scopes:t.scopes,claims:a}),i.accessToken?r(i.accessToken):o(Error("Failed to acquire an access token"));break;case q.Redirect:t.authService.instance.acquireTokenRedirect({scopes:t.scopes,claims:a})}}});return function(r,o){return e.apply(this,arguments)}}())}}let gH=(()=>{class n{constructor(e,r,o){this.graphService=e,this.authService=r,this.httpclient=o,this.flask="http://10.14.255.59"}sendPromptToFlask(e){return fetch(this.flask+"/api/prompt",{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify(e)}).then(o=>o.json()).catch(o=>{console.log(o)})}saveChat(e){return fetch(this.flask+"/history/save-history",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(e)}).then(o=>o.json()).catch(o=>{console.log(o)})}searchContact(e){let r={account:this.authService.instance.getActiveAccount(),scopes:_n.graphSearchContact.scopes,interactionType:q.Redirect,endpoint:_n.graphSearchContact.endpoint},o='/me/people/?$search="'+e+'"';return this.graphService.getGraphClient(r).api(o).responseType(nn.RAW).get().then(i=>200===i.status?i.json():401!==i.status?i:void(i.headers.get("WWW-Authenticate")&&this.graphService.handleClaimsChallenge(i,r))).then(i=>i.status?"Empty Payload. JSON content expected."===i.error.message?{error:"Contact not found",message:"Some of the people inside your request was not found in your contacs."}:void 0:i.value[0]).catch(i=>{console.log(i)})}completeRequestFromFlask(e,r){return r.emails=e,r.complete=!0,fetch(this.flask+"/api/request",{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify(r)}).then(i=>i.json()).catch(i=>{console.log(i)})}sendEventsToFlask(e,r){return r.events=e,r.complete=!0,fetch(this.flask+"/api/request",{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify(r)}).then(i=>i.json()).catch(i=>{console.log(i)})}scheduleAMeeting(e){var r={account:this.authService.instance.getActiveAccount(),scopes:_n.graphScheduleMeeting.scopes,interactionType:q.Redirect,endpoint:_n.graphScheduleMeeting.endpoint};return this.graphService.getGraphClient(r).api("/me/events").responseType(nn.RAW).post(e).then(o=>o.json()).catch(o=>{console.log(o)})}deletedEvent(e){var r={account:this.authService.instance.getActiveAccount(),scopes:_n.grahUpdatedAndDeleteEvents.scopes,interactionType:q.Redirect,endpoint:_n.grahUpdatedAndDeleteEvents.endpoint};let o="/me/events/"+e.id;return this.graphService.getGraphClient(r).api(o).responseType(nn.RAW).delete().then(i=>i).catch(i=>{console.log(i)})}updateEvent(e){var r={account:this.authService.instance.getActiveAccount(),scopes:_n.grahUpdatedAndDeleteEvents.scopes,interactionType:q.Redirect,endpoint:_n.grahUpdatedAndDeleteEvents.endpoint};let o="/me/events/"+e.meeting.id;return this.graphService.getGraphClient(r).api(o).responseType(nn.RAW).patch(e.body).then(i=>i.json()).catch(i=>{console.log(i)})}getEvents(e){var r={account:this.authService.instance.getActiveAccount(),scopes:_n.graphGetEvents.scopes,interactionType:q.Redirect,endpoint:_n.graphGetEvents.endpoint};let o="/me/calendarview"+e,i=Intl.DateTimeFormat().resolvedOptions().timeZone;return this.graphService.getGraphClient(r).api(o).responseType(nn.RAW).header("Prefer",'outlook.timezone="'+i+'"').get().then(s=>s.json()).catch(s=>{console.log(s)})}getAllEvents(){var e={account:this.authService.instance.getActiveAccount(),scopes:_n.graphGetAllEvents.scopes,interactionType:q.Redirect,endpoint:_n.graphGetAllEvents.endpoint};let o=Intl.DateTimeFormat().resolvedOptions().timeZone;return this.graphService.getGraphClient(e).api("/me/events").responseType(nn.RAW).header("Prefer",'outlook.timezone="'+o+'"').select("subject,body,bodyPreview,organizer,attendees,start,end,location").get().then(i=>i.json()).catch(i=>{console.log(i)})}getDailySummary(e,r){return r.events=e.value,fetch(this.flask+"/api/request",{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify(r)}).then(i=>i.json()).catch(i=>{console.log(i)})}sendUser(e,r){let o={user:r,name:e};return o.name=e,this.httpclient.post(this.flask+"/employee/setup-employee",o)}getProjects(e){return this.httpclient.post(this.flask+"/devops/get-projects",{user:e})}getTeams(e,r){return this.httpclient.post(this.flask+"/devops/get-teams",{user:e,project:r})}handleError(e){let r="";return e.error instanceof ErrorEvent?r=e.error.message:(r=`Error Code: ${e.status}\nMessage: ${e.message}`,0==e.status&&(r="Internal error in the model script")),Rs(r)}getDevOpsConfig(e){return this.httpclient.post(this.flask+"/devops/devops-config",{user:e})}updateDevOpsConfig(e,r,o){return this.httpclient.post(this.flask+"/devops/update-devops-config",{user:e,teamName:o,projectName:r})}}return n.\u0275fac=function(e){return new(e||n)(B(wT),B(Gn),B(so))},n.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bT=(()=>{class n{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(R(yo),R(rr))},n.\u0275dir=de({type:n}),n})(),ki=(()=>{class n extends bT{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=hn(n)))(r||n)}}(),n.\u0275dir=de({type:n,features:[We]}),n})();const ao=new oe("NgValueAccessor"),yH={provide:ao,useExisting:et(()=>Ni),multi:!0},CH=new oe("CompositionEventMode");let Ni=(()=>{class n extends bT{constructor(e,r,o){super(e,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function _H(){const n=Zr()?Zr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(R(yo),R(rr),R(CH,8))},n.\u0275dir=de({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&ce("input",function(i){return r._handleInput(i.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(i){return r._compositionEnd(i.target.value)})},features:[ft([yH]),We]}),n})();const Cn=new oe("NgValidators"),ei=new oe("NgAsyncValidators");function DT(n){return function Zo(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}(n.value)?{required:!0}:null}function dd(n){return null}function OT(n){return null!=n}function xT(n){return Oa(n)?He(n):n}function FT(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function LT(n,t){return t.map(e=>e(n))}function UT(n){return n.map(t=>function bH(n){return!n.validate}(t)?t:e=>t.validate(e))}function Wg(n){return null!=n?function HT(n){if(!n)return null;const t=n.filter(OT);return 0==t.length?null:function(e){return FT(LT(e,t))}}(UT(n)):null}function Kg(n){return null!=n?function VT(n){if(!n)return null;const t=n.filter(OT);return 0==t.length?null:function(e){return function mH(...n){const t=Um(n),{args:e,keys:r}=Tb(n),o=new gt(i=>{const{length:s}=e;if(!s)return void i.complete();const a=new Array(s);let c=s,u=s;for(let l=0;l<s;l++){let d=!1;ur(e[l]).subscribe(mt(i,h=>{d||(d=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!d)&&(u||i.next(r?Ib(r,a):a),i.complete())}))}});return t?o.pipe(Sb(t)):o}(LT(e,t).map(xT)).pipe(we(FT))}}(UT(n)):null}function BT(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function jT(n){return n._rawValidators}function qT(n){return n._rawAsyncValidators}function Qg(n){return n?Array.isArray(n)?n:[n]:[]}function hd(n,t){return Array.isArray(n)?n.includes(t):n===t}function GT(n,t){const e=Qg(t);return Qg(n).forEach(o=>{hd(e,o)||e.push(o)}),e}function $T(n,t){return Qg(t).filter(e=>!hd(n,e))}class zT{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Wg(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Kg(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class On extends zT{get formDirective(){return null}get path(){return null}}class ti extends zT{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class WT{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Sc=(()=>{class n extends WT{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(R(ti,2))},n.\u0275dir=de({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&pi("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[We]}),n})(),Ic=(()=>{class n extends WT{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(R(On,10))},n.\u0275dir=de({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,r){2&e&&pi("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[We]}),n})();const Ac="VALID",pd="INVALID",qs="PENDING",Dc="DISABLED";function Zg(n){return(gd(n)?n.validators:n)||null}function QT(n){return Array.isArray(n)?Wg(n):n||null}function em(n,t){return(gd(t)?t.asyncValidators:n)||null}function YT(n){return Array.isArray(n)?Kg(n):n||null}function gd(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function JT(n,t,e){const r=n.controls;if(!(t?Object.keys(r):r).length)throw new G(1e3,"");if(!r[e])throw new G(1001,"")}function XT(n,t,e){n._forEachChild((r,o)=>{if(void 0===e[o])throw new G(1002,"")})}class md{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=QT(this._rawValidators),this._composedAsyncValidatorFn=YT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Ac}get invalid(){return this.status===pd}get pending(){return this.status==qs}get disabled(){return this.status===Dc}get enabled(){return this.status!==Dc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=QT(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=YT(t)}addValidators(t){this.setValidators(GT(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(GT(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators($T(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators($T(t,this._rawAsyncValidators))}hasValidator(t){return hd(this._rawValidators,t)}hasAsyncValidator(t){return hd(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=qs,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Dc,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Ac,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ac||this.status===qs)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Dc:Ac}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=qs,this._hasOwnPendingAsyncValidator=!0;const e=xT(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((r,o)=>r&&r._find(o),this)}getError(t,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new It,this.statusChanges=new It}_calculateStatus(){return this._allControlsDisabled()?Dc:this.errors?pd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(qs)?qs:this._anyControlsHaveStatus(pd)?pd:Ac}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){gd(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}class Mc extends md{constructor(t,e,r){super(Zg(e),em(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){XT(this,0,t),Object.keys(t).forEach(r=>{JT(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(r=>{const o=this.controls[r];o&&o.patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,o)=>{r.reset(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,r]of Object.entries(this.controls))if(this.contains(e)&&t(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,r,o)=>((r.enabled||this.disabled)&&(e[o]=r.value),e))}_reduceChildren(t,e){let r=t;return this._forEachChild((o,i)=>{r=e(r,o,i)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class ZT extends Mc{}function vd(n,t){return[...t.path,n]}function Rc(n,t){tm(n,t),t.valueAccessor.writeValue(n.value),n.disabled&&t.valueAccessor.setDisabledState?.(!0),function kH(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&eS(n,t)})}(n,t),function PH(n,t){const e=(r,o)=>{t.valueAccessor.writeValue(r),o&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function NH(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&eS(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function RH(n,t){if(t.valueAccessor.setDisabledState){const e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function yd(n,t,e=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),Cd(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function _d(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function tm(n,t){const e=jT(n);null!==t.validator?n.setValidators(BT(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const r=qT(n);null!==t.asyncValidator?n.setAsyncValidators(BT(r,t.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();_d(t._rawValidators,o),_d(t._rawAsyncValidators,o)}function Cd(n,t){let e=!1;if(null!==n){if(null!==t.validator){const o=jT(n);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==t.validator);i.length!==o.length&&(e=!0,n.setValidators(i))}}if(null!==t.asyncValidator){const o=qT(n);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==t.asyncValidator);i.length!==o.length&&(e=!0,n.setAsyncValidators(i))}}}const r=()=>{};return _d(t._rawValidators,r),_d(t._rawAsyncValidators,r),e}function eS(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function nm(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function rm(n,t){if(!t)return null;let e,r,o;return Array.isArray(t),t.forEach(i=>{i.constructor===Ni?e=i:function FH(n){return Object.getPrototypeOf(n.constructor)===ki}(i)?r=i:o=i}),o||r||e||null}function oS(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function iS(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Nc=class extends md{constructor(t=null,e,r){super(Zg(e),em(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),gd(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=iS(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){oS(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){oS(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){iS(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},BH={provide:ti,useExisting:et(()=>Pc)},cS=(()=>Promise.resolve())();let Pc=(()=>{class n extends ti{constructor(e,r,o,i,s){super(),this._changeDetectorRef=s,this.control=new Nc,this._registered=!1,this.update=new It,this._parent=e,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=rm(0,i)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),nm(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Rc(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){cS.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const r=e.isDisabled.currentValue,o=0!==r&&So(r);cS.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?vd(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(R(On,9),R(Cn,10),R(ei,10),R(ao,10),R(al,8))},n.\u0275dir=de({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ft([BH]),We,hr]}),n})(),Oc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=de({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),lS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=xn({type:n}),n.\u0275inj=En({}),n})();const im=new oe("NgModelWithFormControlWarning"),WH={provide:On,useExisting:et(()=>Pi)};let Pi=(()=>{class n extends On{constructor(e,r){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new It,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Cd(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const r=this.form.get(e.path);return Rc(r,e),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){yd(e.control||null,e,!1),function LH(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this.submitted=!0,function rS(n,t){n._syncPendingControls(),t.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const r=e.control,o=this.form.get(e.path);r!==o&&(yd(r||null,e),(n=>n instanceof Nc)(o)&&(Rc(o,e),e.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const r=this.form.get(e.path);(function tS(n,t){tm(n,t)})(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const r=this.form.get(e.path);r&&function OH(n,t){return Cd(n,t)}(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){tm(this.form,this),this._oldForm&&Cd(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(R(Cn,10),R(ei,10))},n.\u0275dir=de({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,r){1&e&&ce("submit",function(i){return r.onSubmit(i)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ft([WH]),We,hr]}),n})();const YH={provide:ti,useExisting:et(()=>xc)};let xc=(()=>{class n extends ti{constructor(e,r,o,i,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new It,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=rm(0,i)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),nm(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return vd(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(R(On,13),R(Cn,10),R(ei,10),R(ao,10),R(im,8))},n.\u0275dir=de({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[ft([YH]),We,hr]}),n})(),Oi=(()=>{class n{constructor(){this._validator=dd}ngOnChanges(e){if(this.inputName in e){const r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):dd,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=de({type:n,features:[hr]}),n})();const iV={provide:Cn,useExisting:et(()=>Fc),multi:!0};let Fc=(()=>{class n extends Oi{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=So,this.createValidator=e=>DT}enabled(e){return e}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=hn(n)))(r||n)}}(),n.\u0275dir=de({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,r){2&e&&Yr("required",r._enabled?"":null)},inputs:{required:"required"},features:[ft([iV]),We]}),n})(),IS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=xn({type:n}),n.\u0275inj=En({imports:[lS]}),n})(),dV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=xn({type:n}),n.\u0275inj=En({imports:[IS]}),n})(),AS=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:im,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=xn({type:n}),n.\u0275inj=En({imports:[IS]}),n})();class DS extends md{constructor(t,e,r){super(Zg(e),em(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,r={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,e={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,r={}){let o=this._adjustIndex(t);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),e&&(this.controls.splice(o,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){XT(this,0,t),t.forEach((r,o)=>{JT(this,!1,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((r,o)=>{r.reset(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,r)=>!!r._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,r)=>{t(e,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function MS(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let Lc=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,r=null){const o=this._reduceControls(e);let i={};return MS(r)?i=r:null!==r&&(i.validators=r.validator,i.asyncValidators=r.asyncValidator),new Mc(o,i)}record(e,r=null){const o=this._reduceControls(e);return new ZT(o,r)}control(e,r,o){let i={};return this.useNonNullable?(MS(r)?i=r:(i.validators=r,i.asyncValidators=o),new Nc(e,{...i,nonNullable:!0})):new Nc(e,r,o)}array(e,r,o){const i=e.map(s=>this._createControl(s));return new DS(i,r,o)}_reduceControls(e){const r={};return Object.keys(e).forEach(o=>{r[o]=this._createControl(e[o])}),r}_createControl(e){return e instanceof Nc||e instanceof md?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:AS}),n})();const hV=["msgContainer"];function fV(n,t){if(1&n){const e=Nr();C(0,"div")(1,"li")(2,"a",40),ce("click",function(){const i=Jt(e).$implicit;return Xt(ie().dropdownProjectSelected(i))}),w(3),_()()()}if(2&n){const e=t.$implicit;A(3),Me(e)}}function pV(n,t){if(1&n){const e=Nr();C(0,"div")(1,"li")(2,"a",40),ce("click",function(){const i=Jt(e).$implicit;return Xt(ie().dropdownTeamSelected(i))}),w(3),_()()()}if(2&n){const e=t.$implicit;A(3),Me(e)}}function gV(n,t){1&n&&(C(0,"div",41)(1,"b"),w(2,"Welcome to the chat bot!"),_(),w(3," I'm here to help answer your HR-related questions quickly and efficiently. Here are some examples of questions I can answer: "),P(4,"br"),w(5," \xa0\xa0\xa0"),P(6,"i",42),w(7,"\xa0\xa0What's the company policy on working from home?"),P(8,"br"),w(9," \xa0\xa0\xa0"),P(10,"i",42),w(11,"\xa0\xa0How do I enroll in the company's health insurance plan?"),P(12,"br"),w(13," \xa0\xa0\xa0"),P(14,"i",42),w(15,"\xa0\xa0What are the company's paid time off policies?"),P(16,"br"),w(17," \xa0\xa0\xa0"),P(18,"i",42),w(19,"\xa0\xa0How do I request a new hire?"),P(20,"br")(21,"hr",43),C(22,"b"),w(23,"Capabilities:"),_(),w(24," I'm powered by Cohere AI technology, which allows me to provide accurate and consistent responses to your questions. I can handle a wide range of HR-related inquiries, including questions about policies, benefits, and procedures. "),P(25,"hr",43),C(26,"b"),w(27,"Limitations:"),_(),w(28," While I can answer many HR-related questions, there may be some that I'm not able to address. In such cases, I'll do my best to direct you to a human representative from Perficient's HR department who can provide further assistance. "),P(29,"hr",43),w(30," Feel free to ask me any HR-related question, and I'll do my best to provide you with a helpful response! "),_())}function mV(n,t){if(1&n&&(C(0,"span"),w(1),_()),2&n){const e=ie().$implicit,r=ie(2);A(1),jf("",r.profile.givenName," ",r.profile.surname," - ",e.timestamp,"")}}function vV(n,t){if(1&n&&(C(0,"span"),w(1),_()),2&n){const e=ie().$implicit;A(1),Ge("E. V. A. - ",e.timestamp,"")}}function yV(n,t){if(1&n&&(C(0,"span"),w(1," - "),P(2,"i",72),w(3),_()),2&n){const e=ie().$implicit;A(3),Ge("\xa0",e.phone," ")}}function _V(n,t){if(1&n&&(C(0,"div"),P(1,"i",70),w(2,"\xa0"),C(3,"a",71),w(4),_(),K(5,yV,4,1,"span",23),_()),2&n){const e=t.$implicit;A(3),$u("href","mailto:",e.email,"",Dn),A(1),Me(e.user),A(1),j("ngIf",""!=e.phone)}}function CV(n,t){if(1&n&&(C(0,"div")(1,"h5")(2,"b"),w(3,"Here are your contacts:"),_(),P(4,"br"),_(),P(5,"hr",69),K(6,_V,6,3,"div",8),_()),2&n){const e=ie(2).$implicit;A(6),j("ngForOf",e.eventList)}}function wV(n,t){if(1&n&&(C(0,"div"),P(1,"i",73),w(2),_()),2&n){const e=ie(2).$implicit;A(2),Ge("",e.url," ")}}function EV(n,t){if(1&n&&(C(0,"div",68),K(1,CV,7,1,"div",23),K(2,wV,3,1,"div",23),_()),2&n){const e=ie().$implicit;A(1),j("ngIf",e.eventList.length>0),A(1),j("ngIf",null!=e.url)}}function bV(n,t){if(1&n&&(C(0,"div"),P(1,"i",75),C(2,"a",71),w(3),_(),C(4,"p"),w(5),_(),C(6,"p"),w(7),_(),C(8,"p"),w(9),_()()),2&n){const e=t.$implicit;A(2),gr("href",e.link,Dn),A(1),Ge(" ",e.subject," "),A(2),Me(e.date),A(2),Me(e.time),A(2),Me(e.body)}}function TV(n,t){if(1&n&&(C(0,"div")(1,"h5")(2,"b"),w(3,"Here are your calendar events for this date:"),_(),P(4,"br"),_(),K(5,bV,10,5,"div",8),_()),2&n){const e=ie(2).$implicit;A(5),j("ngForOf",e.eventList)}}function SV(n,t){1&n&&(C(0,"div"),w(1," You have no calendar events this date. "),_())}function IV(n,t){if(1&n&&(C(0,"div",74),K(1,TV,6,1,"div",23),K(2,SV,2,0,"div",23),_()),2&n){const e=ie().$implicit;A(1),j("ngIf",e.eventList.length>0),A(1),j("ngIf",0==e.eventList.length)}}function AV(n,t){if(1&n&&(C(0,"div",76),w(1),P(2,"br")(3,"i",75),C(4,"a",71),w(5),_(),C(6,"p"),w(7),_(),C(8,"p"),w(9),_(),C(10,"p"),w(11),_()()),2&n){const e=ie().$implicit;A(1),Ge(" ",e.text," "),A(3),gr("href",e.newEvent.link,Dn),A(1),Ge(" ",e.newEvent.subject," "),A(2),Me(e.newEvent.date),A(2),Me(e.newEvent.time),A(2),Me(e.newEvent.body)}}function DV(n,t){if(1&n&&(C(0,"div"),w(1),_()),2&n){const e=ie(2).$implicit;A(1),Ge(" ",e.text," ")}}function MV(n,t){if(1&n&&(C(0,"div",77),K(1,DV,2,1,"div",23),_()),2&n){const e=ie().$implicit;A(1),j("ngIf",e.text&&""!==e.text.trim())}}function RV(n,t){if(1&n&&(C(0,"div",78),P(1,"i",79),w(2,"\xa0"),C(3,"a",71),w(4),P(5,"i",80),_()()),2&n){const e=ie().$implicit;A(3),gr("href",e.link,Dn),A(1),Me(e.text.trim())}}function kV(n,t){if(1&n&&(C(0,"div"),P(1,"i",75),w(2),C(3,"p"),w(4),_(),C(5,"p"),w(6),_(),C(7,"p"),w(8),_()()),2&n){const e=t.$implicit;A(2),Ge(" ",e.subject," "),A(2),Me(e.date),A(2),Me(e.time),A(2),Me(e.body)}}function NV(n,t){if(1&n&&(C(0,"div")(1,"h5")(2,"b"),w(3,"Here are your calendar events this date:"),_(),P(4,"br"),_(),K(5,kV,9,4,"div",8),_()),2&n){const e=ie(2).$implicit;A(5),j("ngForOf",e.eventList)}}function PV(n,t){1&n&&(C(0,"div")(1,"h5")(2,"b"),w(3,"You have no calendar events for this date."),_(),P(4,"br"),_()())}function OV(n,t){if(1&n&&(C(0,"div"),w(1),_()),2&n){const e=t.$implicit;A(1),Ge(" ",e," ")}}function xV(n,t){if(1&n&&(C(0,"div")(1,"p"),w(2,"Linked work items:"),P(3,"br"),_(),K(4,OV,2,1,"div",8),_()),2&n){const e=ie().$implicit;A(4),j("ngForOf",e.linked)}}function FV(n,t){if(1&n&&(C(0,"div"),P(1,"i",82),C(2,"a",71),w(3),_(),P(4,"i",80),C(5,"p"),w(6),_(),C(7,"p"),w(8),_(),C(9,"p"),w(10),_(),C(11,"p"),w(12),_(),K(13,xV,5,1,"div",23),_()),2&n){const e=t.$implicit;A(2),gr("href",e.url,Dn),A(1),Ge(" ",e.message," "),A(3),Me(e.state),A(2),Me(e.reason),A(2),Me(e.description),A(2),Me(e.priority),A(1),j("ngIf",e.linked.length>0)}}function LV(n,t){if(1&n&&(C(0,"div")(1,"h5")(2,"b"),w(3,"Here are your active work items:"),P(4,"br"),_()(),K(5,FV,14,7,"div",8),_()),2&n){const e=ie(2).$implicit;A(5),j("ngForOf",e.workItemList)}}function UV(n,t){1&n&&(C(0,"div")(1,"h5")(2,"b"),w(3,"You have no active work items."),_(),P(4,"br"),_()())}function HV(n,t){if(1&n&&(C(0,"div",81)(1,"h4")(2,"b"),w(3,"Daily Summary"),_(),P(4,"br"),_(),P(5,"hr",69),K(6,NV,6,1,"div",23),K(7,PV,5,0,"div",23),P(8,"hr",69),K(9,LV,6,1,"div",23),K(10,UV,5,0,"div",23),_()),2&n){const e=ie().$implicit;A(6),j("ngIf",null!=e.eventList[0].date),A(1),j("ngIf",null==e.eventList[0].date),A(2),j("ngIf",0!=e.workItemList.length&&" No work items to show."!=e.workItemList[0]),A(1),j("ngIf"," No work items to show."==e.workItemList[0])}}function VV(n,t){if(1&n&&(C(0,"div",83),P(1,"i",82),w(2,"\xa0"),C(3,"a",71),w(4),P(5,"i",80),_()()),2&n){const e=ie().$implicit;A(3),gr("href",e.link,Dn),A(1),Me(e.text.trim())}}function BV(n,t){if(1&n&&(C(0,"div"),w(1),_()),2&n){const e=t.$implicit;A(1),Ge(" ",e," ")}}function jV(n,t){if(1&n&&(C(0,"div")(1,"p"),w(2,"Linked work items:"),P(3,"br"),_(),K(4,BV,2,1,"div",8),_()),2&n){const e=ie().$implicit;A(4),j("ngForOf",e.linked)}}function qV(n,t){if(1&n&&(C(0,"div"),P(1,"hr",85)(2,"i",82),C(3,"a",71),w(4),_(),P(5,"i",80),C(6,"p"),w(7),_(),C(8,"p"),w(9),_(),C(10,"p"),w(11),_(),C(12,"p"),w(13),_(),K(14,jV,5,1,"div",23),_()),2&n){const e=t.$implicit;A(3),gr("href",e.url,Dn),A(1),Ge(" ",e.message," "),A(3),Me(e.state),A(2),Me(e.reason),A(2),Me(e.description),A(2),Me(e.priority),A(1),j("ngIf",e.linked.length>0)}}function GV(n,t){if(1&n&&(C(0,"div")(1,"h5")(2,"b"),w(3,"Here are your work items:"),_(),P(4,"br"),_(),K(5,qV,15,7,"div",8),_()),2&n){const e=ie(2).$implicit;A(5),j("ngForOf",e.workItemList)}}function $V(n,t){1&n&&(C(0,"div"),P(1,"i",86),w(2,"\xa0 No work items to show. "),_())}function zV(n,t){if(1&n&&(C(0,"div"),P(1,"i",73),w(2),_()),2&n){const e=ie(2).$implicit;A(2),Ge(" ",e.error," ")}}function WV(n,t){if(1&n&&(C(0,"div",84),K(1,GV,6,1,"div",23),K(2,$V,3,0,"div",23),K(3,zV,3,1,"div",23),_()),2&n){const e=ie().$implicit;A(1),j("ngIf",e.workItemList.length>0),A(1),j("ngIf",0==e.workItemList.length&&null==e.error),A(1),j("ngIf",null!==e.error)}}function KV(n,t){if(1&n&&(C(0,"div",87),P(1,"i",79),w(2,"\xa0"),C(3,"a",71),w(4),P(5,"i",80),_()()),2&n){const e=ie().$implicit;A(3),gr("href",e.link,Dn),A(1),Me(e.text.trim())}}function QV(n,t){if(1&n&&(C(0,"div"),P(1,"i",89),w(2),_()),2&n){const e=ie(2).$implicit;A(2),Ge(" ",e.text," ")}}function YV(n,t){if(1&n&&(C(0,"div"),P(1,"i",73),w(2),_()),2&n){const e=ie(2).$implicit;A(2),Ge(" ",e.link," ")}}function JV(n,t){if(1&n&&(C(0,"div",88),K(1,QV,3,1,"div",23),K(2,YV,3,1,"div",23),_()),2&n){const e=ie().$implicit;A(1),j("ngIf",e.text&&""!==e.text.trim()),A(1),j("ngIf",e.link&&""!==e.link.trim())}}function XV(n,t){if(1&n&&(C(0,"div",90),P(1,"i",91),w(2,"\xa0"),C(3,"a",71),w(4),P(5,"i",80),_()()),2&n){const e=ie().$implicit;A(3),gr("href",e.link,Dn),A(1),Me(e.text.trim())}}function ZV(n,t){if(1&n&&(C(0,"div",92)(1,"a",71)(2,"h5")(3,"b"),w(4),_(),w(5,"\xa0"),P(6,"i",80),_()(),P(7,"hr",69),w(8),_()),2&n){const e=ie().$implicit;A(1),gr("href",e.link,Dn),A(3),Me(e.newEvent),A(4),Ge(" ",e.text," ")}}function eB(n,t){if(1&n&&(C(0,"div",93),P(1,"i",94),w(2,"\xa0"),C(3,"a",71),w(4),P(5,"i",80),_()()),2&n){const e=ie().$implicit;A(3),gr("href",e.link,Dn),A(1),Me(e.text.trim())}}function tB(n,t){if(1&n&&(C(0,"div",95),P(1,"i",96),w(2),_()),2&n){const e=ie().$implicit;A(2),Ge("\xa0 ",e.text," ")}}function nB(n,t){if(1&n&&(C(0,"div"),P(1,"i",98),w(2),_()),2&n){const e=t.$implicit;A(2),Ge("\xa0\xa0",e," ")}}function rB(n,t){if(1&n&&(C(0,"div",97)(1,"h5")(2,"b"),w(3),_()(),P(4,"hr",69),K(5,nB,3,1,"div",8),_()),2&n){const e=ie().$implicit;A(3),Me(e.text),A(2),j("ngForOf",e.eventList)}}function oB(n,t){if(1&n&&(C(0,"div"),w(1),_()),2&n){const e=t.$implicit;A(1),Ge(" ",e," ")}}function iB(n,t){if(1&n&&(C(0,"div",99)(1,"h5")(2,"b"),w(3),_()(),P(4,"hr",69),K(5,oB,2,1,"div",8),_()),2&n){const e=ie().$implicit;A(3),Me(e.text),A(2),j("ngForOf",e.eventList)}}function sB(n,t){if(1&n&&(C(0,"div",100),P(1,"i",86),w(2),_()),2&n){const e=ie().$implicit;A(2),Ge(" ",e.text," ")}}function aB(n,t){if(1&n&&(C(0,"div",101),w(1),_()),2&n){const e=ie().$implicit;A(1),Ge(" ",e.text," ")}}function cB(n,t){if(1&n&&(C(0,"div",101),P(1,"i",102),w(2),_()),2&n){const e=ie().$implicit;A(2),Ge(" ",e.text," ")}}function uB(n,t){if(1&n&&(C(0,"div",47)(1,"div",48),K(2,mV,2,3,"span",23),K(3,vV,2,1,"span",23),_(),C(4,"div",49),K(5,EV,3,2,"div",50),K(6,IV,3,2,"div",51),K(7,AV,12,6,"div",52),K(8,MV,2,1,"div",53),K(9,RV,6,2,"div",54),K(10,HV,11,4,"div",55),K(11,VV,6,2,"div",56),K(12,WV,4,3,"div",57),K(13,KV,6,2,"div",58),K(14,JV,3,2,"div",59),K(15,XV,6,2,"div",60),K(16,ZV,9,3,"div",61),K(17,eB,6,2,"div",62),K(18,tB,3,1,"div",63),K(19,rB,6,2,"div",64),K(20,iB,6,2,"div",65),K(21,sB,3,1,"div",66),K(22,aB,2,1,"div",67),K(23,cB,3,1,"div",67),_()()),2&n){const e=t.$implicit;pi("user-message",e.user)("bot-message",!e.user),A(2),j("ngIf",e.user),A(1),j("ngIf",!e.user),A(1),pi("user-message-text",e.user)("bot-message-text",!e.user),A(1),j("ngIf","contacts"==e.type),A(1),j("ngIf","calendarEvents"==e.type),A(1),j("ngIf","newEvent"==e.type),A(1),j("ngIf","outlookDel"==e.type),A(1),j("ngIf","outlookUpdate"==e.type),A(1),j("ngIf","dailySummary"==e.type),A(1),j("ngIf","devOpsNew"==e.type),A(1),j("ngIf","getWorkItems"==e.type),A(1),j("ngIf","devOpsUpdate"==e.type),A(1),j("ngIf","devOpsDel"==e.type),A(1),j("ngIf","newWiki"==e.type),A(1),j("ngIf","getWiki"==e.type),A(1),j("ngIf","updateWiki"==e.type),A(1),j("ngIf","deleteWiki"==e.type),A(1),j("ngIf","wikiSubPages"==e.type),A(1),j("ngIf","teamMembers"==e.type),A(1),j("ngIf","devOpsFail"==e.type),A(1),j("ngIf","text"==e.type),A(1),j("ngIf","info"==e.type)}}function lB(n,t){if(1&n&&(C(0,"div",44,45),K(2,uB,24,29,"div",46),_()),2&n){const e=ie();A(2),j("ngForOf",e.messages)}}function dB(n,t){1&n&&P(0,"span",103)}function hB(n,t){1&n&&(C(0,"span"),w(1," Loading..."),_())}function fB(n,t){1&n&&w(0,"Send")}let gB=(()=>{class n{constructor(e,r,o,i){this.http=e,this.Requests=r,this.authService=o,this.projectSelectForm=i,this.messagePlaceholders=[],this.messages=[],this.firstTime=!0,this.newEvent="",this.calendarEvents=[],this.chargingState="finished",this.validForm=!0,this.teamNames=[],this.projectNames=[],this.selectedProject="",this.selectedTeam="",this.result="",this.message="",this.id="0",this.configDevOps=this.projectSelectForm.group({selectedProject:"",selectedTeam:""}),this.user=this.authService.instance.getActiveAccount()?.username,this.Requests.getDevOpsConfig(this.user).subscribe(s=>{this.selectedProject=s.projectName?s.projectName:"",this.selectedTeam=s.teamName?s.teamName:""}),this.Requests.getProjects(this.authService.instance.getActiveAccount()?.username).subscribe(s=>{this.projectNames=s.projects}),this.user=""}scrollToBottom(){this.msgContainer.nativeElement.scrollTop=this.msgContainer.nativeElement.scrollHeight}startProcess(){var e=this;return _c(function*(){try{e.chargingState="charging",yield e.postPrompt(),e.chargingState="finished"}catch(r){console.error("An error occurred during the request:",r),e.chargingState="finished"}})()}postPrompt(){var e=this;return _c(function*(){if(0!=e.message.trim().length){let r={prompt:e.message,user_email:e.authService.instance.getActiveAccount()?.username,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone},o=new Date,i=o.getHours().toString().padStart(2,"0"),s=o.getMinutes().toString().padStart(2,"0");e.messages.push({user:!0,timestamp:`${i}:${s}`,text:e.message,type:"text",eventList:[],newEvent:{},workItemList:[],link:"",error:"",intent:""}),e.message="",setTimeout(()=>{e.scrollToBottom()},10),e.firstTime&&(e.firstTime=!1);let c=yield e.getResponse(r);if(c){o=new Date,i=o.getHours().toString().padStart(2,"0"),s=o.getMinutes().toString().padStart(2,"0");let u={user:!1,timestamp:`${i}:${s}`,text:"",type:"",eventList:[],newEvent:"",workItemList:[],link:"",error:"",intent:""};(function jU(n,t){if(function PU(n){return void 0!==n.error&&void 0!==n.errorMessage}(t))n.text=t.errorMessage,n.type="devOpsFail",n.intent="ErrorAPI";else if(function NU(n){return void 0!==n.error}(t))n.text=t.error.message,n.type="devOpsFail",n.intent="ErrorGraph";else if(function MU(n){return void 0!==n.value}(t)){let e=t;if(n.type="calendarEvents",n.intent="GetEventsOutlook",e.value.length>0){n.type="calendarEvents";for(let r=0;r<e.value.length;r++){let o=id(e.value[r]);n.eventList.push(o)}}n.type="calendarEvents"}else if(function OU(n){return"GetDailySummary"===n.intent}(t)){let e=t;if(n.type="dailySummary",n.intent="GetDailySummary",e.events.length>0)for(let r=0;r<e.events.length;r++){let o=id(e.events[r]);n.eventList.push(o)}else n.eventList.push(" No events to show.");if(e.workItems.length>0)for(let r=0;r<e.workItems.length;r++){let o=dT(e.workItems[r]);n.workItemList.push(o)}else n.workItemList.push(" No work items to show.")}else if(function RU(n){return void 0!==n.status}(t))n.intent="DeleteOutlookMeeting",n.type="outlookDel",n.text=400===t.status?"The meeting was not deleted. Check that the meeting exists.":"The meeting called "+t.subject+" was deleted successfully";else if(function kU(n){return"UpdateOutlookMeeting"===n.intent}(t)){n.intent="UpdateOutlookMeeting";let e=t;n.text="This meeting has been modified:",n.type="newEvent",n.newEvent=id(e)}else if(function FU(n){return void 0!==n.subject}(t)){n.intent="CreateOutlookMeeting";let e=t;n.text="A new meeting has been scheduled for you:",n.type="newEvent",n.newEvent=id(e)}else if(function UU(n){return void 0!==n.contacts||void 0!==n.errorContacts}(t)){n.intent="GetContact",n.type="contacts",n.url=t.errorContacts;let e={email:"",phone:"",user:""};for(const r of t.contacts)e.email=r.email,e.phone=r.phone,e.user=r.user,n.eventList.push(e),e={email:"",phone:"",user:""}}else if(function HU(n){return"CreateWikiPage"==n.intent||"GetWikiPage"==n.intent||"UpdateWikiPage"==n.intent||"DeleteWikiPage"==n.intent||"GetWikiPages"==n.intent||"GetWikiSubPages"==n.intent}(t)){let e=t;if("CreateWikiPage"===e.intent)n.intent="CreateWikiPage",n.type="newWiki",n.text=e.messageDevOps,n.link=e.url;else if("GetWikiPage"===e.intent)n.intent="GetWikiPage",n.type="getWiki",n.newEvent=e.path,n.text=e.content,n.link=e.url;else if("UpdateWikiPage"===e.intent)n.intent="UpdateWikiPage",n.type="updateWiki",n.text=e.messageDevOps,n.link=e.url;else if("DeleteWikiPage"===e.intent)n.intent="DeleteWikiPage",n.type="deleteWiki",n.text=e.messageDevOps;else if("GetWikiSubPages"===e.intent||"GetWikiPages"===e.intent)if(n.intent="GetWikiPagesList",e.pages?.length>0){n.type="wikiSubPages",n.text=e.pages?.length+" subpage(s) in this wiki.";for(let r=0;r<e.pages?.length;r++)n.eventList.push(e.pages[r].split("/").pop()?.trim())}else n.text="There are no subpages in this wiki.",n.type="devOpsFail"}else if(function VU(n){return void 0!==n.workItems}(t)){let e=t;if(n.text=e.messageDevOps,"CreateWorkItem"===e.intent)n.intent="CreateWorkItem",n.type="devOpsNew",n.link=e.url;else if("GetWorkItemByID"===e.intent||"GetWorkItemByField"===e.intent||"GetWorkItemByUser"===e.intent){if(n.intent="GetWorkItem",n.type="getWorkItems",e.workItems.length>0)for(let r=0;r<e.workItems.length;r++){let o=dT(e.workItems[r]);n.workItemList.push(o)}null!==e.messageDevOpsError?(n.text=e.messageDevOpsError,n.error=e.messageDevOpsError):n.error=null}else"UpdateWorkItemByField"===e.intent||"UpdateWorkItemByID"===e.intent?(n.intent="UpdateWorkItem",null!==e.messageDevOpsError?(n.type="devOpsFail",n.text=e.messageDevOpsError):(n.type="devOpsUpdate",n.text=e.messageDevOps,n.link=e.url)):"DeleteWorkItemByID"===e.intent||"DeleteWorkItemByField"===e.intent?(n.intent="DeleteWorkItem",n.type="devOpsDel",n.text=e.messageDevOps,n.link=e.messageDevOpsError):(n.intent="Error",n.type="devOpsFail",n.text="Sorry, something went wrong.")}else if(function LU(n){return void 0!==n.emails}(t)){n.intent="GetTeamMembers",n.type="teamMembers",n.text="Your team members of the DevOps project are:";for(const e in t.emails)t.emails.hasOwnProperty(e)?n.eventList.push(BU(t.emails[e],e)):(n.text="There are no members in your team",n.type="devOpsFail")}else!function xU(n){return"RequestQueryDatabase"===n.intent}(t)?"string"==typeof t?t.includes("Error")||t.includes("Sorry,")?(n.intent="Error",n.text=t,n.type="devOpsFail"):t.includes("security question")?(n.intent="GetPersonalInformation",n.text=t,n.type="text"):(n.intent="CQA",n.text=t,n.type="text"):(n.intent="Error",n.text="I'm sorry, I don't understand.",n.type="text"):(n.intent="RequestQueryDatabase",n.text=t.message,n.type="text")})(u,c),e.messages.push(u),e.Requests.saveChat({prompt:r.prompt,user_email:r.user_email,answer:u,id:e.id}),setTimeout(()=>{e.scrollToBottom()},10)}}})()}ngOnInit(){this.Requests.sendUser(this.authService.instance.getActiveAccount()?.name,this.authService.instance.getActiveAccount()?.username).subscribe(e=>{this.id=e.newId}),this.Requests.getProjects(this.authService.instance.getActiveAccount()?.username).subscribe(e=>{this.projectNames=e.projects,e.error&&window.alert(e.errorMessage)}),this.http.get("https://graph.microsoft.com/v1.0/me").subscribe({next:e=>{this.profile=e,e&&this.profile.surname&&this.profile.givenName&&(this.profile.surname=this.profile.surname.toLocaleLowerCase().replace(/^\w/,r=>r.toUpperCase()).split(" ")[0],this.profile.givenName=this.profile.givenName.split(" ")[0])},error:e=>{console.error(e)}})}dropdownProjectSelected(e){this.selectedProject=e,this.selectedTeam="",this.Requests.getTeams(this.authService.instance.getActiveAccount()?.username,e).subscribe(r=>{this.teamNames=r.teams})}dropdownTeamSelected(e){this.selectedTeam=e}saveChanges(){if(this.selectedProject&&this.selectedTeam)this.Requests.updateDevOpsConfig(this.authService.instance.getActiveAccount()?.username,this.selectedProject,this.selectedTeam).subscribe(e=>{if(console.log(e),void 0!==e.error)window.alert(e.errorMessage);else{let r=new Date,o=r.getHours().toString().padStart(2,"0"),i=r.getMinutes().toString().padStart(2,"0");this.messages.push({user:!1,timestamp:`${o}:${i}`,text:"Your preferences have been saved!",type:"info",eventList:[],newEvent:"",workItemList:[],link:"",error:"",intent:""}),setTimeout(()=>{this.scrollToBottom()},10),this.firstTime=!1}});else{let e=new Date,r=e.getHours().toString().padStart(2,"0"),o=e.getMinutes().toString().padStart(2,"0");this.messages.push({user:!1,timestamp:`${r}:${o}`,text:"Please select a project and a team!",type:"info",eventList:[],newEvent:"",workItemList:[],link:"",error:"",intent:""}),setTimeout(()=>{this.scrollToBottom()},10),this.firstTime=!1}}getResponse(e){var r=this;return _c(function*(){let o=yield r.Requests.sendPromptToFlask(e);if(console.log(o),void 0===o)return"Error connecting to the server. Check your network connection and try again.";if(o.error)return o.errorMessage;switch(console.log("Entered switch case"),o.intent){case"GetEventsOutlook":return yield r.Requests.getEvents(o.url);case"DeleteOutlookMeeting":let s=yield r.Requests.getAllEvents(),a=yield r.Requests.sendEventsToFlask(s,o);if(!a.error){let T=a.meeting,N=yield r.Requests.deletedEvent(T);return N.subject=T.subject,N.start=T.start.dateTime,N}return a;case"UpdateOutlookMeeting":let c=yield r.Requests.getAllEvents(),u=yield r.Requests.sendEventsToFlask(c,o);if(!u.error){let T=yield r.Requests.updateEvent(u);return T.intent="UpdateOutlookMeeting",T}return u;case"GetDailySummary":let l=yield r.Requests.getEvents(o.url);return yield r.Requests.getDailySummary(l,o);case"CreateOutlookMeeting":let h=yield r.getEmails(o.params.attendees),g=yield r.Requests.completeRequestFromFlask(h,o);return g.error?g:yield r.Requests.scheduleAMeeting(g.body);case"CreateOutlookTeamMeeting":return yield r.Requests.scheduleAMeeting(o.body);case"GetContact":let E=yield r.getEmails(o.params.contacts);return yield r.Requests.completeRequestFromFlask(E,o);case"CQA":case"GetPersonalInformation":return o.message;case"Conversation":return o.params.response;default:return o}})()}getEmails(e){var r=this;return _c(function*(){let o={};void 0===e&&(e=[""]);let i=yield Promise.allSettled(e.map(s=>r.Requests.searchContact(s))).then(s=>{let a=[];return s.forEach(c=>{if("fulfilled"===c.status&&c.value){let u=c.value;!u.scoredEmailAddresses||"PersonalContact"!=u.personType.subclass&&"OrganizationUser"!=u.personType.subclass&&"ImplicitContact"!=u.personType.subclass||a.push([u.displayName,u.scoredEmailAddresses[0].address])}}),a});return i.length>0&&(o=r.generateJsonForBody(i)),o})()}generateJsonForBody(e){let r={};return e.length>0?(e.forEach(i=>{r={...r,[i[0]]:i[1]}}),r):{error:"No contacts have been found",message:"No contacts have been found inside your request or in your Outlook Contacts"}}deleteMessages(){this.messages=[],this.firstTime=!0}}return n.\u0275fac=function(e){return new(e||n)(R(so),R(gH),R(Gn),R(Lc))},n.\u0275cmp=Ir({type:n,selectors:[["app-chat"]],viewQuery:function(e,r){if(1&e&&Zu(hV,5),2&e){let o;Ts(o=Ss())&&(r.msgContainer=o.first)}},decls:105,vars:12,consts:[["id","chatWindow",1,"chatWindow"],[1,"chatHeader"],[3,"formGroup","ngSubmit"],[1,"project-menu","needs-validation"],[1,"dropdown"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-secondary","dropdown-toggle"],[1,"selected-value"],[1,"dropdown-menu"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-success",3,"click"],["class","welcomeText",4,"ngIf"],["class","convo-wrapper",4,"ngIf"],[1,"message-form","container"],[1,"mb-3","row","chat-container"],[1,"send-btn"],["type","button","id","deleteButton","data-bs-toggle","modal","data-bs-target","#confirmation-modal",1,"btn","btn-danger"],[1,"fa-regular","fa-trash-can","fa-lg"],["type","button","id","chat-help-button","data-bs-toggle","modal","data-bs-target","#modalScrollableCentered",1,"btn","btn-secondary"],[1,"fa-regular","fa-circle-question","fa-xl"],[1,"chat-box"],["id","chat-input-form","placeholder","Ask me a question!",1,"form-control",3,"ngModel","ngModelChange","keydown.enter"],["id","chat-send-button","type","button","value","send",1,"btn","btn-danger",3,"disabled","click"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf","ngIfElse"],[4,"ngIf"],["buttonText",""],["id","modalScrollableCentered","tabindex","-1",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-dialog-scrollable","modal-lg"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal",1,"btn-close"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger"],["id","confirmation-modal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"fa-solid","fa-triangle-exclamation","fa-lg",2,"color","orange"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary","btn-cancel-modal"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],[1,"dropdown-item",3,"click"],[1,"welcomeText"],[1,"fa-solid","fa-chevron-right","fa-xs"],[1,"wt-hr"],[1,"convo-wrapper"],["msgContainer",""],["class","message",3,"user-message","bot-message",4,"ngFor","ngForOf"],[1,"message"],[1,"msg-header"],["id","message-text",1,"message-text"],["id","contacts",4,"ngIf"],["id","calendar-events",4,"ngIf"],["id","new-event",4,"ngIf"],["id","outlook-del",4,"ngIf"],["id","outlook-update",4,"ngIf"],["id","daily-summary",4,"ngIf"],["id","dev-ops-new",4,"ngIf"],["id","get-work-items",4,"ngIf"],["id","dev-ops-update",4,"ngIf"],["id","dev-ops-del",4,"ngIf"],["id","create-wiki",4,"ngIf"],["id","get-wiki",4,"ngIf"],["id","update-wiki",4,"ngIf"],["id","delete-wiki",4,"ngIf"],["id","wiki-subpages",4,"ngIf"],["id","teamMembers",4,"ngIf"],["id","dev-ops-del-fail",4,"ngIf"],["id","text",4,"ngIf"],["id","contacts"],[1,"chat-hr"],[1,"fa-solid","fa-user"],["target","_blank",3,"href"],[1,"fa-solid","fa-phone"],[1,"fa-solid","fa-triangle-exclamation",2,"color","orange"],["id","calendar-events"],[1,"fa-regular","fa-calendar"],["id","new-event"],["id","outlook-del"],["id","outlook-update"],[1,"fa-solid","fa-pen-to-square"],[1,"fa-solid","fa-link","fa-2xs"],["id","daily-summary"],[1,"fa-regular","fa-square-check"],["id","dev-ops-new"],["id","get-work-items"],["id","hr-workItem"],[1,"fa-regular","fa-circle-xmark",2,"color","orangered"],["id","dev-ops-update"],["id","dev-ops-del"],[1,"fa-regular","fa-trash-can"],["id","create-wiki"],[1,"fa-solid","fa-file-circle-check"],["id","get-wiki"],["id","update-wiki"],[1,"fa-solid","fa-file-pen"],["id","delete-wiki"],[1,"fa-solid","fa-file-circle-xmark"],["id","wiki-subpages"],[1,"fa-solid","fa-file"],["id","teamMembers"],["id","dev-ops-del-fail"],["id","text"],[1,"fa-solid","fa-circle-info"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(e,r){if(1&e&&(C(0,"div",0)(1,"div",1)(2,"span"),w(3,"E.V.A."),_(),C(4,"form",2),ce("ngSubmit",function(){return r.saveChanges()}),C(5,"div",3)(6,"div",4)(7,"button",5)(8,"span",6),w(9),_()(),C(10,"ul",7),K(11,fV,4,1,"div",8),_()(),C(12,"div",4)(13,"button",5)(14,"span",6),w(15),_()(),C(16,"ul",7),K(17,pV,4,1,"div",8),_()(),C(18,"button",9),ce("click",function(){return r.saveChanges()}),w(19," Save "),_()()()(),K(20,gV,31,0,"div",10),K(21,lB,3,1,"div",11),C(22,"div",12)(23,"div",13)(24,"div",14)(25,"button",15),P(26,"i",16),_()(),C(27,"div",14)(28,"button",17),P(29,"i",18),_()(),C(30,"div",19)(31,"input",20),ce("ngModelChange",function(i){return r.message=i})("keydown.enter",function(){return r.startProcess()}),_()(),C(32,"div",14)(33,"button",21),ce("click",function(){return r.startProcess()}),K(34,dB,1,0,"span",22),K(35,hB,2,0,"span",23),K(36,fB,1,0,"ng-template",null,24,Pw),_()()(),P(38,"br"),_()(),C(39,"div",25)(40,"div",26)(41,"div",27)(42,"div",28)(43,"h1",29),w(44,"FAQ & Tips"),_(),P(45,"button",30),_(),C(46,"div",31)(47,"h5")(48,"b"),w(49,"Capabilities"),_()(),w(50," I'm powered by Cohere AI technology, which allows me to provide accurate and consistent responses to your questions. I can handle a wide range of HR-related inquiries, including questions about policies, benefits, and procedures. I can also assist you in managing your outlook calendar and creating meetings, as well as creating and updating Azure DevOps work items and wikis. "),P(51,"hr"),C(52,"h5")(53,"b"),w(54,"Limitations"),_()(),w(55," While I can answer many HR-related questions, there may be some that I'm not able to address. In such cases, I'll do my best to direct you to a human representative from Perficient's HR department who can provide further assistance. I'm also not able to provide information about your personal employment status, such as your salary or benefits enrollment status. Sometimes I may not be able to fullfil some DevOps or Outlook requests, however, there are some guidelines that can help avoid these issues. "),P(56,"hr"),C(57,"h5")(58,"b"),w(59,"Guidelines for DevOps and Outlook Calendar Management:"),_()(),C(60,"p")(61,"b"),w(62,"NOTE:"),_(),w(63,' For any type of request, when refering to names, titles, or meeting subjects, it is encouraged to use "quotes" to avoid errors. '),_(),C(64,"p")(65,"b"),w(66,"To retrieve meetings:"),_(),w(67,' To retrieve meetings of a specific day you must mention the date that you want to retrieve meetings from. Expressions such as "today", "tomorrow", may be confusing for E.V.A. and may not return the expected results, so it is recommended to include a specific date. '),_(),C(68,"p")(69,"b"),w(70,"To create meetings:"),_(),w(71,' Make sure to include the date in the format MM/DD/YYYY. You must always include a day number, even if it\'s today. If a specific time is not provided, the meeting will be created at 8:00 AM by default. To register attendees, you must have them as contacts in your Outlook account. If a meeting subject is not specified, the meeting will be created with the subject "Meeting Created by E.V.A.". If you need to schedule a meeting with your Azure DevOps team, you must include the phrase "with my team" while requesting the meeting. '),_(),C(72,"p")(73,"b"),w(74,"To edit meetings:"),_(),w(75," To select a meeting to edit, you must include the start date and time of the meeting, as well as the subject. E.V.A. can modify the subject, start and end time of your meetings. If you modify the start date and time of the meeting but its duration will remain the same. The duration of the meeting is modified by changing the end date and time. If more than a single meeting matches the selection criteria, E.V.A. will delete the first meeting that is found. "),_(),C(76,"p")(77,"b"),w(78,"To delete meetings:"),_(),w(79," To select a meeting to delete, include the start date and time of the meeting, as well as the subject in your request. If more than a single meeting matches the selection criteria, E.V.A. will delete the first meeting that is found. "),_(),C(80,"p")(81,"b"),w(82,"For work items:"),_(),w(83,' Before making any requests regarding the DevOps system, you must link your project and organization on the \'DevOps\' page. Inlcude the work item type in the request, otherwise, "Task" is selected by default. Provide a title, priority, and assignee. If you don\'t select an assignee, the work item will be assigned to you by default. You can only update and delete work items assigned to you. When retrieving work items, only those with a state of "New" or "Active" that are assigned to you will be displayed. '),_(),C(84,"b"),w(85,"For wikis:"),_(),w(86,' You can only create wiki pages with a unique name. Unless a title is provided, the page will be named as "New Page". If no content is included in the request, the page will be created with the text "New Page". '),_(),C(87,"div",32)(88,"button",33),w(89,"OK"),_()()()()(),C(90,"div",34)(91,"div",35)(92,"div",27)(93,"div",28)(94,"h1",29),P(95,"i",36),w(96," Confirmation Required "),_(),P(97,"button",37),_(),C(98,"div",31),w(99," Are you sure you want to delete your chat history? This action cannot be undone. "),_(),C(100,"div",32)(101,"button",38),w(102,"Cancel"),_(),C(103,"button",39),ce("click",function(){return r.deleteMessages()}),w(104,"Delete"),_()()()()()),2&e){const o=function G_(n){return function zi(n,t){return n[t]}(function aA(){return me.lFrame.contextLView}(),22+n)}(37);A(4),j("formGroup",r.configDevOps),A(5),Me(r.selectedProject||"Select Project"),A(2),j("ngForOf",r.projectNames),A(4),Me(r.selectedTeam||"Select Team"),A(2),j("ngForOf",r.teamNames),A(3),j("ngIf",r.firstTime),A(1),j("ngIf",!r.firstTime),A(10),j("ngModel",r.message),A(2),j("disabled","charging"===r.chargingState),A(1),j("ngIf","charging"===r.chargingState)("ngIfElse",o),A(1),j("ngIf","charging"===r.chargingState)}},dependencies:[wl,Ms,Oc,Ni,Sc,Ic,Pc,Pi],styles:[".chatWindow[_ngcontent-%COMP%]{min-width:60%;max-width:600px;background-color:#302f2f;border-radius:12px;box-shadow:0 1px 1px #0000000d;min-height:60%;max-height:3000px;margin:15px auto}.chatHeader[_ngcontent-%COMP%]{background-color:#e61717;border-radius:12px 12px 0 0;padding:6px 10px;font-weight:bolder;display:flex;align-items:center;justify-content:space-between}.welcomeText[_ngcontent-%COMP%]{color:#ffffffa9;font-size:20px;padding:100px 0;min-width:70%;max-width:400px;margin:0 auto}.message-form[_ngcontent-%COMP%]{min-width:90%;max-width:400px;margin:0 auto}.message[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-width:60%;margin-bottom:10px;background-color:#f0f0f0}.user-message[_ngcontent-%COMP%]{background-color:transparent;align-items:end;margin-right:15px;margin-left:auto;justify-content:flex-end;min-width:200px;max-width:350px}.user-message-text[_ngcontent-%COMP%]{background-color:#f2f2f2;color:#333}.bot-message[_ngcontent-%COMP%]{background-color:transparent}.bot-message-text[_ngcontent-%COMP%]{background-color:#464646;color:#f2f2f2}.convo-wrapper[_ngcontent-%COMP%]{height:720px;overflow-y:auto;margin:10px 50px}.message-text[_ngcontent-%COMP%]{padding:5px 10px;border-radius:5px;font-size:19px}.msg-header[_ngcontent-%COMP%]{font-style:italic;font-size:17px;color:#bfbfbf;padding:0 15px 4px}.chat-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:flex-end;align-items:center;margin-left:.5px;margin-right:.5px}.chat-box[_ngcontent-%COMP%]{flex:1}.send-btn[_ngcontent-%COMP%]{width:auto}.btn[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.btn-danger[_ngcontent-%COMP%]{background-color:#e61717;border-color:#e61717;padding:5px 10px}.btn-secondary[_ngcontent-%COMP%]{padding-left:12px;padding-right:12px}.btn-cancel-modal[_ngcontent-%COMP%]{padding:5px 10px}@media (max-height: 900px){.chatWindow[_ngcontent-%COMP%]{transform:scale(.95)}.welcomeText[_ngcontent-%COMP%]{font-size:18px;padding:30px 0}.msg-header[_ngcontent-%COMP%]{font-size:15px}.convo-wrapper[_ngcontent-%COMP%]{height:500px}.wt-hr[_ngcontent-%COMP%]{margin:5px 0}}.chat-hr[_ngcontent-%COMP%]{margin:5px 0}#hr-workItem[_ngcontent-%COMP%]{margin:4px 0}a[_ngcontent-%COMP%]{color:#f2f2f2}p[_ngcontent-%COMP%]{margin:0;padding:0}h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%]{margin-top:.5rem}#dev-ops-new[_ngcontent-%COMP%] > .fa-square-check[_ngcontent-%COMP%]{color:#00a8ff}#dev-ops-update[_ngcontent-%COMP%] > .fa-pen-to-square[_ngcontent-%COMP%]{color:#18c009}#dev-ops-del[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > .fa-trash-can[_ngcontent-%COMP%]{color:#ff5c2e}#create-wiki[_ngcontent-%COMP%] > .fa-file-circle-check[_ngcontent-%COMP%]{color:#00a8ff}#update-wiki[_ngcontent-%COMP%] > .fa-file-pen[_ngcontent-%COMP%]{color:#18c009}#delete-wiki[_ngcontent-%COMP%] > .fa-file-circle-xmark[_ngcontent-%COMP%]{color:#ff5c2e}.modal-content[_ngcontent-%COMP%]{background-color:#252525;--bs-modal-header-border-color: #818181;--bs-modal-footer-border-color: #818181}button.btn-close[_ngcontent-%COMP%]{filter:var(--bs-btn-close-white-filter)}.chat-br[_ngcontent-%COMP%]{font-size:10px;size:5px}.modal-body[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin-bottom:13px}.modal-body[_ngcontent-%COMP%]{font-size:20px;text-align:justify}.modal-body[_ngcontent-%COMP%] > b[_ngcontent-%COMP%]{color:#b4b4b4;font-style:italic}.modal-body[_ngcontent-%COMP%] > p[_ngcontent-%COMP%] > b[_ngcontent-%COMP%]{color:#b4b4b4;font-style:italic}.project-menu[_ngcontent-%COMP%]{display:flex;align-items:center}.project-menu[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]{margin-right:10px;padding:5px 10px}.project-menu[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:5px 10px}.dropdown-menu[_ngcontent-%COMP%]{background-color:#252525;color:#b4b4b4}li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover{background-color:#474747;color:#f2f2f2}.form-control[_ngcontent-%COMP%]{background-color:#252525;color:#b4b4b4;border-color:#474747}.form-control[_ngcontent-%COMP%]::placeholder{color:#8a8a8a}#chat-help-button[_ngcontent-%COMP%]{padding:5px 9.5px}.project-menu[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%], .btn-success[_ngcontent-%COMP%]{background-color:#00000052;border-color:#0000}.project-menu[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover, .btn-success[_ngcontent-%COMP%]:hover{background-color:#0000005e}.btn-success[_ngcontent-%COMP%]:focus{background-color:#0008}h1[_ngcontent-%COMP%]{font-size:40px;font-weight:bolder;font-display:inline-block}"],data:{animation:[IU("chargingAnimation",[uT("charging",cT({opacity:.2})),uT("finished",cT({opacity:1})),DU("charging <=> finished",AU("500ms ease-in-out"))])]}}),n})(),mB=(()=>{class n{constructor(e){this.httpclient=e,this.flask="http://10.14.255.59/employee"}getPhoneNumber(e){return this.httpclient.post(this.flask+"/get-phone",{user:e})}sendPhoneNumber(e){return this.httpclient.post(this.flask+"/update-phone",e)}deletePhoneNumber(e){return this.httpclient.post(this.flask+"/delete-phone",{user:e})}}return n.\u0275fac=function(e){return new(e||n)(B(so))},n.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function vB(n,t){if(1&n){const e=Nr();C(0,"div",12)(1,"div",13)(2,"div",13),P(3,"img",14),C(4,"div",15)(5,"h1"),w(6),_(),C(7,"div",16),w(8),_()()()(),C(9,"div",17),w(10,"Phone Number"),_(),C(11,"div",18)(12,"form",19),ce("ngSubmit",function(){return Jt(e),Xt(ie().sendPhoneNumber())}),C(13,"div",20)(14,"div",21),P(15,"input",22),C(16,"button",23),ce("click",function(){return Jt(e),Xt(ie().sendPhoneNumber())}),w(17," Update "),_(),w(18," \xa0\xa0 "),C(19,"button",24),w(20," Delete "),_()()()()(),C(21,"div",17),w(22,"Sign Out"),_(),C(23,"div",25)(24,"button",26),ce("click",function(){return Jt(e),Xt(ie().signOut())}),w(25," Sign Out "),_()()()}if(2&n){const e=ie();A(3),j("src",e.profile.photoUrl||"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460__340.png",Dn),A(3),Bf("",e.profile.givenName," ",e.profile.surname,""),A(2),Me(e.profile.userPrincipalName),A(4),j("formGroup",e.phone)}}const RS="https://graph.microsoft.com/v1.0/me";let yB=(()=>{class n{constructor(e,r,o,i,s,a,c){this.formulario=e,this.authService=r,this.msalBroadcastService=o,this.http=i,this.appComponent=s,this.contactService=a,this.sanitizer=c,this.loginDisplay=!1,this.infoIsReady=!1,this.profile={givenName:"",surname:"",userPrincipalName:"",id:"",photoUrl:null},this.user=this.authService.instance.getActiveAccount()?.username,this.contactService.getPhoneNumber(this.user).subscribe(u=>{this.phone.setValue({phone:u.phone,user:this.user})}),this.phone=this.formulario.group({user:this.authService.instance.getActiveAccount()?.username,phone:[""]})}ngOnInit(){this.msalBroadcastService.msalSubject$.pipe(mn(e=>e.eventType===ee.LOGIN_SUCCESS)).subscribe(e=>{console.log(e)}),this.msalBroadcastService.inProgress$.pipe(mn(e=>e===Ct.None)).subscribe(()=>{this.setLoginDisplay()}),this.getProfile(),this.getPhoto()}setLoginDisplay(){this.loginDisplay=this.authService.instance.getAllAccounts().length>0}getProfile(){this.http.get(RS).subscribe(e=>{this.infoIsReady=!!e,this.profile=e,e&&this.profile.surname&&this.profile.givenName&&(this.profile.surname=this.profile.surname.toLocaleLowerCase().replace(/^\w/,r=>r.toUpperCase()).split(" ")[0],this.profile.givenName=this.profile.givenName.split(" ")[0])})}getPhoto(){return this.profile.photoUrl="",this.http.get(RS+"/photo/$value",{responseType:"blob"}).subscribe(e=>{const r=URL.createObjectURL(e);this.profile.photoUrl=this.sanitizer.bypassSecurityTrustUrl(r)})}signOut(){this.appComponent.logOut()}sendPhoneNumber(){10!=this.phone.value.phone.length||isNaN(this.phone.value.phone)?window.alert("Please enter a valid phone number"):this.contactService.sendPhoneNumber(this.phone.value).subscribe(e=>{console.log(e),window.alert(e.message)})}deletePhoneNumber(){this.contactService.deletePhoneNumber(this.user).subscribe(e=>{console.log(e),window.alert(e.message),this.phone.setValue({phone:"",user:this.user})})}}return n.\u0275fac=function(e){return new(e||n)(R(Lc),R(Gn),R(Ai),R(so),R(jg),R(mB),R(Eb))},n.\u0275cmp=Ir({type:n,selectors:[["app-profile"]],decls:16,vars:1,consts:[["id","profileContainer",4,"ngIf"],["id","phone-confirmation-modal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],[1,"fa-solid","fa-triangle-exclamation","fa-lg",2,"color","orange"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary","btn-cancel-modal"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],["id","profileContainer"],[1,"profileHead"],["id","pfp-img","alt","Profile Picture",3,"src"],["id","profileName"],[1,"mail"],[1,"contactHeader"],[1,"config-form"],[3,"formGroup","ngSubmit"],[1,"row","profile-form"],[1,""],["type","text","formControlName","phone","placeholder","Phone Number",1,"form-control","col-sm-3","form-group"],["type","button","value","send",1,"btn","btn-success",3,"click"],["type","button","value","send","data-bs-toggle","modal","data-bs-target","#phone-confirmation-modal",1,"btn","btn-danger"],[1,"contactInfo"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(e,r){1&e&&(K(0,vB,26,5,"div",0),C(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),P(6,"i",6),w(7," Confirmation Required "),_(),P(8,"button",7),_(),C(9,"div",8),w(10," Are you sure you want to delete your phone number? This action cannot be undone. "),_(),C(11,"div",9)(12,"button",10),w(13,"Cancel"),_(),C(14,"button",11),ce("click",function(){return r.deletePhoneNumber()}),w(15,"Delete"),_()()()()()),2&e&&j("ngIf",r.infoIsReady)},dependencies:[Ms,Oc,Ni,Sc,Ic,Pi,xc],styles:["#profileContainer[_ngcontent-%COMP%]{min-width:60%;max-width:600px;border-radius:12px;min-height:750px;max-height:3000px;margin:25px auto}.profileHead[_ngcontent-%COMP%]{display:flex;align-items:self-start}#pfp-img[_ngcontent-%COMP%]{height:200px;width:200px;border-radius:50%}#profileName[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;margin-left:20px}#profileName[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{font-size:45px;font-weight:700;font-display:inline-block}h2[_ngcontent-%COMP%]{font-size:30px;font-weight:lighter;font-display:inline-block}.contactHeader[_ngcontent-%COMP%]{margin:25px 0 20px 15px;font-size:25px;font-weight:600;font-display:inline-block}.mail[_ngcontent-%COMP%]{font-size:20px;font-weight:300;font-display:inline-block}.contactInfo[_ngcontent-%COMP%]{margin:0 0 20px 15px;font-size:20px;font-weight:300;font-display:inline-block}.contactInfo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:20px}.profile-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .profile-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:inline-block;vertical-align:left}.profile-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:350px;margin-right:20px;margin-left:20px}.profile-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}#phoneNumber[_ngcontent-%COMP%]{max-width:250px}.btn-danger[_ngcontent-%COMP%]{background-color:#e61717;border-color:#e61717}.modal-content[_ngcontent-%COMP%]{background-color:#252525;--bs-modal-header-border-color: #818181;--bs-modal-footer-border-color: #818181}.modal-subtitle[_ngcontent-%COMP%]{margin-top:12px;margin-bottom:12px}button.btn-close[_ngcontent-%COMP%]{filter:var(--bs-btn-close-white-filter)}h1[_ngcontent-%COMP%]{font-size:40px;font-weight:bolder;font-display:inline-block}"]}),n})();var kS=dt(172);function NS(n){return kS.lW.from(n).toString("base64")}function PS(n){return kS.lW.from(n,"base64").toString()}let _B=(()=>{class n{constructor(e){this.httpclient=e,this.flask="http://10.14.255.59/devops"}sendProjectTeams(e){return this.httpclient.post(this.flask+"/save-projects-teams",e)}getProjects(e){return this.httpclient.post(this.flask+"/get-projects",{user:e})}getAccessToken(e){return this.httpclient.post(this.flask+"/devops-token",{user:e})}sendAccessToken(e){return this.httpclient.post(this.flask+"/update-devops-token",e)}deleteAccessToken(e){return this.httpclient.post(this.flask+"/delete-devops-token",{user:e})}deleteProjectTeam(e,r,o){return this.httpclient.post(this.flask+"/delete-projects-teams",{user:e,projectName:r,teamName:o})}}return n.\u0275fac=function(e){return new(e||n)(B(so))},n.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),CB=(()=>{class n{constructor(e){this.httpclient=e,this.flask="http://10.14.255.59/employee"}getUserSecurityQuestion(e){return this.httpclient.post(this.flask+"/get-security-question",{user:e})}getSecurityQuestions(){return this.httpclient.get(this.flask+"/get-security-questions")}checkSecurityAnswer(e,r){return this.httpclient.post(this.flask+"/check-security-answer",{user:e,answer:r})}sendSecurityQuestion(e,r,o){let i={user:e,question:r,answer:NS(o)};return this.httpclient.post(this.flask+"/update-security-question",i)}}return n.\u0275fac=function(e){return new(e||n)(B(so))},n.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const wB=["myButton"],EB=["close"];function bB(n,t){1&n&&(C(0,"h1",43),P(1,"i",36),w(2," Security question setup is required "),_())}function TB(n,t){1&n&&(C(0,"h1",43),P(1,"i",36),w(2," Verification Required "),_())}function SB(n,t){if(1&n){const e=Nr();C(0,"div")(1,"li")(2,"a",47),ce("click",function(){const i=Jt(e).$implicit;return Xt(ie(2).dropdownQuestionSelected(i))}),w(3),_()()()}if(2&n){const e=t.$implicit;A(3),Me(e)}}function IB(n,t){if(1&n){const e=Nr();C(0,"div",38),w(1," In order to protect your sensitive information, you must set up a security question and answer to verify your identity when accessing this information. "),C(2,"h5",44),w(3," Select an option: "),_(),C(4,"button",19),w(5),_(),C(6,"ul",20),K(7,SB,4,1,"div",21),_(),P(8,"br"),C(9,"div",22)(10,"div",14)(11,"input",45),ce("ngModelChange",function(o){return Jt(e),Xt(ie().answer=o)})("keydown.enter",function(){return Jt(e),Xt(ie().saveQuestionAndAnswer())}),_()(),C(12,"div",14)(13,"button",46),ce("click",function(){return Jt(e),Xt(ie().saveQuestionAndAnswer())}),w(14," Save "),_()()()()}if(2&n){const e=ie();A(5),Ge(" ",e.question||"Select"," "),A(2),j("ngForOf",e.securityQuestions),A(4),j("ngModel",e.answer)}}function AB(n,t){if(1&n){const e=Nr();C(0,"div",38)(1,"h5"),w(2,"Please answer the following security question to view this sensitive information:"),_(),w(3),P(4,"br")(5,"br"),C(6,"div",22)(7,"div",14)(8,"input",45),ce("ngModelChange",function(o){return Jt(e),Xt(ie().answer=o)})("keydown.enter",function(){return Jt(e),Xt(ie().verifySecurityAnswer())}),_()(),C(9,"div",14)(10,"button",46),ce("click",function(){return Jt(e),Xt(ie().verifySecurityAnswer())}),w(11," Send "),_()()()()}if(2&n){const e=ie();A(3),Ge(" ",e.question," "),A(5),j("ngModel",e.answer)}}function DB(n,t){if(1&n){const e=Nr();C(0,"div")(1,"li")(2,"a",47),ce("click",function(){const i=Jt(e).$implicit;return Xt(ie().dropdownProjectSelected(i))}),w(3),_()()()}if(2&n){const e=t.$implicit;A(3),Me(e)}}const MB=function(n,t){return{"fa-eye-slash":n,"fa-eye":t}};let RB=(()=>{class n{constructor(e,r,o,i,s,a){this.formulario=e,this.testForm=r,this.devOpsService=o,this.securityService=i,this.authService=s,this.router=a,this.teamNames=[],this.projectNames=[],this.placeHolderTeams=["Team 1","Team 2","Team 3"],this.selectedProject="",this.questionIsSet=!0,this.securityQuestions=[],this.question="",this.answer="",this.isModalOpen=!1,this.validForm=!0,this.user=this.authService.instance.getActiveAccount()?.username,this.configDevOps=this.formulario.group({user:this.user,teamName:[""],projectName:[""]}),this.fieldTextType=!0,this.configAccessToken=this.formulario.group({user:this.user,token:[""]})}ngOnInit(){window.onpopstate=()=>{this.close.nativeElement.click()},this.securityService.getUserSecurityQuestion(this.user).subscribe(e=>{"No question"==e.question?this.questionIsSet=!1:(this.questionIsSet=!0,this.securityService.getUserSecurityQuestion(this.user).subscribe(r=>{this.question=r.question}))}),this.securityService.getSecurityQuestions().subscribe(e=>{for(let r=0;r<e.questions.length;r++)this.securityQuestions.push(e.questions[r])})}dropdownQuestionSelected(e){this.question=e}saveQuestionAndAnswer(){this.securityService.sendSecurityQuestion(this.user,this.question,this.answer).subscribe(e=>{this.close.nativeElement.click(),this.devOpsService.getAccessToken(this.user).subscribe(r=>{this.configAccessToken.setValue({token:PS(r.token),user:this.user})}),this.devOpsService.getProjects(this.user).subscribe(r=>{this.projectNames=r.projects}),this.isModalOpen=!1,window.alert(e.message)})}ngAfterViewInit(){setTimeout(()=>{this.myButton.nativeElement.click()},100),this.buttonClickListener=()=>{this.isModalOpen=!0},this.myButton.nativeElement.addEventListener("click",this.buttonClickListener)}onEscapeKeydown(e){this.isModalOpen&&(this.close.nativeElement.click(),e.preventDefault(),this.router.navigate(["/"]))}sendProjectTeams(){""==this.configDevOps.value.teamName||""==this.configDevOps.value.projectName?(this.validForm=!1,window.alert("Please fill both fields")):this.devOpsService.sendProjectTeams(this.configDevOps.value).subscribe(e=>{void 0!==e.errorMessage?window.alert(e.errorMessage):window.alert(e.message),this.devOpsService.getProjects(this.user).subscribe(r=>{this.projectNames=r.projects})})}sendAccessToken(){this.configAccessToken.value.token=NS(this.configAccessToken.value.token),this.devOpsService.sendAccessToken(this.configAccessToken.value).subscribe(e=>{window.alert(e.message)})}toggleFieldTextType(){this.fieldTextType=!this.fieldTextType}dropdownProjectSelected(e){this.selectedProject=e,this.configDevOps.patchValue({projectName:e})}sendSecurityAnswer(){this.securityService.sendSecurityQuestion(this.user,this.question,this.answer).subscribe(e=>{window.alert(e)})}verifySecurityAnswer(){this.securityService.checkSecurityAnswer(this.user,this.answer).subscribe(e=>{e.equal?(this.close.nativeElement.click(),this.devOpsService.getAccessToken(this.user).subscribe(r=>{this.configAccessToken.setValue({token:PS(r.token),user:this.user})}),this.devOpsService.getProjects(this.user).subscribe(r=>{this.projectNames=r.projects}),this.isModalOpen=!1):window.alert(e.message)})}deleteProjectTeam(){""==this.configDevOps.value.teamName||""==this.configDevOps.value.projectName?(this.validForm=!1,window.alert("Please fill both fields")):this.devOpsService.deleteProjectTeam(this.user,this.configDevOps.value.projectName,this.configDevOps.value.teamName).subscribe(e=>{window.alert(e.message),this.devOpsService.getProjects(this.user).subscribe(r=>{this.projectNames=r.projects}),this.configDevOps.setValue({teamName:"",projectName:"",user:this.user}),this.selectedProject=""})}deleteAccessToken(){this.devOpsService.deleteAccessToken(this.user).subscribe(e=>{window.alert(e.message),this.configAccessToken.setValue({token:"",user:this.user})})}}return n.\u0275fac=function(e){return new(e||n)(R(Lc),R(Lc),R(_B),R(CB),R(Gn),R(Mt))},n.\u0275cmp=Ir({type:n,selectors:[["app-devops-config"]],viewQuery:function(e,r){if(1&e&&(Zu(wB,5),Zu(EB,5)),2&e){let o;Ts(o=Ss())&&(r.myButton=o.first),Ts(o=Ss())&&(r.close=o.first)}},hostBindings:function(e,r){1&e&&ce("keydown.escape",function(i){return r.onEscapeKeydown(i)},0,Vy)},decls:105,vars:13,consts:[["id","staticBackdrop","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","staticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["class","modal-title fs-5","id","staticBackdropLabel",4,"ngIf"],["class","modal-body",4,"ngIf"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary","hidden-button"],["close",""],["type","button","data-bs-toggle","modal","data-bs-target","#staticBackdrop",1,"btn","btn-primary","hidden-button"],["myButton",""],["id","config-container"],["id","text"],[3,"formGroup","ngSubmit"],["novalidate","",1,"row","g-2","align-items-center","needs-validation"],[1,"col-auto"],["for","exampleFormControlInput1",1,"form-label"],["type","text","placeholder","Project name","formControlName","projectName","required","",1,"form-control"],[1,"invalid-feedback"],[1,"form-label"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-secondary","dropdown-toggle"],[1,"dropdown-menu"],[4,"ngFor","ngForOf"],[1,"row","g-2","align-items-center","needs-validation"],["type","text","placeholder","Team name","formControlName","teamName","required","",1,"form-control"],["type","button",1,"btn","btn-success",3,"click"],["type","button","data-bs-toggle","modal","data-bs-target","#project-team-confirmation-modal",1,"btn","btn-danger"],[1,"config-form"],[1,"row"],[1,"form-token"],["formControlName","token","placeholder","Personal Access Token",1,"form-control",3,"type"],[1,""],[1,"fa",3,"ngClass","click"],["type","button","value","send",1,"btn","btn-success",3,"click"],["type","button","value","send","data-bs-toggle","modal","data-bs-target","#pat-confirmation-modal",1,"btn","btn-danger"],["id","project-team-confirmation-modal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","exampleModalLabel",1,"modal-title","fs-5"],[1,"fa-solid","fa-triangle-exclamation","fa-lg",2,"color","orange"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary","btn-cancel-modal"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],["id","pat-confirmation-modal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","staticBackdropLabel",1,"modal-title","fs-5"],[1,"modal-subtitle"],["type","text","placeholder","Answer",1,"form-control",3,"ngModel","ngModelChange","keydown.enter"],["type","button",1,"btn","btn-danger",3,"click"],[1,"dropdown-item",3,"click"]],template:function(e,r){1&e&&(C(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),K(4,bB,3,0,"h1",4),K(5,TB,3,0,"h1",4),_(),K(6,IB,15,3,"div",5),K(7,AB,12,2,"div",5),C(8,"button",6,7),w(10,"Close"),_()()()(),C(11,"button",8,9),w(13," Launch demo modal\n"),_(),C(14,"div",10)(15,"h1"),w(16,"DevOps Configuration"),_(),P(17,"br"),C(18,"h3"),w(19,"Select a Project and Team"),_(),C(20,"div",11),w(21," Add each one of your projects and its associated team that you are part of. You may add a new team for an existing project by selecting it from the dropdown and entering the team name. Then, you will be able to select the project and team that you want to use for E.V.A.'s DevOps management service from the chat page. "),_(),P(22,"br"),C(23,"form",12),ce("ngSubmit",function(){return r.sendProjectTeams()}),C(24,"div",13)(25,"div",14)(26,"label",15),w(27,"Add project"),_(),P(28,"input",16),C(29,"div",17),w(30," Please provide a valid project. "),_()(),C(31,"div",14)(32,"label",18),w(33,"Select a registered project"),_(),C(34,"button",19),w(35),_(),C(36,"ul",20),K(37,DB,4,1,"div",21),_()()(),P(38,"br"),C(39,"div",22)(40,"div",14)(41,"label",18),w(42,"Add team"),_(),P(43,"input",23),C(44,"div",17),w(45," Please provide a valid team name. "),_()(),C(46,"div",14)(47,"label",18),w(48,"\xa0"),_(),C(49,"button",24),ce("click",function(){return r.sendProjectTeams()}),w(50," Save "),_()(),C(51,"div",14)(52,"label",18),w(53,"\xa0"),_(),C(54,"button",25),w(55," Delete "),_()()()(),P(56,"br")(57,"hr"),C(58,"h3"),w(59,"DevOps Personal Access Token"),_(),C(60,"div",11),w(61,' If you don\'t have a personal access token, please head over to Azure DevOps and in the user settings menu, click on "Personal access tokens", and click the "New Token" button. Then, select the "Full access" scope, make it accessible to all organizations, and select an appropriate expiration date. After the token is created, copy it and paste it in the field below. If you already have a token, you can paste it in the field below. '),_(),P(62,"br"),C(63,"div",26)(64,"form",12),ce("ngSubmit",function(){return r.sendAccessToken()}),C(65,"div",27)(66,"div",28),P(67,"input",29),C(68,"span",30)(69,"i",31),ce("click",function(){return r.toggleFieldTextType()}),_()()(),C(70,"button",32),ce("click",function(){return r.sendAccessToken()}),w(71,"Save"),_(),w(72," \xa0\xa0 "),C(73,"button",33),w(74," Delete "),_()()()()(),C(75,"div",34)(76,"div",1)(77,"div",2)(78,"div",3)(79,"h1",35),P(80,"i",36),w(81," Confirmation Required "),_(),P(82,"button",37),_(),C(83,"div",38),w(84," Are you sure you want to delete this project and team configuration? This action cannot be undone. "),_(),C(85,"div",39)(86,"button",40),w(87,"Cancel"),_(),C(88,"button",41),ce("click",function(){return r.deleteProjectTeam()}),w(89,"Delete"),_()()()()(),C(90,"div",42)(91,"div",1)(92,"div",2)(93,"div",3)(94,"h1",35),P(95,"i",36),w(96," Confirmation Required "),_(),P(97,"button",37),_(),C(98,"div",38),w(99," Are you sure you want to delete your personal access token? This action cannot be undone. To re-enable E.V.A.'s DevOps management service, you will need to re-enter a valid personal access token. "),_(),C(100,"div",39)(101,"button",40),w(102,"Cancel"),_(),C(103,"button",41),ce("click",function(){return r.deleteAccessToken()}),w(104,"Delete"),_()()()()()),2&e&&(A(4),j("ngIf",!r.questionIsSet),A(1),j("ngIf",r.questionIsSet),A(1),j("ngIf",!r.questionIsSet),A(1),j("ngIf",r.questionIsSet),A(16),j("formGroup",r.configDevOps),A(12),Ge(" ",r.selectedProject||"Select"," "),A(2),j("ngForOf",r.projectNames),A(27),j("formGroup",r.configAccessToken),A(3),j("type",r.fieldTextType?"password":"text"),A(2),j("ngClass",_w(10,MB,!r.fieldTextType,r.fieldTextType)))},dependencies:[qE,wl,Ms,Oc,Ni,Sc,Ic,Fc,Pc,Pi,xc],styles:["#config-container[_ngcontent-%COMP%]{min-width:55%;max-width:600px;border-radius:12px;margin:2% auto}h1[_ngcontent-%COMP%]{font-size:40px;font-weight:bolder;font-display:inline-block}h3[_ngcontent-%COMP%]{font-size:30px;font-weight:bolder;margin-bottom:2%}#text[_ngcontent-%COMP%]{font-size:20px;text-align:justify}.accordion-button[_ngcontent-%COMP%]:after{background-image:initial}.accordion-button[_ngcontent-%COMP%]:not(.collapsed):after{background-image:initial}.btn-group[_ngcontent-%COMP%]{margin-top:10px;margin-right:50px}.org[_ngcontent-%COMP%]{width:200px}.form-check-input[_ngcontent-%COMP%]{margin:0 0 10px}.hr-form[_ngcontent-%COMP%]{margin:10px 0 20px}.config-label[_ngcontent-%COMP%]{margin-bottom:0}.config-form[_ngcontent-%COMP%]{margin-right:20px}.config-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .config-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}.config-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:350px;margin-right:20px;margin-top:10px}.config-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;margin-top:10px}.btn-danger[_ngcontent-%COMP%]{background-color:#e61717;border-color:#e61717}.form-control[_ngcontent-%COMP%]{width:300px;margin-right:12px}.dropdown-toggle[_ngcontent-%COMP%]{display:block}.form-label[_ngcontent-%COMP%]{font-size:14px;color:gray;display:block}.form-control[_ngcontent-%COMP%]{background-color:#252525;color:#b4b4b4;border-color:#474747}.form-control[_ngcontent-%COMP%]::placeholder{color:#8a8a8a}.dropdown-menu[_ngcontent-%COMP%]{background-color:#252525;color:#f2f2f2}a[_ngcontent-%COMP%]{color:#f2f2f2}li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover{background-color:#474747;color:#f2f2f2}.hidden-button[_ngcontent-%COMP%]{position:absolute;left:-9999px;top:-9999px;width:1px;height:1px;opacity:0;pointer-events:none}.modal-content[_ngcontent-%COMP%]{background-color:#252525;--bs-modal-header-border-color: #818181;--bs-modal-footer-border-color: #818181}.modal-subtitle[_ngcontent-%COMP%]{margin-top:12px;margin-bottom:12px}button.btn-close[_ngcontent-%COMP%]{filter:var(--bs-btn-close-white-filter)}"]}),n})(),kB=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ir({type:n,selectors:[["app-about"]],decls:5,vars:0,consts:[["id","aboutContainer"],["id","text"]],template:function(e,r){1&e&&(C(0,"div",0)(1,"h1"),w(2,"About This Site"),_(),C(3,"div",1),w(4," Welcome to the E.V.A. website! This application was created using Angular, a modern web development framework, and it was made for exclusive use of Perficient's employees, as it requires a Perficient Microsoft account to access the chat bot. This website was created as a student project for the Software System Development course. E.V.A. stands for Employee Virtual Assistant, and its goal is to be a productivity enhancement tool that enables employees to resolve HR-related inquiries and speed up their DevOps workflow and their Outlook Calendar management. "),_()())},styles:["#aboutContainer[_ngcontent-%COMP%]{min-width:55%;max-width:600px;border-radius:12px;margin:10% auto}h1[_ngcontent-%COMP%]{font-size:40px;font-weight:bolder;font-display:inline-block;margin-bottom:5%}#text[_ngcontent-%COMP%]{font-size:20px;text-align:justify}"]}),n})(),NB=(()=>{class n{constructor(e){this.httpclient=e,this.flask="http://10.14.255.59/admin"}addOrganization(e){return this.httpclient.post(this.flask+"/add-organization",{organizationName:e})}deleteOrganization(e){return this.httpclient.post(this.flask+"/delete-organization",{organizationName:e})}getOrganizations(){return this.httpclient.get(this.flask+"/organizations")}updateDefaultOrganization(e){return this.httpclient.post(this.flask+"/update-default-organization",{organizationName:e})}getDefaultOrganization(){return this.httpclient.get(this.flask+"/get-default-organization")}resetSecurityQuestion(e){return this.httpclient.post(this.flask+"/reset-security-question",{user:e})}modifyData(e){return this.httpclient.post(this.flask+"/fields",e)}deleteData(e,r){return this.httpclient.post(this.flask+"/delete-fields",{user:e,fieldName:r})}getFields(){return this.httpclient.get(this.flask+"/fields")}getData(e,r){return this.httpclient.post(this.flask+"/data-user",{user:e,fieldName:r})}}return n.\u0275fac=function(e){return new(e||n)(B(so))},n.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function PB(n,t){if(1&n){const e=Nr();C(0,"div")(1,"li")(2,"a",36),ce("click",function(){const i=Jt(e).$implicit;return Xt(ie().dropDownOrgSelected(i))}),w(3),_()()()}if(2&n){const e=t.$implicit;A(3),Me(e)}}function OB(n,t){if(1&n){const e=Nr();C(0,"div")(1,"li")(2,"a",36),ce("click",function(){const i=Jt(e).$implicit;return Xt(ie().dropDownFieldSelected(i))}),w(3),_()()()}if(2&n){const e=t.$implicit;A(3),Me(e)}}const xB=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:SU},{path:"chat",component:gB,canActivate:[Bs]},{path:"profile",component:yB,canActivate:[Bs]},{path:"devops-config",component:RB,canActivate:[Bs]},{path:"about",component:kB},{path:"admin",component:(()=>{class n{constructor(e,r,o){this.adminService=e,this.authService=r,this.configForm=o,this.orgNames=[],this.selectedOrg="",this.selectedField="",this.fields=[],this.userToReset="",this.fieldValue="",this.user=this.authService.instance.getActiveAccount()?.username,this.adminOrgConfig=this.configForm.group({orgName:[""],defaultOrg:[""]}),this.userData=this.configForm.group({user:"",fieldName:"",fieldValue:""})}ngOnInit(){this.getOrganizations(),this.getDefaultOrganization(),this.getFields()}deleteOrganization(){""!=this.selectedOrg&&this.adminService.deleteOrganization(this.selectedOrg).subscribe(e=>{window.alert(e.message),this.getOrganizations(),this.selectedOrg=""})}addOrganization(){""!=this.adminOrgConfig.value.orgName.trim()&&this.adminService.addOrganization(this.adminOrgConfig.value.orgName).subscribe(e=>{window.alert(e.message),this.getOrganizations(),this.adminOrgConfig.reset()})}getOrganizations(){this.adminService.getOrganizations().subscribe(e=>{this.orgNames=e.organizations})}getDefaultOrganization(){this.adminService.getDefaultOrganization().subscribe(e=>{this.selectedOrg=e.default_org})}updateDefaultOrganization(){""!=this.selectedOrg&&this.adminService.updateDefaultOrganization(this.selectedOrg).subscribe(e=>{window.alert(e.message)})}resetSecurityQuestions(){""!=this.userToReset.trim()&&this.adminService.resetSecurityQuestion(this.userToReset).subscribe(e=>{window.alert(e.message),this.userToReset=""})}sendData(){this.userData.value.fieldName=this.selectedField,""!=this.userData.value.fieldValue&&""!=this.userData.value.user&&""!=this.userData.value.fieldName?this.adminService.modifyData(this.userData.value).subscribe(e=>{void 0===e.error?(window.alert(e.message),this.userData.setValue({fieldName:"",fieldValue:"",user:""}),this.selectedField=""):window.alert(e.errorMessage)}):window.alert("Please complete all the fields")}deleteData(){this.userData.value.fieldName=this.selectedField,""!=this.userData.value.user.trim()&&""!=this.userData.value.fieldName.trim()?this.adminService.deleteData(this.userData.value.user,this.userData.value.fieldName).subscribe(e=>{void 0===e.error?(window.alert(e.message),this.userData.setValue({fieldName:"",fieldValue:"",user:""}),this.selectedField=""):window.alert(e.errorMessage)}):window.alert("Please complete only the user and select a field")}dropDownOrgSelected(e){this.selectedOrg=e}dropDownFieldSelected(e){this.selectedField=e,this.adminService.getData(this.userData.value.user,this.selectedField).subscribe(r=>{void 0===r.error?(this.userData.value.fieldValue=r.data,this.userData.setValue({fieldName:this.selectedField,fieldValue:this.userData.value.fieldValue,user:this.userData.value.user})):window.alert(r.errorMessage)})}getFields(){this.adminService.getFields().subscribe(e=>{this.fields=e.fields})}}return n.\u0275fac=function(e){return new(e||n)(R(NB),R(Gn),R(Lc))},n.\u0275cmp=Ir({type:n,selectors:[["app-admin"]],decls:144,vars:7,consts:[["id","config-container"],["id","text"],[3,"formGroup","ngSubmit"],["novalidate","",1,"row","g-2","align-items-center","needs-validation"],[1,"col-auto"],[1,"form-label"],[1,"input-group"],["type","text","placeholder","New organization name","formControlName","orgName","required","",1,"form-control","rounded-end"],["type","button",1,"btn","btn-success","rounded-start","rounded-end",3,"click"],[1,"invalid-feedback"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-secondary","dropdown-toggle","rounded-end"],[1,"dropdown-menu"],[4,"ngFor","ngForOf"],["type","button","data-bs-toggle","modal","data-bs-target","#org-confirmation-modal",1,"btn","btn-danger","rounded-start"],[1,"row","g-2","align-items-center","needs-validation"],["type","text","placeholder","Email Address","required","",1,"form-control","rounded-end",3,"ngModel","ngModelChange","keydown.enter"],["type","button","data-bs-toggle","modal","data-bs-target","#sec-q-confirmation-modal",1,"btn","btn-danger","rounded-start"],["href","https://language.cognitive.azure.com/","target","_blank",1,"btn","btn-primary"],[1,"fa-solid","fa-arrow-up-right-from-square","fa-sm"],["formControlName","user","type","text","placeholder","Email Address","required","",1,"form-control","rounded-end"],["formControlName","fieldValue","type","text","placeholder","Value","required","",1,"form-control","rounded-end"],["type","button",1,"btn","btn-success",3,"click"],["type","button","data-bs-toggle","modal","data-bs-target","#data-confirmation-modal",1,"btn","btn-danger","rounded-start"],["id","org-confirmation-modal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],[1,"fa-solid","fa-triangle-exclamation","fa-lg",2,"color","orange"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary","btn-cancel-modal"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],["id","sec-q-confirmation-modal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","data-confirmation-modal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"dropdown-item",3,"click"]],template:function(e,r){1&e&&(C(0,"div",0)(1,"h1"),w(2,"Administrator Settings"),_(),P(3,"br"),C(4,"h3"),w(5,"Select a DevOps Organization"),_(),C(6,"div",1),w(7,' Add the DevOps organizations within your company that you want to use for E.V.A.\'s DevOps management service. You may add a new organization by entering its name and clicking the "Add" button. Once the organizations are added, you will be able to select the default organization that employees will use. To delete an organization, select it from the dropdown and click the "Delete" button. '),_(),P(8,"br"),C(9,"form",2),ce("ngSubmit",function(){return r.addOrganization()}),C(10,"div",3)(11,"div",4)(12,"label",5),w(13,"Add organization"),_(),C(14,"div",6),P(15,"input",7),C(16,"button",8),ce("click",function(){return r.addOrganization()}),w(17," Add "),_()(),C(18,"div",9),w(19," Please provide a valid organization. "),_()(),C(20,"div",4)(21,"label",5),w(22,"Select organization"),_(),C(23,"div",6)(24,"button",10),w(25),_(),C(26,"ul",11),K(27,PB,4,1,"div",12),_(),C(28,"button",8),ce("click",function(){return r.updateDefaultOrganization()}),w(29," Set "),_(),w(30," \xa0\xa0 "),C(31,"button",13),w(32," Delete "),_()()()()(),P(33,"br")(34,"hr"),C(35,"h3"),w(36,"Reset Security Question"),_(),C(37,"div",1),w(38," You can reset the security question that employees will be asked when they try to access their sensitive information. Reset the security question of a specific employee by entering their company email address. "),_(),P(39,"br"),C(40,"div",14)(41,"div",4)(42,"label",5),w(43,"Select user"),_(),C(44,"div",6)(45,"input",15),ce("ngModelChange",function(i){return r.userToReset=i})("keydown.enter",function(){return r.resetSecurityQuestions()}),_(),C(46,"div",9),w(47," Please provide a valid team name. "),_(),C(48,"button",16),w(49," Reset "),_()()()(),P(50,"br")(51,"hr"),C(52,"h3"),w(53,"Language Studio Configuration"),_(),C(54,"div",1),w(55," You can configure the Language Studio service that E.V.A. uses to answer questions about your company's policies and procedures by accessing the Language Studio configuration page. To learn more about configuring Language Studio, please refer to the AI Services Integration Guide for more detailed instructions regarding the configuration process. "),_(),P(56,"br"),C(57,"a",17),w(58," Go to Language Studio "),P(59,"i",18),_(),P(60,"br")(61,"hr"),C(62,"div")(63,"h3"),w(64,"Manage Data of Employees"),_(),C(65,"div",1),w(66," You can set the values of the information for each user by entering their company email address and by selecting among the shown. "),_(),C(67,"form",2),ce("ngSubmit",function(){return r.sendData()}),C(68,"div",14)(69,"div",4)(70,"label",5),w(71,"Select user"),_(),C(72,"div",6),P(73,"input",19),C(74,"div",9),w(75," Please provide a valid email adress. "),_()()(),C(76,"div",4)(77,"label",5),w(78,"Select field"),_(),C(79,"div",6)(80,"button",10),w(81),_(),C(82,"ul",11),K(83,OB,4,1,"div",12),_()()(),C(84,"div",4)(85,"label",5),w(86,"Enter value"),_(),C(87,"div",6),P(88,"input",20),C(89,"div",9),w(90," Please provide a valid field value. "),_()()(),C(91,"div",4)(92,"label",5),w(93,"\xa0"),_(),C(94,"button",21),ce("click",function(){return r.sendData()}),w(95," Save "),_(),w(96," \xa0\xa0 "),C(97,"button",22),w(98," Delete "),_()()()()()(),C(99,"div",23)(100,"div",24)(101,"div",25)(102,"div",26)(103,"h1",27),P(104,"i",28),w(105," Confirmation Required "),_(),P(106,"button",29),_(),C(107,"div",30),w(108," Are you sure you want to delete this organization? This action cannot be undone. "),_(),C(109,"div",31)(110,"button",32),w(111,"Cancel"),_(),C(112,"button",33),ce("click",function(){return r.deleteOrganization()}),w(113,"Delete"),_()()()()(),C(114,"div",34)(115,"div",24)(116,"div",25)(117,"div",26)(118,"h1",27),P(119,"i",28),w(120," Confirmation Required "),_(),P(121,"button",29),_(),C(122,"div",30),w(123," Are you sure you want to reset this user's security question? This action cannot be undone. "),_(),C(124,"div",31)(125,"button",32),w(126,"Cancel"),_(),C(127,"button",33),ce("click",function(){return r.resetSecurityQuestions()}),w(128,"Reset"),_()()()()(),C(129,"div",35)(130,"div",24)(131,"div",25)(132,"div",26)(133,"h1",27),P(134,"i",28),w(135," Confirmation Required "),_(),P(136,"button",29),_(),C(137,"div",30),w(138," Are you sure you want to reset this user's data? This action cannot be undone. "),_(),C(139,"div",31)(140,"button",32),w(141,"Cancel"),_(),C(142,"button",33),ce("click",function(){return r.deleteData()}),w(143,"Reset"),_()()()()()),2&e&&(A(9),j("formGroup",r.adminOrgConfig),A(16),Ge(" ",r.selectedOrg||"Select Organization"," "),A(2),j("ngForOf",r.orgNames),A(18),j("ngModel",r.userToReset),A(22),j("formGroup",r.userData),A(14),Ge(" ",r.selectedField||"Select field"," "),A(2),j("ngForOf",r.fields))},dependencies:[wl,Oc,Ni,Sc,Ic,Fc,Pc,Pi,xc],styles:["#config-container[_ngcontent-%COMP%]{min-width:55%;max-width:600px;border-radius:12px;margin:2% auto}h3[_ngcontent-%COMP%]{font-size:30px;font-weight:bolder;margin-bottom:2%}#text[_ngcontent-%COMP%]{font-size:20px;text-align:justify}.btn-group[_ngcontent-%COMP%]{margin-top:10px;margin-right:50px}.org[_ngcontent-%COMP%]{width:200px}.form-check-input[_ngcontent-%COMP%]{margin:0 0 10px}.hr-form[_ngcontent-%COMP%]{margin:10px 0 20px}.config-label[_ngcontent-%COMP%]{margin-bottom:0}.config-form[_ngcontent-%COMP%]{margin-right:20px}.config-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .config-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}.config-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:350px;margin-right:20px;margin-top:10px}.config-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;margin-top:10px}.btn-danger[_ngcontent-%COMP%]{background-color:#e61717;border-color:#e61717}.form-control[_ngcontent-%COMP%]{width:300px;margin-right:12px}.dropdown-toggle[_ngcontent-%COMP%]{display:block;margin-right:10px}.col-auto[_ngcontent-%COMP%]{margin-right:10px}.form-label[_ngcontent-%COMP%]{font-size:14px;color:gray;display:block}.form-control[_ngcontent-%COMP%]{background-color:#252525;color:#b4b4b4;border-color:#474747}.form-control[_ngcontent-%COMP%]::placeholder{color:#8a8a8a}.dropdown-menu[_ngcontent-%COMP%]{background-color:#252525;color:#f2f2f2}a[_ngcontent-%COMP%]{color:#f2f2f2}li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover{background-color:#474747;color:#f2f2f2}.input-group-text[_ngcontent-%COMP%]{background-color:#353535;color:#d3d3d3;border-color:#474747}.modal-content[_ngcontent-%COMP%]{background-color:#252525;--bs-modal-header-border-color: #818181;--bs-modal-footer-border-color: #818181}.modal-subtitle[_ngcontent-%COMP%]{margin-top:12px;margin-bottom:12px}button.btn-close[_ngcontent-%COMP%]{filter:var(--bs-btn-close-white-filter)}h1[_ngcontent-%COMP%]{font-size:40px;font-weight:bolder;font-display:inline-block}"]}),n})(),canActivate:[Bs,Q0]},{path:"**",redirectTo:"/home"}];window!==window.parent&&window;let OS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=xn({type:n}),n.\u0275inj=En({imports:[V0.forRoot(xB,{initialNavigation:lt.isInIframe()||lt.isInPopup()?"disabled":"enabledNonBlocking"}),V0]}),n})();var k=(()=>{return(n=k||(k={})).AcquireTokenByCode="acquireTokenByCode",n.AcquireTokenByRefreshToken="acquireTokenByRefreshToken",n.AcquireTokenSilent="acquireTokenSilent",n.AcquireTokenSilentAsync="acquireTokenSilentAsync",n.AcquireTokenPopup="acquireTokenPopup",n.CryptoOptsGetPublicKeyThumbprint="cryptoOptsGetPublicKeyThumbprint",n.CryptoOptsSignJwt="cryptoOptsSignJwt",n.SilentCacheClientAcquireToken="silentCacheClientAcquireToken",n.SilentIframeClientAcquireToken="silentIframeClientAcquireToken",n.SilentRefreshClientAcquireToken="silentRefreshClientAcquireToken",n.SsoSilent="ssoSilent",n.StandardInteractionClientGetDiscoveredAuthority="standardInteractionClientGetDiscoveredAuthority",n.FetchAccountIdWithNativeBroker="fetchAccountIdWithNativeBroker",n.NativeInteractionClientAcquireToken="nativeInteractionClientAcquireToken",n.BaseClientCreateTokenRequestHeaders="baseClientCreateTokenRequestHeaders",n.BrokerHandhshake="brokerHandshake",n.AcquireTokenByRefreshTokenInBroker="acquireTokenByRefreshTokenInBroker",n.AcquireTokenByBroker="acquireTokenByBroker",n.RefreshTokenClientExecuteTokenRequest="refreshTokenClientExecuteTokenRequest",n.RefreshTokenClientAcquireToken="refreshTokenClientAcquireToken",n.RefreshTokenClientAcquireTokenWithCachedRefreshToken="refreshTokenClientAcquireTokenWithCachedRefreshToken",n.RefreshTokenClientAcquireTokenByRefreshToken="refreshTokenClientAcquireTokenByRefreshToken",n.RefreshTokenClientCreateTokenRequestBody="refreshTokenClientCreateTokenRequestBody",n.AcquireTokenFromCache="acquireTokenFromCache",n.AcquireTokenBySilentIframe="acquireTokenBySilentIframe",n.InitializeBaseRequest="initializeBaseRequest",n.InitializeSilentRequest="initializeSilentRequest",n.InitializeClientApplication="initializeClientApplication",n.SilentIframeClientTokenHelper="silentIframeClientTokenHelper",n.SilentHandlerInitiateAuthRequest="silentHandlerInitiateAuthRequest",n.SilentHandlerMonitorIframeForHash="silentHandlerMonitorIframeForHash",n.SilentHandlerLoadFrame="silentHandlerLoadFrame",n.StandardInteractionClientCreateAuthCodeClient="standardInteractionClientCreateAuthCodeClient",n.StandardInteractionClientGetClientConfiguration="standardInteractionClientGetClientConfiguration",n.StandardInteractionClientInitializeAuthorizationRequest="standardInteractionClientInitializeAuthorizationRequest",n.StandardInteractionClientInitializeAuthorizationCodeRequest="standardInteractionClientInitializeAuthorizationCodeRequest",n.GetAuthCodeUrl="getAuthCodeUrl",n.HandleCodeResponseFromServer="handleCodeResponseFromServer",n.HandleCodeResponseFromHash="handleCodeResponseFromHash",n.UpdateTokenEndpointAuthority="updateTokenEndpointAuthority",n.AuthClientAcquireToken="authClientAcquireToken",n.AuthClientExecuteTokenRequest="authClientExecuteTokenRequest",n.AuthClientCreateTokenRequestBody="authClientCreateTokenRequestBody",n.AuthClientCreateQueryString="authClientCreateQueryString",n.PopTokenGenerateCnf="popTokenGenerateCnf",n.PopTokenGenerateKid="popTokenGenerateKid",n.HandleServerTokenResponse="handleServerTokenResponse",n.AuthorityFactoryCreateDiscoveredInstance="authorityFactoryCreateDiscoveredInstance",n.AuthorityResolveEndpointsAsync="authorityResolveEndpointsAsync",n.AuthorityGetCloudDiscoveryMetadataFromNetwork="authorityGetCloudDiscoveryMetadataFromNetwork",n.AuthorityUpdateCloudDiscoveryMetadata="authorityUpdateCloudDiscoveryMetadata",n.AuthorityGetEndpointMetadataFromNetwork="authorityGetEndpointMetadataFromNetwork",n.AuthorityUpdateEndpointMetadata="authorityUpdateEndpointMetadata",n.AuthorityUpdateMetadataWithRegionalInformation="authorityUpdateMetadataWithRegionalInformation",n.RegionDiscoveryDetectRegion="regionDiscoveryDetectRegion",n.RegionDiscoveryGetRegionFromIMDS="regionDiscoveryGetRegionFromIMDS",n.RegionDiscoveryGetCurrentVersion="regionDiscoveryGetCurrentVersion",n.AcquireTokenByCodeAsync="acquireTokenByCodeAsync",n.GetEndpointMetadataFromNetwork="getEndpointMetadataFromNetwork",n.GetCloudDiscoveryMetadataFromNetworkMeasurement="getCloudDiscoveryMetadataFromNetworkMeasurement",n.HandleRedirectPromiseMeasurement="handleRedirectPromiseMeasurement",n.UpdateCloudDiscoveryMetadataMeasurement="updateCloudDiscoveryMetadataMeasurement",n.UsernamePasswordClientAcquireToken="usernamePasswordClientAcquireToken",n.NativeMessageHandlerHandshake="nativeMessageHandlerHandshake",k;var n})(),Uc=(()=>{return(n=Uc||(Uc={}))[n.NotStarted=0]="NotStarted",n[n.InProgress=1]="InProgress",n[n.Completed=2]="Completed",Uc;var n})(),FB=new Set(["accessTokenSize","durationMs","idTokenSize","matsSilentStatus","matsHttpStatus","refreshTokenSize","queuedTimeMs","startTimeMs","status"]),xi=function(n){function t(e,r,o){var i=n.call(this,e,r,o)||this;return i.name="ServerError",Object.setPrototypeOf(i,t.prototype),i}return Bn(t,n),t}(re),wd_missingKidError_code="missing_kid_error",wd_missingKidError_desc="The JOSE Header for the requested JWT, JWS or JWK object requires a keyId to be configured as the 'kid' header claim. No 'kid' value was provided.",wd_missingAlgError_code="missing_alg_error",wd_missingAlgError_desc="The JOSE Header for the requested JWT, JWS or JWK object requires an algorithm to be specified as the 'alg' header claim. No 'alg' value was provided.",xS=function(n){function t(e,r){var o=n.call(this,e,r)||this;return o.name="JoseHeaderError",Object.setPrototypeOf(o,t.prototype),o}return Bn(t,n),t.createMissingKidError=function(){return new t(wd_missingKidError_code,wd_missingKidError_desc)},t.createMissingAlgError=function(){return new t(wd_missingAlgError_code,wd_missingAlgError_desc)},t}(re),LB=function(){function n(t){this.typ=t.typ,this.alg=t.alg,this.kid=t.kid}return n.getShrHeaderString=function(t){if(!t.kid)throw xS.createMissingKidError();if(!t.alg)throw xS.createMissingAlgError();var e=new n({typ:t.typ||Xl.Pop,kid:t.kid,alg:t.alg});return JSON.stringify(e)},n}(),wn=function(){function n(){}return n.decimalToHex=function(t){for(var e=t.toString(16);e.length<2;)e="0"+e;return e},n}(),FS=function(){function n(t){this.cryptoObj=t}return n.prototype.generateGuid=function(){try{var t=new Uint8Array(16);return this.cryptoObj.getRandomValues(t),t[6]|=64,t[6]&=79,t[8]|=128,t[8]&=191,wn.decimalToHex(t[0])+wn.decimalToHex(t[1])+wn.decimalToHex(t[2])+wn.decimalToHex(t[3])+"-"+wn.decimalToHex(t[4])+wn.decimalToHex(t[5])+"-"+wn.decimalToHex(t[6])+wn.decimalToHex(t[7])+"-"+wn.decimalToHex(t[8])+wn.decimalToHex(t[9])+"-"+wn.decimalToHex(t[10])+wn.decimalToHex(t[11])+wn.decimalToHex(t[12])+wn.decimalToHex(t[13])+wn.decimalToHex(t[14])+wn.decimalToHex(t[15])}catch{for(var e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx",r="0123456789abcdef",o=0,i=b.EMPTY_STRING,s=0;s<36;s++)"-"!==e[s]&&"4"!==e[s]&&(o=16*Math.random()|0),"x"===e[s]?i+=r[o]:"y"===e[s]?(o&=3,i+=r[o|=8]):i+=e[s];return i}},n.prototype.isGuid=function(t){return/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(t)},n}(),No=function(){function n(){}return n.stringToUtf8Arr=function(t){for(var e,r=0,o=t.length,i=0;i<o;i++)r+=(e=t.charCodeAt(i))<128?1:e<2048?2:e<65536?3:e<2097152?4:e<67108864?5:6;for(var s=new Uint8Array(r),a=0,c=0;a<r;c++)(e=t.charCodeAt(c))<128?s[a++]=e:e<2048?(s[a++]=192+(e>>>6),s[a++]=128+(63&e)):e<65536?(s[a++]=224+(e>>>12),s[a++]=128+(e>>>6&63),s[a++]=128+(63&e)):e<2097152?(s[a++]=240+(e>>>18),s[a++]=128+(e>>>12&63),s[a++]=128+(e>>>6&63),s[a++]=128+(63&e)):e<67108864?(s[a++]=248+(e>>>24),s[a++]=128+(e>>>18&63),s[a++]=128+(e>>>12&63),s[a++]=128+(e>>>6&63),s[a++]=128+(63&e)):(s[a++]=252+(e>>>30),s[a++]=128+(e>>>24&63),s[a++]=128+(e>>>18&63),s[a++]=128+(e>>>12&63),s[a++]=128+(e>>>6&63),s[a++]=128+(63&e));return s},n.stringToArrayBuffer=function(t){for(var e=new ArrayBuffer(t.length),r=new Uint8Array(e),o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return e},n.utf8ArrToString=function(t){for(var e=b.EMPTY_STRING,r=void 0,o=t.length,i=0;i<o;i++)r=t[i],e+=String.fromCharCode(r>251&&r<254&&i+5<o?1073741824*(r-252)+(t[++i]-128<<24)+(t[++i]-128<<18)+(t[++i]-128<<12)+(t[++i]-128<<6)+t[++i]-128:r>247&&r<252&&i+4<o?(r-248<<24)+(t[++i]-128<<18)+(t[++i]-128<<12)+(t[++i]-128<<6)+t[++i]-128:r>239&&r<248&&i+3<o?(r-240<<18)+(t[++i]-128<<12)+(t[++i]-128<<6)+t[++i]-128:r>223&&r<240&&i+2<o?(r-224<<12)+(t[++i]-128<<6)+t[++i]-128:r>191&&r<224&&i+1<o?(r-192<<6)+t[++i]-128:r);return e},n.getSortedObjectString=function(t){return JSON.stringify(t,Object.keys(t).sort())},n}(),LS=function(){function n(){}return n.prototype.urlEncode=function(t){return encodeURIComponent(this.encode(t).replace(/=/g,b.EMPTY_STRING).replace(/\+/g,"-").replace(/\//g,"_"))},n.prototype.urlEncodeArr=function(t){return this.base64EncArr(t).replace(/=/g,b.EMPTY_STRING).replace(/\+/g,"-").replace(/\//g,"_")},n.prototype.encode=function(t){var e=No.stringToUtf8Arr(t);return this.base64EncArr(e)},n.prototype.base64EncArr=function(t){for(var e=(3-t.length%3)%3,r=b.EMPTY_STRING,o=void 0,i=t.length,s=0,a=0;a<i;a++)s|=t[a]<<(16>>>(o=a%3)&24),(2===o||t.length-a==1)&&(r+=String.fromCharCode(this.uint6ToB64(s>>>18&63),this.uint6ToB64(s>>>12&63),this.uint6ToB64(s>>>6&63),this.uint6ToB64(63&s)),s=0);return 0===e?r:r.substring(0,r.length-e)+(1===e?"=":"==")},n.prototype.uint6ToB64=function(t){return t<26?t+65:t<52?t+71:t<62?t-4:62===t?43:63===t?47:65},n}(),UB=function(){function n(){}return n.prototype.decode=function(t){var e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw new Error("Invalid base64 string")}var r=this.base64DecToArr(e);return No.utf8ArrToString(r)},n.prototype.base64DecToArr=function(t,e){for(var r=t.replace(/[^A-Za-z0-9\+\/]/g,b.EMPTY_STRING),o=r.length,i=e?Math.ceil((3*o+1>>>2)/e)*e:3*o+1>>>2,s=new Uint8Array(i),a=void 0,c=void 0,u=0,l=0,d=0;d<o;d++)if(c=3&d,u|=this.b64ToUint6(r.charCodeAt(d))<<18-6*c,3===c||o-d==1){for(a=0;a<3&&l<i;a++,l++)s[l]=u>>>(16>>>a&24)&255;u=0}return s},n.prototype.b64ToUint6=function(t){return t>64&&t<91?t-65:t>96&&t<123?t-71:t>47&&t<58?t+4:43===t?62:47===t?63:0},n}(),VB=function(){function n(t){this.base64Encode=new LS,this.cryptoObj=t}return n.prototype.generateCodes=function(){return x(this,void 0,void 0,function(){var t,e;return F(this,function(r){switch(r.label){case 0:return t=this.generateCodeVerifier(),[4,this.generateCodeChallengeFromVerifier(t)];case 1:return e=r.sent(),[2,{verifier:t,challenge:e}]}})})},n.prototype.generateCodeVerifier=function(){try{var t=new Uint8Array(32);return this.cryptoObj.getRandomValues(t),this.base64Encode.urlEncodeArr(t)}catch(r){throw $.createPkceNotGeneratedError(r)}},n.prototype.generateCodeChallengeFromVerifier=function(t){return x(this,void 0,void 0,function(){var e,r;return F(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.cryptoObj.sha256Digest(t)];case 1:return e=o.sent(),[2,this.base64Encode.urlEncodeArr(new Uint8Array(e))];case 2:throw r=o.sent(),$.createPkceNotGeneratedError(r);case 3:return[2]}})})},n}(),BB=function(){function n(){}return n.prototype.getRandomValues=function(t){return window.crypto.getRandomValues(t)},n.prototype.generateKey=function(t,e,r){return x(this,void 0,void 0,function(){return F(this,function(o){return[2,window.crypto.subtle.generateKey(t,e,r)]})})},n.prototype.exportKey=function(t){return x(this,void 0,void 0,function(){return F(this,function(e){return[2,window.crypto.subtle.exportKey(Hs,t)]})})},n.prototype.importKey=function(t,e,r,o){return x(this,void 0,void 0,function(){return F(this,function(i){return[2,window.crypto.subtle.importKey(Hs,t,e,r,o)]})})},n.prototype.sign=function(t,e,r){return x(this,void 0,void 0,function(){return F(this,function(o){return[2,window.crypto.subtle.sign(t,e,r)]})})},n.prototype.digest=function(t,e){return x(this,void 0,void 0,function(){return F(this,function(r){return[2,window.crypto.subtle.digest(t,e)]})})},n}(),jB=function(){function n(){}return n.prototype.initPrng=function(t){return window.msrCrypto.initPrng(kg(t))},n.prototype.getRandomValues=function(t){return window.msrCrypto.getRandomValues(t)},n.prototype.generateKey=function(t,e,r){return x(this,void 0,void 0,function(){return F(this,function(o){return[2,window.msrCrypto.subtle.generateKey(t,e,r)]})})},n.prototype.exportKey=function(t){return x(this,void 0,void 0,function(){return F(this,function(e){return[2,window.msrCrypto.subtle.exportKey(Hs,t)]})})},n.prototype.importKey=function(t,e,r,o){return x(this,void 0,void 0,function(){return F(this,function(i){return[2,window.msrCrypto.subtle.importKey(Hs,t,e,r,o)]})})},n.prototype.sign=function(t,e,r){return x(this,void 0,void 0,function(){return F(this,function(o){return[2,window.msrCrypto.subtle.sign(t,e,r)]})})},n.prototype.digest=function(t,e){return x(this,void 0,void 0,function(){return F(this,function(r){return[2,window.msrCrypto.subtle.digest(t,e)]})})},n}(),qB=function(){function n(){}return n.prototype.getRandomValues=function(t){return window.msCrypto.getRandomValues(t)},n.prototype.generateKey=function(t,e,r){return x(this,void 0,void 0,function(){return F(this,function(o){return[2,new Promise(function(i,s){var a=window.msCrypto.subtle.generateKey(t,e,r);a.addEventListener("complete",function(c){i(c.target.result)}),a.addEventListener("error",function(c){s(c)})})]})})},n.prototype.exportKey=function(t){return x(this,void 0,void 0,function(){return F(this,function(e){return[2,new Promise(function(r,o){var i=window.msCrypto.subtle.exportKey(Hs,t);i.addEventListener("complete",function(s){var c=No.utf8ArrToString(new Uint8Array(s.target.result)).replace(/\r/g,b.EMPTY_STRING).replace(/\n/g,b.EMPTY_STRING).replace(/\t/g,b.EMPTY_STRING).split(" ").join(b.EMPTY_STRING).replace("\0",b.EMPTY_STRING);try{r(JSON.parse(c))}catch(u){o(u)}}),i.addEventListener("error",function(s){o(s)})})]})})},n.prototype.importKey=function(t,e,r,o){return x(this,void 0,void 0,function(){var i,s;return F(this,function(a){return i=No.getSortedObjectString(t),s=No.stringToArrayBuffer(i),[2,new Promise(function(c,u){var l=window.msCrypto.subtle.importKey(Hs,s,e,r,o);l.addEventListener("complete",function(d){c(d.target.result)}),l.addEventListener("error",function(d){u(d)})})]})})},n.prototype.sign=function(t,e,r){return x(this,void 0,void 0,function(){return F(this,function(o){return[2,new Promise(function(i,s){var a=window.msCrypto.subtle.sign(t,e,r);a.addEventListener("complete",function(c){i(c.target.result)}),a.addEventListener("error",function(c){s(c)})})]})})},n.prototype.digest=function(t,e){return x(this,void 0,void 0,function(){return F(this,function(r){return[2,new Promise(function(o,i){var s=window.msCrypto.subtle.digest(t,e.buffer);s.addEventListener("complete",function(a){o(a.target.result)}),s.addEventListener("error",function(a){i(a)})})]})})},n}(),US="SHA-256",zB=new Uint8Array([1,0,1]),HS=function(){function n(t,e){var r,o;if(this.logger=t,this.cryptoOptions=e,this.hasBrowserCrypto())this.logger.verbose("BrowserCrypto: modern crypto interface available"),this.subtleCrypto=new BB;else if(this.hasIECrypto())this.logger.verbose("BrowserCrypto: MS crypto interface available"),this.subtleCrypto=new qB;else{if(!this.hasMsrCrypto()||!(null===(r=this.cryptoOptions)||void 0===r?void 0:r.useMsrCrypto))throw this.hasMsrCrypto()&&this.logger.info("BrowserCrypto: MSR Crypto interface available but system.cryptoOptions.useMsrCrypto not enabled"),this.logger.error("BrowserCrypto: No crypto interfaces available."),$.createCryptoNotAvailableError("Browser crypto, msCrypto, or msrCrypto interfaces not available.");this.logger.verbose("BrowserCrypto: MSR crypto interface available"),this.subtleCrypto=new jB}if(this.subtleCrypto.initPrng){if(this.logger.verbose("BrowserCrypto: Interface requires entropy"),null===(o=this.cryptoOptions)||void 0===o||!o.entropy)throw this.logger.error("BrowserCrypto: Interface requires entropy but none provided."),Vs.createEntropyNotProvided();this.logger.verbose("BrowserCrypto: Entropy provided"),this.subtleCrypto.initPrng(this.cryptoOptions.entropy)}this.keygenAlgorithmOptions={name:"RSASSA-PKCS1-v1_5",hash:US,modulusLength:2048,publicExponent:zB}}return n.prototype.hasIECrypto=function(){return"msCrypto"in window},n.prototype.hasBrowserCrypto=function(){return"crypto"in window},n.prototype.hasMsrCrypto=function(){return"msrCrypto"in window},n.prototype.sha256Digest=function(t){return x(this,void 0,void 0,function(){var e;return F(this,function(r){return e=No.stringToUtf8Arr(t),[2,this.subtleCrypto.digest({name:US},e)]})})},n.prototype.getRandomValues=function(t){return this.subtleCrypto.getRandomValues(t)},n.prototype.generateKeyPair=function(t,e){return x(this,void 0,void 0,function(){return F(this,function(r){return[2,this.subtleCrypto.generateKey(this.keygenAlgorithmOptions,t,e)]})})},n.prototype.exportJwk=function(t){return x(this,void 0,void 0,function(){return F(this,function(e){return[2,this.subtleCrypto.exportKey(t)]})})},n.prototype.importJwk=function(t,e,r){return x(this,void 0,void 0,function(){return F(this,function(o){return[2,this.subtleCrypto.importKey(t,this.keygenAlgorithmOptions,e,r)]})})},n.prototype.sign=function(t,e){return x(this,void 0,void 0,function(){return F(this,function(r){return[2,this.subtleCrypto.sign(this.keygenAlgorithmOptions,t,e)]})})},n}(),WB=function(){function n(){this.dbName=Mg,this.version=1,this.tableName="msal.db.keys",this.dbOpen=!1}return n.prototype.open=function(){return x(this,void 0,void 0,function(){var t=this;return F(this,function(e){return[2,new Promise(function(r,o){var i=window.indexedDB.open(t.dbName,t.version);i.addEventListener("upgradeneeded",function(s){s.target.result.createObjectStore(t.tableName)}),i.addEventListener("success",function(s){t.db=s.target.result,t.dbOpen=!0,r()}),i.addEventListener("error",function(){return o($.createDatabaseUnavailableError())})})]})})},n.prototype.closeConnection=function(){var t=this.db;t&&this.dbOpen&&(t.close(),this.dbOpen=!1)},n.prototype.validateDbIsOpen=function(){return x(this,void 0,void 0,function(){return F(this,function(t){switch(t.label){case 0:return this.dbOpen?[3,2]:[4,this.open()];case 1:return[2,t.sent()];case 2:return[2]}})})},n.prototype.getItem=function(t){return x(this,void 0,void 0,function(){var e=this;return F(this,function(r){switch(r.label){case 0:return[4,this.validateDbIsOpen()];case 1:return r.sent(),[2,new Promise(function(o,i){if(!e.db)return i($.createDatabaseNotOpenError());var c=e.db.transaction([e.tableName],"readonly").objectStore(e.tableName).get(t);c.addEventListener("success",function(u){var l=u;e.closeConnection(),o(l.target.result)}),c.addEventListener("error",function(u){e.closeConnection(),i(u)})})]}})})},n.prototype.setItem=function(t,e){return x(this,void 0,void 0,function(){var r=this;return F(this,function(o){switch(o.label){case 0:return[4,this.validateDbIsOpen()];case 1:return o.sent(),[2,new Promise(function(i,s){if(!r.db)return s($.createDatabaseNotOpenError());var u=r.db.transaction([r.tableName],"readwrite").objectStore(r.tableName).put(e,t);u.addEventListener("success",function(){r.closeConnection(),i()}),u.addEventListener("error",function(l){r.closeConnection(),s(l)})})]}})})},n.prototype.removeItem=function(t){return x(this,void 0,void 0,function(){var e=this;return F(this,function(r){switch(r.label){case 0:return[4,this.validateDbIsOpen()];case 1:return r.sent(),[2,new Promise(function(o,i){if(!e.db)return i($.createDatabaseNotOpenError());var c=e.db.transaction([e.tableName],"readwrite").objectStore(e.tableName).delete(t);c.addEventListener("success",function(){e.closeConnection(),o()}),c.addEventListener("error",function(u){e.closeConnection(),i(u)})})]}})})},n.prototype.getKeys=function(){return x(this,void 0,void 0,function(){var t=this;return F(this,function(e){switch(e.label){case 0:return[4,this.validateDbIsOpen()];case 1:return e.sent(),[2,new Promise(function(r,o){if(!t.db)return o($.createDatabaseNotOpenError());var a=t.db.transaction([t.tableName],"readonly").objectStore(t.tableName).getAllKeys();a.addEventListener("success",function(c){var u=c;t.closeConnection(),r(u.target.result)}),a.addEventListener("error",function(c){t.closeConnection(),o(c)})})]}})})},n.prototype.containsKey=function(t){return x(this,void 0,void 0,function(){var e=this;return F(this,function(r){switch(r.label){case 0:return[4,this.validateDbIsOpen()];case 1:return r.sent(),[2,new Promise(function(o,i){if(!e.db)return i($.createDatabaseNotOpenError());var c=e.db.transaction([e.tableName],"readonly").objectStore(e.tableName).count(t);c.addEventListener("success",function(u){var l=u;e.closeConnection(),o(1===l.target.result)}),c.addEventListener("error",function(u){e.closeConnection(),i(u)})})]}})})},n.prototype.deleteDatabase=function(){return x(this,void 0,void 0,function(){return F(this,function(t){return this.db&&this.dbOpen&&this.closeConnection(),[2,new Promise(function(e,r){var o=window.indexedDB.deleteDatabase(Mg);o.addEventListener("success",function(){return e(!0)}),o.addEventListener("blocked",function(){return e(!0)}),o.addEventListener("error",function(){return r(!1)})})]})})},n}(),lm=function(){function n(){this.cache=new Map}return n.prototype.getItem=function(t){return this.cache.get(t)||null},n.prototype.setItem=function(t,e){this.cache.set(t,e)},n.prototype.removeItem=function(t){this.cache.delete(t)},n.prototype.getKeys=function(){var t=[];return this.cache.forEach(function(e,r){t.push(r)}),t},n.prototype.containsKey=function(t){return this.cache.has(t)},n.prototype.clear=function(){this.cache.clear()},n}(),VS=function(){function n(t,e){this.inMemoryCache=new lm,this.indexedDBCache=new WB,this.logger=t,this.storeName=e}return n.prototype.handleDatabaseAccessError=function(t){if(!(t instanceof $&&t.errorCode===U_databaseUnavailable_code))throw t;this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.")},n.prototype.getItem=function(t){return x(this,void 0,void 0,function(){var e,r;return F(this,function(o){switch(o.label){case 0:if(e=this.inMemoryCache.getItem(t))return[3,4];o.label=1;case 1:return o.trys.push([1,3,,4]),this.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),[4,this.indexedDBCache.getItem(t)];case 2:return[2,o.sent()];case 3:return r=o.sent(),this.handleDatabaseAccessError(r),[3,4];case 4:return[2,e]}})})},n.prototype.setItem=function(t,e){return x(this,void 0,void 0,function(){var r;return F(this,function(o){switch(o.label){case 0:this.inMemoryCache.setItem(t,e),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.indexedDBCache.setItem(t,e)];case 2:return o.sent(),[3,4];case 3:return r=o.sent(),this.handleDatabaseAccessError(r),[3,4];case 4:return[2]}})})},n.prototype.removeItem=function(t){return x(this,void 0,void 0,function(){var e;return F(this,function(r){switch(r.label){case 0:this.inMemoryCache.removeItem(t),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.indexedDBCache.removeItem(t)];case 2:return r.sent(),[3,4];case 3:return e=r.sent(),this.handleDatabaseAccessError(e),[3,4];case 4:return[2]}})})},n.prototype.getKeys=function(){return x(this,void 0,void 0,function(){var t,e;return F(this,function(r){switch(r.label){case 0:if(0!==(t=this.inMemoryCache.getKeys()).length)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),this.logger.verbose("In-memory cache is empty, now querying persistent storage."),[4,this.indexedDBCache.getKeys()];case 2:return[2,r.sent()];case 3:return e=r.sent(),this.handleDatabaseAccessError(e),[3,4];case 4:return[2,t]}})})},n.prototype.containsKey=function(t){return x(this,void 0,void 0,function(){var e,r;return F(this,function(o){switch(o.label){case 0:if(e=this.inMemoryCache.containsKey(t))return[3,4];o.label=1;case 1:return o.trys.push([1,3,,4]),this.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),[4,this.indexedDBCache.containsKey(t)];case 2:return[2,o.sent()];case 3:return r=o.sent(),this.handleDatabaseAccessError(r),[3,4];case 4:return[2,e]}})})},n.prototype.clearInMemory=function(){this.logger.verbose("Deleting in-memory keystore "+this.storeName),this.inMemoryCache.clear(),this.logger.verbose("In-memory keystore "+this.storeName+" deleted")},n.prototype.clearPersistent=function(){return x(this,void 0,void 0,function(){var t,e;return F(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),this.logger.verbose("Deleting persistent keystore"),[4,this.indexedDBCache.deleteDatabase()];case 1:return(t=r.sent())&&this.logger.verbose("Persistent keystore deleted"),[2,t];case 2:return e=r.sent(),this.handleDatabaseAccessError(e),[2,!1];case 3:return[2]}})})},n}(),Hc=(()=>{return(n=Hc||(Hc={})).asymmetricKeys="asymmetricKeys",n.symmetricKeys="symmetricKeys",Hc;var n})(),KB=function(){function n(t){this.logger=t,this.asymmetricKeys=new VS(this.logger,Hc.asymmetricKeys),this.symmetricKeys=new VS(this.logger,Hc.symmetricKeys)}return n.prototype.clear=function(){return x(this,void 0,void 0,function(){var t;return F(this,function(e){switch(e.label){case 0:this.asymmetricKeys.clearInMemory(),this.symmetricKeys.clearInMemory(),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.asymmetricKeys.clearPersistent()];case 2:return e.sent(),[2,!0];case 3:return(t=e.sent())instanceof Error?this.logger.error("Clearing keystore failed with error: "+t.message):this.logger.error("Clearing keystore failed with unknown error"),[2,!1];case 4:return[2]}})})},n}(),QB=function(){function n(t,e,r){this.logger=t,this.browserCrypto=new HS(this.logger,r),this.b64Encode=new LS,this.b64Decode=new UB,this.guidGenerator=new FS(this.browserCrypto),this.pkceGenerator=new VB(this.browserCrypto),this.cache=new KB(this.logger),this.performanceClient=e}return n.prototype.createNewGuid=function(){return this.guidGenerator.generateGuid()},n.prototype.base64Encode=function(t){return this.b64Encode.encode(t)},n.prototype.base64Decode=function(t){return this.b64Decode.decode(t)},n.prototype.generatePkceCodes=function(){return x(this,void 0,void 0,function(){return F(this,function(t){return[2,this.pkceGenerator.generateCodes()]})})},n.prototype.getPublicKeyThumbprint=function(t){var e;return x(this,void 0,void 0,function(){var r,o,i,a,c,u,l;return F(this,function(d){switch(d.label){case 0:return r=null===(e=this.performanceClient)||void 0===e?void 0:e.startMeasurement(k.CryptoOptsGetPublicKeyThumbprint,t.correlationId),[4,this.browserCrypto.generateKeyPair(n.EXTRACTABLE,n.POP_KEY_USAGES)];case 1:return o=d.sent(),[4,this.browserCrypto.exportJwk(o.publicKey)];case 2:return i=d.sent(),a=No.getSortedObjectString({e:i.e,kty:i.kty,n:i.n}),[4,this.hashString(a)];case 3:return c=d.sent(),[4,this.browserCrypto.exportJwk(o.privateKey)];case 4:return u=d.sent(),[4,this.browserCrypto.importJwk(u,!1,["sign"])];case 5:return l=d.sent(),[4,this.cache.asymmetricKeys.setItem(c,{privateKey:l,publicKey:o.publicKey,requestMethod:t.resourceRequestMethod,requestUri:t.resourceRequestUri})];case 6:return d.sent(),r&&r.endMeasurement({success:!0}),[2,c]}})})},n.prototype.removeTokenBindingKey=function(t){return x(this,void 0,void 0,function(){return F(this,function(r){switch(r.label){case 0:return[4,this.cache.asymmetricKeys.removeItem(t)];case 1:return r.sent(),[4,this.cache.asymmetricKeys.containsKey(t)];case 2:return[2,!r.sent()]}})})},n.prototype.clearKeystore=function(){return x(this,void 0,void 0,function(){return F(this,function(t){switch(t.label){case 0:return[4,this.cache.clear()];case 1:return[2,t.sent()]}})})},n.prototype.signJwt=function(t,e,r){var o;return x(this,void 0,void 0,function(){var i,s,a,c,u,l,d,h,g,m,E,S,T;return F(this,function(N){switch(N.label){case 0:return i=null===(o=this.performanceClient)||void 0===o?void 0:o.startMeasurement(k.CryptoOptsSignJwt,r),[4,this.cache.asymmetricKeys.getItem(e)];case 1:if(!(s=N.sent()))throw $.createSigningKeyNotFoundInStorageError(e);return[4,this.browserCrypto.exportJwk(s.publicKey)];case 2:return a=N.sent(),c=No.getSortedObjectString(a),u=this.b64Encode.urlEncode(JSON.stringify({kid:e})),l=LB.getShrHeaderString({kid:u,alg:a.alg}),d=this.b64Encode.urlEncode(l),t.cnf={jwk:JSON.parse(c)},h=this.b64Encode.urlEncode(JSON.stringify(t)),m=No.stringToArrayBuffer(g=d+"."+h),[4,this.browserCrypto.sign(s.privateKey,m)];case 3:return E=N.sent(),S=this.b64Encode.urlEncodeArr(new Uint8Array(E)),T=g+"."+S,i&&i.endMeasurement({success:!0}),[2,T]}})})},n.prototype.hashString=function(t){return x(this,void 0,void 0,function(){var e,r;return F(this,function(o){switch(o.label){case 0:return[4,this.browserCrypto.sha256Digest(t)];case 1:return e=o.sent(),r=new Uint8Array(e),[2,this.b64Encode.urlEncodeArr(r)]}})})},n.POP_KEY_USAGES=["sign","verify"],n.EXTRACTABLE=!0,n}(),BS=function(){function n(t,e,r,o,i,s){this.authority=e,this.libraryName=o,this.libraryVersion=i,this.applicationTelemetry=s,this.clientId=t,this.logger=r,this.callbacks=new Map,this.eventsByCorrelationId=new Map,this.queueMeasurements=new Map,this.preQueueTimeByCorrelationId=new Map}return n.prototype.startPerformanceMeasurement=function(t,e){return{}},n.prototype.startPerformanceMeasuremeant=function(t,e){return{}},n.prototype.getIntFields=function(){return FB},n.prototype.getPreQueueTime=function(t,e){var r=this.preQueueTimeByCorrelationId.get(e);if(r){if(r.name===t)return r.time;this.logger.trace("PerformanceClient.getPreQueueTime: no pre-queue time found for "+t+", unable to add queue measurement")}else this.logger.trace("PerformanceClient.getPreQueueTime: no pre-queue times found for correlationId: "+e+", unable to add queue measurement")},n.prototype.calculateQueuedTime=function(t,e){return t<1?(this.logger.trace("PerformanceClient: preQueueTime should be a positive integer and not "+t),0):e<1?(this.logger.trace("PerformanceClient: currentTime should be a positive integer and not "+e),0):e<t?(this.logger.trace("PerformanceClient: currentTime is less than preQueueTime, check how time is being retrieved"),0):e-t},n.prototype.addQueueMeasurement=function(t,e,r,o){if(e){if(0===r)this.logger.trace("PerformanceClient.addQueueMeasurement: queue time provided for "+t+" is "+r);else if(!r)return void this.logger.trace("PerformanceClient.addQueueMeasurement: no queue time provided for "+t);var i={eventName:t,queueTime:r,manuallyCompleted:o},s=this.queueMeasurements.get(e);s?(s.push(i),this.queueMeasurements.set(e,s)):(this.logger.trace("PerformanceClient.addQueueMeasurement: adding correlationId "+e+" to queue measurements"),this.queueMeasurements.set(e,[i])),this.preQueueTimeByCorrelationId.delete(e)}else this.logger.trace("PerformanceClient.addQueueMeasurement: correlationId not provided for "+t+", cannot add queue measurement")},n.prototype.startMeasurement=function(t,e){var o,i,r=this,s=e||this.generateId();e||this.logger.info("PerformanceClient: No correlation id provided for "+t+", generating",s),this.logger.trace("PerformanceClient: Performance measurement started for "+t,s);var a=this.startPerformanceMeasuremeant(t,s);a.startMeasurement();var c={eventId:this.generateId(),status:Uc.InProgress,authority:this.authority,libraryName:this.libraryName,libraryVersion:this.libraryVersion,clientId:this.clientId,name:t,startTimeMs:Date.now(),correlationId:s,appName:null===(o=this.applicationTelemetry)||void 0===o?void 0:o.appName,appVersion:null===(i=this.applicationTelemetry)||void 0===i?void 0:i.appVersion};return this.cacheEventByCorrelationId(c),{endMeasurement:function(u){return r.endMeasurement(Ke(Ke({},c),u),a)},discardMeasurement:function(){return r.discardMeasurements(c.correlationId)},addStaticFields:function(u){return r.addStaticFields(u,c.correlationId)},increment:function(u){return r.increment(u,c.correlationId)},measurement:a,event:c}},n.prototype.endMeasurement=function(t,e){var o,i,r=this,s=this.eventsByCorrelationId.get(t.correlationId);if(!s)return this.logger.trace("PerformanceClient: Measurement not found for "+t.eventId,t.correlationId),null;var a=t.eventId===s.eventId,c={totalQueueTime:0,totalQueueCount:0,manuallyCompletedCount:0};a?(c=this.getQueueInfo(t.correlationId),this.discardCache(s.correlationId)):null===(o=s.incompleteSubMeasurements)||void 0===o||o.delete(t.eventId),e?.endMeasurement();var u=e?.flushMeasurement();if(!u)return this.logger.trace("PerformanceClient: Performance measurement not taken",s.correlationId),null;if(this.logger.trace("PerformanceClient: Performance measurement ended for "+t.name+": "+u+" ms",t.correlationId),!a)return s[t.name+"DurationMs"]=Math.floor(u),Ke({},s);var l=Ke(Ke({},s),t),d=0;return null===(i=l.incompleteSubMeasurements)||void 0===i||i.forEach(function(h){r.logger.trace("PerformanceClient: Incomplete submeasurement "+h.name+" found for "+t.name,l.correlationId),d++}),l.incompleteSubMeasurements=void 0,l=Ke(Ke({},l),{durationMs:Math.round(u),queuedTimeMs:c.totalQueueTime,queuedCount:c.totalQueueCount,queuedManuallyCompletedCount:c.manuallyCompletedCount,status:Uc.Completed,incompleteSubsCount:d}),this.truncateIntegralFields(l,this.getIntFields()),this.emitEvents([l],t.correlationId),l},n.prototype.addStaticFields=function(t,e){this.logger.trace("PerformanceClient: Updating static fields");var r=this.eventsByCorrelationId.get(e);r?this.eventsByCorrelationId.set(e,Ke(Ke({},r),t)):this.logger.trace("PerformanceClient: Event not found for",e)},n.prototype.increment=function(t,e){this.logger.trace("PerformanceClient: Updating counters");var r=this.eventsByCorrelationId.get(e);if(r)for(var o in t)r.hasOwnProperty(o)||(r[o]=0),r[o]+=t[o];else this.logger.trace("PerformanceClient: Event not found for",e)},n.prototype.cacheEventByCorrelationId=function(t){var e=this.eventsByCorrelationId.get(t.correlationId);e?(this.logger.trace("PerformanceClient: Performance measurement for "+t.name+" added/updated",t.correlationId),e.incompleteSubMeasurements=e.incompleteSubMeasurements||new Map,e.incompleteSubMeasurements.set(t.eventId,{name:t.name,startTimeMs:t.startTimeMs})):(this.logger.trace("PerformanceClient: Performance measurement for "+t.name+" started",t.correlationId),this.eventsByCorrelationId.set(t.correlationId,Ke({},t)))},n.prototype.getQueueInfo=function(t){var e=this.queueMeasurements.get(t);e||this.logger.trace("PerformanceClient: no queue measurements found for for correlationId: "+t);var r=0,o=0,i=0;return e?.forEach(function(s){r+=s.queueTime,o++,i+=s.manuallyCompleted?1:0}),{totalQueueTime:r,totalQueueCount:o,manuallyCompletedCount:i}},n.prototype.discardMeasurements=function(t){this.logger.trace("PerformanceClient: Performance measurements discarded",t),this.eventsByCorrelationId.delete(t)},n.prototype.discardCache=function(t){this.discardMeasurements(t),this.logger.trace("PerformanceClient: QueueMeasurements discarded",t),this.queueMeasurements.delete(t),this.logger.trace("PerformanceClient: Pre-queue times discarded",t),this.preQueueTimeByCorrelationId.delete(t)},n.prototype.addPerformanceCallback=function(t){var e=this.generateId();return this.callbacks.set(e,t),this.logger.verbose("PerformanceClient: Performance callback registered with id: "+e),e},n.prototype.removePerformanceCallback=function(t){var e=this.callbacks.delete(t);return this.logger.verbose(e?"PerformanceClient: Performance callback "+t+" removed.":"PerformanceClient: Performance callback "+t+" not removed."),e},n.prototype.emitEvents=function(t,e){var r=this;this.logger.verbose("PerformanceClient: Emitting performance events",e),this.callbacks.forEach(function(o,i){r.logger.trace("PerformanceClient: Emitting event to callback "+i,e),o.apply(null,[t])})},n.prototype.truncateIntegralFields=function(t,e){e.forEach(function(r){r in t&&"number"==typeof t[r]&&(t[r]=Math.floor(t[r]))})},n}(),jS=function(){function n(){}return n.prototype.startMeasurement=function(){},n.prototype.endMeasurement=function(){},n.prototype.flushMeasurement=function(){return null},n}(),YB=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Bn(t,n),t.prototype.generateId=function(){return"callback-id"},t.prototype.startPerformanceMeasuremeant=function(){return new jS},t.prototype.startPerformanceMeasurement=function(){return new jS},t.prototype.calculateQueuedTime=function(e,r){return 0},t.prototype.addQueueMeasurement=function(e,r,o){},t.prototype.setPreQueueTime=function(e,r){},t}(BS),Ed={createNewGuid:function(){throw re.createUnexpectedError("Crypto interface - createNewGuid() has not been implemented")},base64Decode:function(){throw re.createUnexpectedError("Crypto interface - base64Decode() has not been implemented")},base64Encode:function(){throw re.createUnexpectedError("Crypto interface - base64Encode() has not been implemented")},generatePkceCodes:function(){return fe(this,void 0,void 0,function(){return pe(this,function(t){throw re.createUnexpectedError("Crypto interface - generatePkceCodes() has not been implemented")})})},getPublicKeyThumbprint:function(){return fe(this,void 0,void 0,function(){return pe(this,function(t){throw re.createUnexpectedError("Crypto interface - getPublicKeyThumbprint() has not been implemented")})})},removeTokenBindingKey:function(){return fe(this,void 0,void 0,function(){return pe(this,function(t){throw re.createUnexpectedError("Crypto interface - removeTokenBindingKey() has not been implemented")})})},clearKeystore:function(){return fe(this,void 0,void 0,function(){return pe(this,function(t){throw re.createUnexpectedError("Crypto interface - clearKeystore() has not been implemented")})})},signJwt:function(){return fe(this,void 0,void 0,function(){return pe(this,function(t){throw re.createUnexpectedError("Crypto interface - signJwt() has not been implemented")})})},hashString:function(){return fe(this,void 0,void 0,function(){return pe(this,function(t){throw re.createUnexpectedError("Crypto interface - hashString() has not been implemented")})})}};function bd(n,t){if(z.isEmpty(n))throw Y.createClientInfoEmptyError();try{var e=t.base64Decode(n);return JSON.parse(e)}catch(r){throw Y.createClientInfoDecodingError(r.message)}}function Gs(n){if(z.isEmpty(n))throw Y.createClientInfoDecodingError("Home account ID was empty.");var t=n.split(Nn.CLIENT_INFO_SEPARATOR,2);return{uid:t[0],utid:t.length<2?b.EMPTY_STRING:t[1]}}var sr=(()=>{return(n=sr||(sr={}))[n.Default=0]="Default",n[n.Adfs=1]="Adfs",n[n.Dsts=2]="Dsts",sr;var n})(),rn=function(){function n(){}return n.prototype.generateAccountId=function(){return[this.homeAccountId,this.environment].join(Nn.CACHE_KEY_SEPARATOR).toLowerCase()},n.prototype.generateAccountKey=function(){return n.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})},n.prototype.generateType=function(){switch(this.authorityType){case ro.ADFS_ACCOUNT_TYPE:return oo.ADFS;case ro.MSAV1_ACCOUNT_TYPE:return oo.MSA;case ro.MSSTS_ACCOUNT_TYPE:return oo.MSSTS;case ro.GENERIC_ACCOUNT_TYPE:return oo.GENERIC;default:throw Y.createUnexpectedAccountTypeError()}},n.prototype.getAccountInfo=function(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,idTokenClaims:this.idTokenClaims,nativeAccountId:this.nativeAccountId}},n.generateAccountCacheKey=function(t){return[t.homeAccountId,t.environment||b.EMPTY_STRING,t.tenantId||b.EMPTY_STRING].join(Nn.CACHE_KEY_SEPARATOR).toLowerCase()},n.createAccount=function(t,e,r,o,i,s,a,c){var u,l,d,h,g,m,E=new n;E.authorityType=ro.MSSTS_ACCOUNT_TYPE,E.clientInfo=t,E.homeAccountId=e,E.nativeAccountId=c;var S=a||o&&o.getPreferredCache();if(!S)throw Y.createInvalidCacheEnvironmentError();if(E.environment=S,E.realm=(null===(u=r?.claims)||void 0===u?void 0:u.tid)||b.EMPTY_STRING,r){E.idTokenClaims=r.claims,E.localAccountId=(null===(l=r?.claims)||void 0===l?void 0:l.oid)||(null===(d=r?.claims)||void 0===d?void 0:d.sub)||b.EMPTY_STRING;var T=null===(h=r?.claims)||void 0===h?void 0:h.preferred_username,N=null!==(g=r?.claims)&&void 0!==g&&g.emails?r.claims.emails[0]:null;E.username=T||N||b.EMPTY_STRING,E.name=null===(m=r?.claims)||void 0===m?void 0:m.name}return E.cloudGraphHostName=i,E.msGraphHost=s,E},n.createGenericAccount=function(t,e,r,o,i,s){var a,c,u,l,d=new n;d.authorityType=r&&r.authorityType===sr.Adfs?ro.ADFS_ACCOUNT_TYPE:ro.GENERIC_ACCOUNT_TYPE,d.homeAccountId=t,d.realm=b.EMPTY_STRING;var h=s||r&&r.getPreferredCache();if(!h)throw Y.createInvalidCacheEnvironmentError();return e&&(d.localAccountId=(null===(a=e?.claims)||void 0===a?void 0:a.oid)||(null===(c=e?.claims)||void 0===c?void 0:c.sub)||b.EMPTY_STRING,d.username=(null===(u=e?.claims)||void 0===u?void 0:u.upn)||b.EMPTY_STRING,d.name=(null===(l=e?.claims)||void 0===l?void 0:l.name)||b.EMPTY_STRING,d.idTokenClaims=e?.claims),d.environment=h,d.cloudGraphHostName=o,d.msGraphHost=i,d},n.generateHomeAccountId=function(t,e,r,o,i){var s,a=null!==(s=i?.claims)&&void 0!==s&&s.sub?i.claims.sub:b.EMPTY_STRING;if(e===sr.Adfs||e===sr.Dsts)return a;if(t)try{var c=bd(t,o);if(!z.isEmpty(c.uid)&&!z.isEmpty(c.utid))return""+c.uid+Nn.CLIENT_INFO_SEPARATOR+c.utid}catch{}return r.verbose("No client info in response"),a},n.isAccountEntity=function(t){return!!t&&t.hasOwnProperty("homeAccountId")&&t.hasOwnProperty("environment")&&t.hasOwnProperty("realm")&&t.hasOwnProperty("localAccountId")&&t.hasOwnProperty("username")&&t.hasOwnProperty("authorityType")},n.accountInfoIsEqual=function(t,e,r){if(!t||!e)return!1;var o=!0;if(r){var i=t.idTokenClaims||{},s=e.idTokenClaims||{};o=i.iat===s.iat&&i.nonce===s.nonce}return t.homeAccountId===e.homeAccountId&&t.localAccountId===e.localAccountId&&t.username===e.username&&t.tenantId===e.tenantId&&t.environment===e.environment&&t.nativeAccountId===e.nativeAccountId&&o},n}(),$s=function(){function n(){}return n._initRegex=function(){var t=Nn.CACHE_KEY_SEPARATOR;n.credentialRegexMap=new Map;for(var e=0,r=Object.keys(Ie);e<r.length;e++){var o=r[e],i=Ie[o].toLowerCase();try{n.credentialRegexMap.set(Ie[o],new RegExp("(?<="+t+n.credentialDomainRegex+")"+t+i+t))}catch{n.credentialRegexMap.set(Ie[o],new RegExp(""+t+n.credentialDomainRegex+t+i+t))}}},n.prototype.generateAccountId=function(){return n.generateAccountIdForCacheKey(this.homeAccountId,this.environment)},n.prototype.generateCredentialId=function(){return n.generateCredentialIdForCacheKey(this.credentialType,this.clientId,this.realm,this.familyId)},n.prototype.generateTarget=function(){return n.generateTargetForCacheKey(this.target)},n.prototype.generateCredentialKey=function(){return n.generateCredentialCacheKey(this.homeAccountId,this.environment,this.credentialType,this.clientId,this.realm,this.target,this.familyId,this.tokenType,this.requestedClaimsHash)},n.prototype.generateType=function(){switch(this.credentialType){case Ie.ID_TOKEN:return oo.ID_TOKEN;case Ie.ACCESS_TOKEN:case Ie.ACCESS_TOKEN_WITH_AUTH_SCHEME:return oo.ACCESS_TOKEN;case Ie.REFRESH_TOKEN:return oo.REFRESH_TOKEN;default:throw Y.createUnexpectedCredentialTypeError()}},n.getCredentialType=function(t){for(var e,r=0,o=Object.keys(Ie);r<o.length;r++){var i=o[r];if(null!==(e=this.credentialRegexMap.get(Ie[i]))&&void 0!==e&&e.test(t.toLowerCase()))return Ie[i]}return b.NOT_DEFINED},n.generateCredentialCacheKey=function(t,e,r,o,i,s,a,c,u){return[this.generateAccountIdForCacheKey(t,e),this.generateCredentialIdForCacheKey(r,o,i,a),this.generateTargetForCacheKey(s),this.generateClaimsHashForCacheKey(u),this.generateSchemeForCacheKey(c)].join(Nn.CACHE_KEY_SEPARATOR).toLowerCase()},n.generateAccountIdForCacheKey=function(t,e){return[t,e].join(Nn.CACHE_KEY_SEPARATOR).toLowerCase()},n.generateCredentialIdForCacheKey=function(t,e,r,o){return[t,t===Ie.REFRESH_TOKEN&&o||e,r||b.EMPTY_STRING].join(Nn.CACHE_KEY_SEPARATOR).toLowerCase()},n.generateTargetForCacheKey=function(t){return(t||b.EMPTY_STRING).toLowerCase()},n.generateClaimsHashForCacheKey=function(t){return(t||b.EMPTY_STRING).toLowerCase()},n.generateSchemeForCacheKey=function(t){return t&&t.toLowerCase()!==je.BEARER.toLowerCase()?t.toLowerCase():b.EMPTY_STRING},n.credentialDomainRegex="(https?:\\/\\/)?((([\\w-]+\\.)*([\\w-]{1,63})(\\.(\\w{2,63})))|(localhost))(\\:[0-9]{4,5})?(\\/[\\w-]+)?",n}();$s._initRegex();var on=function(){function n(t){var e=this,r=t?z.trimArrayEntries(Yl(t)):[],o=r?z.removeEmptyStringsFromArray(r):[];this.validateInputScopes(o),this.scopes=new Set,o.forEach(function(i){return e.scopes.add(i)})}return n.fromString=function(t){return new n((t||b.EMPTY_STRING).split(" "))},n.prototype.validateInputScopes=function(t){if(!t||t.length<1)throw ut.createEmptyScopesArrayError()},n.prototype.containsScope=function(t){var r=new n(this.printScopesLowerCase().split(" "));return!z.isEmpty(t)&&r.scopes.has(t.toLowerCase())},n.prototype.containsScopeSet=function(t){var e=this;return!(!t||t.scopes.size<=0)&&this.scopes.size>=t.scopes.size&&t.asArray().every(function(r){return e.containsScope(r)})},n.prototype.containsOnlyOIDCScopes=function(){var t=this,e=0;return j0.forEach(function(r){t.containsScope(r)&&(e+=1)}),this.scopes.size===e},n.prototype.appendScope=function(t){z.isEmpty(t)||this.scopes.add(t.trim())},n.prototype.appendScopes=function(t){var e=this;try{t.forEach(function(r){return e.appendScope(r)})}catch(r){throw Y.createAppendScopeSetError(r)}},n.prototype.removeScope=function(t){if(z.isEmpty(t))throw Y.createRemoveEmptyScopeFromSetError(t);this.scopes.delete(t.trim())},n.prototype.removeOIDCScopes=function(){var t=this;j0.forEach(function(e){t.scopes.delete(e)})},n.prototype.unionScopeSets=function(t){if(!t)throw Y.createEmptyInputScopeSetError();var e=new Set;return t.scopes.forEach(function(r){return e.add(r.toLowerCase())}),this.scopes.forEach(function(r){return e.add(r.toLowerCase())}),e},n.prototype.intersectingScopeSets=function(t){if(!t)throw Y.createEmptyInputScopeSetError();t.containsOnlyOIDCScopes()||t.removeOIDCScopes();var e=this.unionScopeSets(t),r=t.getScopeCount(),o=this.getScopeCount();return e.size<o+r},n.prototype.getScopeCount=function(){return this.scopes.size},n.prototype.asArray=function(){var t=[];return this.scopes.forEach(function(e){return t.push(e)}),t},n.prototype.printScopes=function(){return this.scopes?this.asArray().join(" "):b.EMPTY_STRING},n.prototype.printScopesLowerCase=function(){return this.printScopes().toLowerCase()},n}(),co=function(){function n(t,e){if(z.isEmpty(t))throw Y.createTokenNullOrEmptyError(t);this.rawToken=t,this.claims=n.extractTokenClaims(t,e)}return n.extractTokenClaims=function(t,e){var r=z.decodeAuthToken(t);try{var i=e.base64Decode(r.JWSPayload);return JSON.parse(i)}catch(s){throw Y.createTokenParsingError(s)}},n.checkMaxAge=function(t,e){if(0===e||Date.now()-3e5>t+e)throw Y.createMaxAgeTranspiredError()},n}(),Br=function(){function n(t,e){this.clientId=t,this.cryptoImpl=e}return n.prototype.getAllAccounts=function(){var t=this,e=this.getAccountsFilteredBy(),r=Object.keys(e).map(function(s){return e[s]});return r.length<1?[]:r.map(function(s){var c=n.toObject(new rn,s).getAccountInfo(),u=t.readIdTokenFromCache(t.clientId,c);return u&&!c.idTokenClaims&&(c.idToken=u.secret,c.idTokenClaims=new co(u.secret,t.cryptoImpl).claims),c})},n.prototype.saveCacheRecord=function(t){return fe(this,void 0,void 0,function(){return pe(this,function(e){switch(e.label){case 0:if(!t)throw Y.createNullOrUndefinedCacheRecord();return t.account&&this.setAccount(t.account),t.idToken&&this.setIdTokenCredential(t.idToken),t.accessToken?[4,this.saveAccessToken(t.accessToken)]:[3,2];case 1:e.sent(),e.label=2;case 2:return t.refreshToken&&this.setRefreshTokenCredential(t.refreshToken),t.appMetadata&&this.setAppMetadata(t.appMetadata),[2]}})})},n.prototype.saveAccessToken=function(t){return fe(this,void 0,void 0,function(){var e,r,o,i,s=this;return pe(this,function(a){switch(a.label){case 0:return e=this.getCredentialsFilteredBy({clientId:t.clientId,credentialType:t.credentialType,environment:t.environment,homeAccountId:t.homeAccountId,realm:t.realm,tokenType:t.tokenType,requestedClaimsHash:t.requestedClaimsHash}),r=on.fromString(t.target),(o=Object.keys(e.accessTokens).map(function(c){return e.accessTokens[c]}))?(i=[],o.forEach(function(c){on.fromString(c.target).intersectingScopeSets(r)&&i.push(s.removeCredential(c))}),[4,Promise.all(i)]):[3,2];case 1:a.sent(),a.label=2;case 2:return this.setAccessTokenCredential(t),[2]}})})},n.prototype.getAccountsFilteredBy=function(t){return this.getAccountsFilteredByInternal(t?t.homeAccountId:b.EMPTY_STRING,t?t.environment:b.EMPTY_STRING,t?t.realm:b.EMPTY_STRING,t?t.nativeAccountId:b.EMPTY_STRING)},n.prototype.getAccountsFilteredByInternal=function(t,e,r,o){var i=this,s=this.getKeys(),a={};return s.forEach(function(c){var u=i.getAccount(c);!u||t&&!i.matchHomeAccountId(u,t)||e&&!i.matchEnvironment(u,e)||r&&!i.matchRealm(u,r)||o&&!i.matchNativeAccountId(u,o)||(a[c]=u)}),a},n.prototype.getCredentialsFilteredBy=function(t){return this.getCredentialsFilteredByInternal(t.homeAccountId,t.environment,t.credentialType,t.clientId,t.familyId,t.realm,t.target,t.userAssertionHash,t.tokenType,t.keyId,t.requestedClaimsHash)},n.prototype.getCredentialsFilteredByInternal=function(t,e,r,o,i,s,a,c,u,l,d){var h=this,g=this.getKeys(),m={idTokens:{},accessTokens:{},refreshTokens:{}};return g.forEach(function(E){var S=$s.getCredentialType(E);if(S!==b.NOT_DEFINED){var T=h.getSpecificCredential(E,S);if(T&&(!c||h.matchUserAssertionHash(T,c))&&("string"!=typeof t||h.matchHomeAccountId(T,t))&&(!e||h.matchEnvironment(T,e))&&(!s||h.matchRealm(T,s))&&(!r||h.matchCredentialType(T,r))&&(!o||h.matchClientId(T,o))&&(!i||h.matchFamilyId(T,i))&&(!a||h.matchTarget(T,a))&&(!d&&!T.requestedClaimsHash||T.requestedClaimsHash===d)&&(r!==Ie.ACCESS_TOKEN_WITH_AUTH_SCHEME||!(u&&!h.matchTokenType(T,u)||u===je.SSH&&l&&!h.matchKeyId(T,l)))){var N=h.updateCredentialCacheKey(E,T);switch(S){case Ie.ID_TOKEN:m.idTokens[N]=T;break;case Ie.ACCESS_TOKEN:case Ie.ACCESS_TOKEN_WITH_AUTH_SCHEME:m.accessTokens[N]=T;break;case Ie.REFRESH_TOKEN:m.refreshTokens[N]=T}}}}),m},n.prototype.getAppMetadataFilteredBy=function(t){return this.getAppMetadataFilteredByInternal(t.environment,t.clientId)},n.prototype.getAppMetadataFilteredByInternal=function(t,e){var r=this,o=this.getKeys(),i={};return o.forEach(function(s){if(r.isAppMetadata(s)){var a=r.getAppMetadata(s);!a||t&&!r.matchEnvironment(a,t)||e&&!r.matchClientId(a,e)||(i[s]=a)}}),i},n.prototype.getAuthorityMetadataByAlias=function(t){var e=this,r=this.getAuthorityMetadataKeys(),o=null;return r.forEach(function(i){if(e.isAuthorityMetadata(i)&&-1!==i.indexOf(e.clientId)){var s=e.getAuthorityMetadata(i);!s||-1!==s.aliases.indexOf(t)&&(o=s)}}),o},n.prototype.removeAllAccounts=function(){return fe(this,void 0,void 0,function(){var t,e,r=this;return pe(this,function(o){switch(o.label){case 0:return t=this.getKeys(),e=[],t.forEach(function(i){!r.getAccount(i)||e.push(r.removeAccount(i))}),[4,Promise.all(e)];case 1:return o.sent(),[2,!0]}})})},n.prototype.removeAccount=function(t){return fe(this,void 0,void 0,function(){var e;return pe(this,function(r){switch(r.label){case 0:if(!(e=this.getAccount(t)))throw Y.createNoAccountFoundError();return[4,this.removeAccountContext(e)];case 1:return[2,r.sent()&&this.removeItem(t,Ko.ACCOUNT)]}})})},n.prototype.removeAccountContext=function(t){return fe(this,void 0,void 0,function(){var e,r,o,i=this;return pe(this,function(s){switch(s.label){case 0:return e=this.getKeys(),r=t.generateAccountId(),o=[],e.forEach(function(a){var c=$s.getCredentialType(a);if(c!==b.NOT_DEFINED){var u=i.getSpecificCredential(a,c);u&&r===u.generateAccountId()&&o.push(i.removeCredential(u))}}),[4,Promise.all(o)];case 1:return s.sent(),[2,!0]}})})},n.prototype.removeCredential=function(t){return fe(this,void 0,void 0,function(){var e,o;return pe(this,function(i){switch(i.label){case 0:if(e=t.generateCredentialKey(),t.credentialType.toLowerCase()!==Ie.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())return[3,4];if(t.tokenType!==je.POP)return[3,4];if(!(o=t.keyId))return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.cryptoImpl.removeTokenBindingKey(o)];case 2:return i.sent(),[3,4];case 3:throw i.sent(),Y.createBindingKeyNotRemovedError();case 4:return[2,this.removeItem(e,Ko.CREDENTIAL)]}})})},n.prototype.removeAppMetadata=function(){var t=this;return this.getKeys().forEach(function(r){t.isAppMetadata(r)&&t.removeItem(r,Ko.APP_METADATA)}),!0},n.prototype.readCacheRecord=function(t,e,r,o){var i=this.readAccountFromCache(t),s=this.readIdTokenFromCache(e,t),a=this.readAccessTokenFromCache(e,t,r),c=this.readRefreshTokenFromCache(e,t,!1),u=this.readAppMetadataFromCache(o,e);return i&&s&&(i.idTokenClaims=new co(s.secret,this.cryptoImpl).claims),{account:i,idToken:s,accessToken:a,refreshToken:c,appMetadata:u}},n.prototype.readAccountFromCache=function(t){var e=rn.generateAccountCacheKey(t);return this.getAccount(e)},n.prototype.readAccountFromCacheWithNativeAccountId=function(t){var r=this.getAccountsFilteredBy({nativeAccountId:t}),o=Object.keys(r).map(function(i){return r[i]});if(o.length<1)return null;if(o.length>1)throw Y.createMultipleMatchingAccountsInCacheError();return o[0]},n.prototype.readIdTokenFromCache=function(t,e){var o=this.getCredentialsFilteredBy({homeAccountId:e.homeAccountId,environment:e.environment,credentialType:Ie.ID_TOKEN,clientId:t,realm:e.tenantId}),i=Object.keys(o.idTokens).map(function(a){return o.idTokens[a]}),s=i.length;if(s<1)return null;if(s>1)throw Y.createMultipleMatchingTokensInCacheError();return i[0]},n.prototype.readAccessTokenFromCache=function(t,e,r){var o=new on(r.scopes||[]),i=r.authenticationScheme||je.BEARER,s=i&&i.toLowerCase()!==je.BEARER.toLowerCase()?Ie.ACCESS_TOKEN_WITH_AUTH_SCHEME:Ie.ACCESS_TOKEN,a={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:s,clientId:t,realm:e.tenantId,target:o.printScopesLowerCase(),tokenType:i,keyId:r.sshKid,requestedClaimsHash:r.requestedClaimsHash},c=this.getCredentialsFilteredBy(a),u=Object.keys(c.accessTokens).map(function(d){return c.accessTokens[d]}),l=u.length;if(l<1)return null;if(l>1)throw Y.createMultipleMatchingTokensInCacheError();return u[0]},n.prototype.readRefreshTokenFromCache=function(t,e,r){var s=this.getCredentialsFilteredBy({homeAccountId:e.homeAccountId,environment:e.environment,credentialType:Ie.REFRESH_TOKEN,clientId:t,familyId:r?"1":void 0}),a=Object.keys(s.refreshTokens).map(function(u){return s.refreshTokens[u]});return a.length<1?null:a[0]},n.prototype.readAppMetadataFromCache=function(t,e){var o=this.getAppMetadataFilteredBy({environment:t,clientId:e}),i=Object.keys(o).map(function(a){return o[a]}),s=i.length;if(s<1)return null;if(s>1)throw Y.createMultipleMatchingAppMetadataInCacheError();return i[0]},n.prototype.isAppMetadataFOCI=function(t,e){var r=this.readAppMetadataFromCache(t,e);return!(!r||"1"!==r.familyId)},n.prototype.matchHomeAccountId=function(t,e){return"string"==typeof t.homeAccountId&&e===t.homeAccountId},n.prototype.matchUserAssertionHash=function(t,e){return!(!t.userAssertionHash||e!==t.userAssertionHash)},n.prototype.matchEnvironment=function(t,e){var r=this.getAuthorityMetadataByAlias(e);return!!(r&&r.aliases.indexOf(t.environment)>-1)},n.prototype.matchCredentialType=function(t,e){return t.credentialType&&e.toLowerCase()===t.credentialType.toLowerCase()},n.prototype.matchClientId=function(t,e){return!(!t.clientId||e!==t.clientId)},n.prototype.matchFamilyId=function(t,e){return!(!t.familyId||e!==t.familyId)},n.prototype.matchRealm=function(t,e){return!(!t.realm||e!==t.realm)},n.prototype.matchNativeAccountId=function(t,e){return!(!t.nativeAccountId||e!==t.nativeAccountId)},n.prototype.matchTarget=function(t,e){if(t.credentialType!==Ie.ACCESS_TOKEN&&t.credentialType!==Ie.ACCESS_TOKEN_WITH_AUTH_SCHEME||!t.target)return!1;var o=on.fromString(t.target),i=on.fromString(e);return i.containsOnlyOIDCScopes()?i.removeScope(b.OFFLINE_ACCESS_SCOPE):i.removeOIDCScopes(),o.containsScopeSet(i)},n.prototype.matchTokenType=function(t,e){return!(!t.tokenType||t.tokenType!==e)},n.prototype.matchKeyId=function(t,e){return!(!t.keyId||t.keyId!==e)},n.prototype.isAppMetadata=function(t){return-1!==t.indexOf(Dg)},n.prototype.isAuthorityMetadata=function(t){return-1!==t.indexOf("authority-metadata")},n.prototype.generateAuthorityMetadataCacheKey=function(t){return"authority-metadata-"+this.clientId+"-"+t},n.prototype.getSpecificCredential=function(t,e){switch(e){case Ie.ID_TOKEN:return this.getIdTokenCredential(t);case Ie.ACCESS_TOKEN:case Ie.ACCESS_TOKEN_WITH_AUTH_SCHEME:return this.getAccessTokenCredential(t);case Ie.REFRESH_TOKEN:return this.getRefreshTokenCredential(t);default:return null}},n.toObject=function(t,e){for(var r in e)t[r]=e[r];return t},n}(),JB=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Bn(t,n),t.prototype.setAccount=function(){throw re.createUnexpectedError("Storage interface - setAccount() has not been implemented for the cacheStorage interface.")},t.prototype.getAccount=function(){throw re.createUnexpectedError("Storage interface - getAccount() has not been implemented for the cacheStorage interface.")},t.prototype.setIdTokenCredential=function(){throw re.createUnexpectedError("Storage interface - setIdTokenCredential() has not been implemented for the cacheStorage interface.")},t.prototype.getIdTokenCredential=function(){throw re.createUnexpectedError("Storage interface - getIdTokenCredential() has not been implemented for the cacheStorage interface.")},t.prototype.setAccessTokenCredential=function(){throw re.createUnexpectedError("Storage interface - setAccessTokenCredential() has not been implemented for the cacheStorage interface.")},t.prototype.getAccessTokenCredential=function(){throw re.createUnexpectedError("Storage interface - getAccessTokenCredential() has not been implemented for the cacheStorage interface.")},t.prototype.setRefreshTokenCredential=function(){throw re.createUnexpectedError("Storage interface - setRefreshTokenCredential() has not been implemented for the cacheStorage interface.")},t.prototype.getRefreshTokenCredential=function(){throw re.createUnexpectedError("Storage interface - getRefreshTokenCredential() has not been implemented for the cacheStorage interface.")},t.prototype.setAppMetadata=function(){throw re.createUnexpectedError("Storage interface - setAppMetadata() has not been implemented for the cacheStorage interface.")},t.prototype.getAppMetadata=function(){throw re.createUnexpectedError("Storage interface - getAppMetadata() has not been implemented for the cacheStorage interface.")},t.prototype.setServerTelemetry=function(){throw re.createUnexpectedError("Storage interface - setServerTelemetry() has not been implemented for the cacheStorage interface.")},t.prototype.getServerTelemetry=function(){throw re.createUnexpectedError("Storage interface - getServerTelemetry() has not been implemented for the cacheStorage interface.")},t.prototype.setAuthorityMetadata=function(){throw re.createUnexpectedError("Storage interface - setAuthorityMetadata() has not been implemented for the cacheStorage interface.")},t.prototype.getAuthorityMetadata=function(){throw re.createUnexpectedError("Storage interface - getAuthorityMetadata() has not been implemented for the cacheStorage interface.")},t.prototype.getAuthorityMetadataKeys=function(){throw re.createUnexpectedError("Storage interface - getAuthorityMetadataKeys() has not been implemented for the cacheStorage interface.")},t.prototype.setThrottlingCache=function(){throw re.createUnexpectedError("Storage interface - setThrottlingCache() has not been implemented for the cacheStorage interface.")},t.prototype.getThrottlingCache=function(){throw re.createUnexpectedError("Storage interface - getThrottlingCache() has not been implemented for the cacheStorage interface.")},t.prototype.removeItem=function(){throw re.createUnexpectedError("Storage interface - removeItem() has not been implemented for the cacheStorage interface.")},t.prototype.containsKey=function(){throw re.createUnexpectedError("Storage interface - containsKey() has not been implemented for the cacheStorage interface.")},t.prototype.getKeys=function(){throw re.createUnexpectedError("Storage interface - getKeys() has not been implemented for the cacheStorage interface.")},t.prototype.clear=function(){return fe(this,void 0,void 0,function(){return pe(this,function(r){throw re.createUnexpectedError("Storage interface - clear() has not been implemented for the cacheStorage interface.")})})},t.prototype.updateCredentialCacheKey=function(){throw re.createUnexpectedError("Storage interface - updateCredentialCacheKey() has not been implemented for the cacheStorage interface.")},t}(Br),Vc=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Bn(t,n),t.createIdTokenEntity=function(e,r,o,i,s){var a=new t;return a.credentialType=Ie.ID_TOKEN,a.homeAccountId=e,a.environment=r,a.clientId=i,a.secret=o,a.realm=s,a},t.isIdTokenEntity=function(e){return!!e&&e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("credentialType")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("secret")&&e.credentialType===Ie.ID_TOKEN},t}($s),wr=function(){function n(){}return n.nowSeconds=function(){return Math.round((new Date).getTime()/1e3)},n.isTokenExpired=function(t,e){var r=Number(t)||0;return n.nowSeconds()+e>r},n.wasClockTurnedBack=function(t){return Number(t)>n.nowSeconds()},n.delay=function(t,e){return new Promise(function(r){return setTimeout(function(){return r(e)},t)})},n}(),Bc=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Bn(t,n),t.createAccessTokenEntity=function(e,r,o,i,s,a,c,u,l,d,h,g,m,E,S){var T,N,D=new t;D.homeAccountId=e,D.credentialType=Ie.ACCESS_TOKEN,D.secret=o;var J=wr.nowSeconds();if(D.cachedAt=J.toString(),D.expiresOn=c.toString(),D.extendedExpiresOn=u.toString(),d&&(D.refreshOn=d.toString()),D.environment=r,D.clientId=i,D.realm=s,D.target=a,D.userAssertionHash=g,D.tokenType=z.isEmpty(h)?je.BEARER:h,E&&(D.requestedClaims=E,D.requestedClaimsHash=S),(null===(T=D.tokenType)||void 0===T?void 0:T.toLowerCase())!==je.BEARER.toLowerCase())switch(D.credentialType=Ie.ACCESS_TOKEN_WITH_AUTH_SCHEME,D.tokenType){case je.POP:var ge=co.extractTokenClaims(o,l);if(null===(N=ge?.cnf)||void 0===N||!N.kid)throw Y.createTokenClaimsRequiredError();D.keyId=ge.cnf.kid;break;case je.SSH:D.keyId=m}return D},t.isAccessTokenEntity=function(e){return!!e&&e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("credentialType")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("secret")&&e.hasOwnProperty("target")&&(e.credentialType===Ie.ACCESS_TOKEN||e.credentialType===Ie.ACCESS_TOKEN_WITH_AUTH_SCHEME)},t}($s),Td=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Bn(t,n),t.createRefreshTokenEntity=function(e,r,o,i,s,a){var c=new t;return c.clientId=i,c.credentialType=Ie.REFRESH_TOKEN,c.environment=r,c.homeAccountId=e,c.secret=o,c.userAssertionHash=a,s&&(c.familyId=s),c},t.isRefreshTokenEntity=function(e){return!!e&&e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("credentialType")&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("secret")&&e.credentialType===Ie.REFRESH_TOKEN},t}($s),dm=function(){function n(){}return n.prototype.generateAppMetadataKey=function(){return n.generateAppMetadataCacheKey(this.environment,this.clientId)},n.generateAppMetadataCacheKey=function(t,e){return[Dg,t,e].join(Nn.CACHE_KEY_SEPARATOR).toLowerCase()},n.createAppMetadataEntity=function(t,e,r){var o=new n;return o.clientId=t,o.environment=e,r&&(o.familyId=r),o},n.isAppMetadataEntity=function(t,e){return!!e&&0===t.indexOf(Dg)&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("environment")},n}(),Sd=function(){function n(){this.failedRequests=[],this.errors=[],this.cacheHits=0}return n.isServerTelemetryEntity=function(t,e){var r=0===t.indexOf(en.CACHE_KEY),o=!0;return e&&(o=e.hasOwnProperty("failedRequests")&&e.hasOwnProperty("errors")&&e.hasOwnProperty("cacheHits")),r&&o},n}(),hm=function(){function n(){this.expiresAt=wr.nowSeconds()+86400}return n.prototype.updateCloudDiscoveryMetadata=function(t,e){this.aliases=t.aliases,this.preferred_cache=t.preferred_cache,this.preferred_network=t.preferred_network,this.aliasesFromNetwork=e},n.prototype.updateEndpointMetadata=function(t,e){this.authorization_endpoint=t.authorization_endpoint,this.token_endpoint=t.token_endpoint,this.end_session_endpoint=t.end_session_endpoint,this.issuer=t.issuer,this.endpointsFromNetwork=e,this.jwks_uri=t.jwks_uri},n.prototype.updateCanonicalAuthority=function(t){this.canonical_authority=t},n.prototype.resetExpiresAt=function(){this.expiresAt=wr.nowSeconds()+86400},n.prototype.isExpired=function(){return this.expiresAt<=wr.nowSeconds()},n.isAuthorityMetadataEntity=function(t,e){return!!e&&0===t.indexOf("authority-metadata")&&e.hasOwnProperty("aliases")&&e.hasOwnProperty("preferred_cache")&&e.hasOwnProperty("preferred_network")&&e.hasOwnProperty("canonical_authority")&&e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")&&e.hasOwnProperty("aliasesFromNetwork")&&e.hasOwnProperty("endpointsFromNetwork")&&e.hasOwnProperty("expiresAt")&&e.hasOwnProperty("jwks_uri")},n}(),qS=function(){function n(){}return n.isThrottlingEntity=function(t,e){var r=!1;t&&(r=0===t.indexOf("throttling"));var o=!0;return e&&(o=e.hasOwnProperty("throttleTime")),r&&o},n}(),Po=function(){function n(){}return n.setRequestState=function(t,e,r){var o=n.generateLibraryState(t,r);return z.isEmpty(e)?o:""+o+b.RESOURCE_DELIM+e},n.generateLibraryState=function(t,e){if(!t)throw Y.createNoCryptoObjectError("generateLibraryState");var r={id:t.createNewGuid()};e&&(r.meta=e);var o=JSON.stringify(r);return t.base64Encode(o)},n.parseRequestState=function(t,e){if(!t)throw Y.createNoCryptoObjectError("parseRequestState");if(z.isEmpty(e))throw Y.createInvalidStateError(e,"Null, undefined or empty state");try{var r=e.split(b.RESOURCE_DELIM),o=r[0],i=r.length>1?r.slice(1).join(b.RESOURCE_DELIM):b.EMPTY_STRING,s=t.base64Decode(o),a=JSON.parse(s);return{userRequestState:z.isEmpty(i)?b.EMPTY_STRING:i,libraryState:a}}catch(c){throw Y.createInvalidStateError(e,c)}},n}(),zn=(()=>{return(n=zn||(zn={})).HOME_ACCOUNT_ID="home_account_id",n.UPN="UPN",zn;var n})(),GS=function(){function n(t){this.validateWindowStorage(t),this.windowStorage=window[t]}return n.prototype.validateWindowStorage=function(t){if(t!==Wt.LocalStorage&&t!==Wt.SessionStorage)throw Vs.createStorageNotSupportedError(t);if(!window[t])throw Vs.createStorageNotSupportedError(t)},n.prototype.getItem=function(t){return this.windowStorage.getItem(t)},n.prototype.setItem=function(t,e){this.windowStorage.setItem(t,e)},n.prototype.removeItem=function(t){this.windowStorage.removeItem(t)},n.prototype.getKeys=function(){return Object.keys(this.windowStorage)},n.prototype.containsKey=function(t){return this.windowStorage.hasOwnProperty(t)},n}(),$S=function(){function n(){}return n.extractBrowserRequestState=function(t,e){if(z.isEmpty(e))return null;try{return Po.parseRequestState(t,e).libraryState.meta}catch(o){throw Y.createInvalidStateError(e,o)}},n.parseServerResponseFromHash=function(t){if(!t)return{};var e=new Ne(t);return Ne.getDeserializedHash(e.getHash())},n}(),fm=function(n){function t(e,r,o,i){var s=n.call(this,e,o)||this;return s.COOKIE_LIFE_MULTIPLIER=864e5,s.cacheConfig=r,s.logger=i,s.internalStorage=new lm,s.browserStorage=s.setupBrowserStorage(s.cacheConfig.cacheLocation),s.temporaryCacheStorage=s.setupTemporaryCacheStorage(s.cacheConfig.cacheLocation),s.migrateCacheEntries(),s}return tn(t,n),t.prototype.setupBrowserStorage=function(e){switch(e){case Wt.LocalStorage:case Wt.SessionStorage:try{return new GS(e)}catch(r){this.logger.verbose(r);break}}return this.cacheConfig.cacheLocation=Wt.MemoryStorage,new lm},t.prototype.setupTemporaryCacheStorage=function(e){switch(e){case Wt.LocalStorage:case Wt.SessionStorage:try{return new GS(Wt.SessionStorage)}catch(r){return this.logger.verbose(r),this.internalStorage}default:return this.internalStorage}},t.prototype.migrateCacheEntries=function(){var e=this,o=b.CACHE_PREFIX+"."+xt.CLIENT_INFO,i=b.CACHE_PREFIX+"."+xt.ERROR,s=b.CACHE_PREFIX+"."+xt.ERROR_DESC,d=[this.browserStorage.getItem(b.CACHE_PREFIX+"."+xt.ID_TOKEN),this.browserStorage.getItem(o),this.browserStorage.getItem(i),this.browserStorage.getItem(s)];[xt.ID_TOKEN,xt.CLIENT_INFO,xt.ERROR,xt.ERROR_DESC].forEach(function(g,m){return e.migrateCacheEntry(g,d[m])})},t.prototype.migrateCacheEntry=function(e,r){r&&this.setTemporaryCache(e,r,!0)},t.prototype.validateAndParseJson=function(e){try{var r=JSON.parse(e);return r&&"object"==typeof r?r:null}catch{return null}},t.prototype.getItem=function(e){return this.browserStorage.getItem(e)},t.prototype.setItem=function(e,r){this.browserStorage.setItem(e,r)},t.prototype.getAccount=function(e){var r=this.getItem(e);if(!r)return null;var o=this.validateAndParseJson(r);return o&&rn.isAccountEntity(o)?Br.toObject(new rn,o):null},t.prototype.setAccount=function(e){this.logger.trace("BrowserCacheManager.setAccount called");var r=e.generateAccountKey();this.setItem(r,JSON.stringify(e))},t.prototype.getIdTokenCredential=function(e){var r=this.getItem(e);if(!r)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),null;var o=this.validateAndParseJson(r);return o&&Vc.isIdTokenEntity(o)?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),Br.toObject(new Vc,o)):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),null)},t.prototype.setIdTokenCredential=function(e){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");var r=e.generateCredentialKey();this.setItem(r,JSON.stringify(e))},t.prototype.getAccessTokenCredential=function(e){var r=this.getItem(e);if(!r)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),null;var o=this.validateAndParseJson(r);return o&&Bc.isAccessTokenEntity(o)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),Br.toObject(new Bc,o)):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),null)},t.prototype.setAccessTokenCredential=function(e){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");var r=e.generateCredentialKey();this.setItem(r,JSON.stringify(e))},t.prototype.getRefreshTokenCredential=function(e){var r=this.getItem(e);if(!r)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),null;var o=this.validateAndParseJson(r);return o&&Td.isRefreshTokenEntity(o)?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),Br.toObject(new Td,o)):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),null)},t.prototype.setRefreshTokenCredential=function(e){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");var r=e.generateCredentialKey();this.setItem(r,JSON.stringify(e))},t.prototype.getAppMetadata=function(e){var r=this.getItem(e);if(!r)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;var o=this.validateAndParseJson(r);return o&&dm.isAppMetadataEntity(e,o)?(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),Br.toObject(new dm,o)):(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null)},t.prototype.setAppMetadata=function(e){this.logger.trace("BrowserCacheManager.setAppMetadata called");var r=e.generateAppMetadataKey();this.setItem(r,JSON.stringify(e))},t.prototype.getServerTelemetry=function(e){var r=this.getItem(e);if(!r)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;var o=this.validateAndParseJson(r);return o&&Sd.isServerTelemetryEntity(e,o)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),Br.toObject(new Sd,o)):(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null)},t.prototype.setServerTelemetry=function(e,r){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.setItem(e,JSON.stringify(r))},t.prototype.getAuthorityMetadata=function(e){var r=this.internalStorage.getItem(e);if(!r)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;var o=this.validateAndParseJson(r);return o&&hm.isAuthorityMetadataEntity(e,o)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),Br.toObject(new hm,o)):null},t.prototype.getAuthorityMetadataKeys=function(){var e=this;return this.internalStorage.getKeys().filter(function(o){return e.isAuthorityMetadata(o)})},t.prototype.setWrapperMetadata=function(e,r){this.internalStorage.setItem(Ii.WRAPPER_SKU,e),this.internalStorage.setItem(Ii.WRAPPER_VER,r)},t.prototype.getWrapperMetadata=function(){return[this.internalStorage.getItem(Ii.WRAPPER_SKU)||b.EMPTY_STRING,this.internalStorage.getItem(Ii.WRAPPER_VER)||b.EMPTY_STRING]},t.prototype.setAuthorityMetadata=function(e,r){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(e,JSON.stringify(r))},t.prototype.getActiveAccount=function(){var e=this.generateCacheKey(xt.ACTIVE_ACCOUNT_FILTERS),r=this.getItem(e);if(!r){this.logger.trace("BrowserCacheManager.getActiveAccount: No active account filters cache schema found, looking for legacy schema");var o=this.generateCacheKey(xt.ACTIVE_ACCOUNT),i=this.getItem(o);if(!i)return this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null;var s=this.getAccountInfoByFilter({localAccountId:i})[0]||null;return s?(this.logger.trace("BrowserCacheManager.getActiveAccount: Legacy active account cache schema found"),this.logger.trace("BrowserCacheManager.getActiveAccount: Adding active account filters cache schema"),this.setActiveAccount(s),s):null}var a=this.validateAndParseJson(r);return a?(this.logger.trace("BrowserCacheManager.getActiveAccount: Active account filters schema found"),this.getAccountInfoByFilter({homeAccountId:a.homeAccountId,localAccountId:a.localAccountId})[0]||null):(this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null)},t.prototype.setActiveAccount=function(e){var r=this.generateCacheKey(xt.ACTIVE_ACCOUNT_FILTERS),o=this.generateCacheKey(xt.ACTIVE_ACCOUNT);e?(this.logger.verbose("setActiveAccount: Active account set"),this.browserStorage.setItem(r,JSON.stringify({homeAccountId:e.homeAccountId,localAccountId:e.localAccountId})),this.browserStorage.setItem(o,e.localAccountId)):(this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(r),this.browserStorage.removeItem(o))},t.prototype.getAccountInfoByFilter=function(e){var r=this.getAllAccounts();return this.logger.trace("BrowserCacheManager.getAccountInfoByFilter: total "+r.length+" accounts found"),r.filter(function(o){return!(e.username&&e.username.toLowerCase()!==o.username.toLowerCase()||e.homeAccountId&&e.homeAccountId!==o.homeAccountId||e.localAccountId&&e.localAccountId!==o.localAccountId||e.tenantId&&e.tenantId!==o.tenantId||e.environment&&e.environment!==o.environment)})},t.prototype.getAccountInfoByHints=function(e,r){var o=this.getAllAccounts().filter(function(i){return r?r===(i.idTokenClaims&&i.idTokenClaims.sid):!!e&&e===i.username});if(1===o.length)return o[0];if(o.length>1)throw Y.createMultipleMatchingAccountsInCacheError();return null},t.prototype.getThrottlingCache=function(e){var r=this.getItem(e);if(!r)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;var o=this.validateAndParseJson(r);return o&&qS.isThrottlingEntity(e,o)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),Br.toObject(new qS,o)):(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null)},t.prototype.setThrottlingCache=function(e,r){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.setItem(e,JSON.stringify(r))},t.prototype.getTemporaryCache=function(e,r){var o=r?this.generateCacheKey(e):e;if(this.cacheConfig.storeAuthStateInCookie){var i=this.getItemCookie(o);if(i)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),i}var s=this.temporaryCacheStorage.getItem(o);if(!s){if(this.cacheConfig.cacheLocation===Wt.LocalStorage){var a=this.browserStorage.getItem(o);if(a)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),a}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),s},t.prototype.setTemporaryCache=function(e,r,o){var i=o?this.generateCacheKey(e):e;this.temporaryCacheStorage.setItem(i,r),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.setItemCookie(i,r))},t.prototype.removeItem=function(e){return this.browserStorage.removeItem(e),this.temporaryCacheStorage.removeItem(e),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.clearItemCookie(e)),!0},t.prototype.containsKey=function(e){return this.browserStorage.containsKey(e)||this.temporaryCacheStorage.containsKey(e)},t.prototype.getKeys=function(){return kg(this.browserStorage.getKeys(),this.temporaryCacheStorage.getKeys())},t.prototype.clear=function(){return x(this,void 0,void 0,function(){var e=this;return F(this,function(r){switch(r.label){case 0:return[4,this.removeAllAccounts()];case 1:return r.sent(),this.removeAppMetadata(),this.getKeys().forEach(function(o){(e.browserStorage.containsKey(o)||e.temporaryCacheStorage.containsKey(o))&&(-1!==o.indexOf(b.CACHE_PREFIX)||-1!==o.indexOf(e.clientId))&&e.removeItem(o)}),this.internalStorage.clear(),[2]}})})},t.prototype.setItemCookie=function(e,r,o){var i=encodeURIComponent(e)+"="+encodeURIComponent(r)+";path=/;SameSite=Lax;";o&&(i+="expires="+this.getCookieExpirationTime(o)+";"),this.cacheConfig.secureCookies&&(i+="Secure;"),document.cookie=i},t.prototype.getItemCookie=function(e){for(var r=encodeURIComponent(e)+"=",o=document.cookie.split(";"),i=0;i<o.length;i++){for(var s=o[i];" "===s.charAt(0);)s=s.substring(1);if(0===s.indexOf(r))return decodeURIComponent(s.substring(r.length,s.length))}return b.EMPTY_STRING},t.prototype.clearMsalCookies=function(){var e=this,r=b.CACHE_PREFIX+"."+this.clientId;document.cookie.split(";").forEach(function(i){for(;" "===i.charAt(0);)i=i.substring(1);if(0===i.indexOf(r)){var s=i.split("=")[0];e.clearItemCookie(s)}})},t.prototype.clearItemCookie=function(e){this.setItemCookie(e,b.EMPTY_STRING,-1)},t.prototype.getCookieExpirationTime=function(e){var r=new Date;return new Date(r.getTime()+e*this.COOKIE_LIFE_MULTIPLIER).toUTCString()},t.prototype.getCache=function(){return this.browserStorage},t.prototype.setCache=function(){},t.prototype.generateCacheKey=function(e){return this.validateAndParseJson(e)?JSON.stringify(e):z.startsWith(e,b.CACHE_PREFIX)||z.startsWith(e,xt.ADAL_ID_TOKEN)?e:b.CACHE_PREFIX+"."+this.clientId+"."+e},t.prototype.generateAuthorityKey=function(e){var r=Po.parseRequestState(this.cryptoImpl,e).libraryState.id;return this.generateCacheKey(xe.AUTHORITY+"."+r)},t.prototype.generateNonceKey=function(e){var r=Po.parseRequestState(this.cryptoImpl,e).libraryState.id;return this.generateCacheKey(xe.NONCE_IDTOKEN+"."+r)},t.prototype.generateStateKey=function(e){var r=Po.parseRequestState(this.cryptoImpl,e).libraryState.id;return this.generateCacheKey(xe.REQUEST_STATE+"."+r)},t.prototype.getCachedAuthority=function(e){var r=this.generateStateKey(e),o=this.getTemporaryCache(r);if(!o)return null;var i=this.generateAuthorityKey(o);return this.getTemporaryCache(i)},t.prototype.updateCacheEntries=function(e,r,o,i,s){this.logger.trace("BrowserCacheManager.updateCacheEntries called");var a=this.generateStateKey(e);this.setTemporaryCache(a,e,!1);var c=this.generateNonceKey(e);this.setTemporaryCache(c,r,!1);var u=this.generateAuthorityKey(e);if(this.setTemporaryCache(u,o,!1),s){var l={credential:s.homeAccountId,type:zn.HOME_ACCOUNT_ID};this.setTemporaryCache(xe.CCS_CREDENTIAL,JSON.stringify(l),!0)}else z.isEmpty(i)||(l={credential:i,type:zn.UPN},this.setTemporaryCache(xe.CCS_CREDENTIAL,JSON.stringify(l),!0))},t.prototype.resetRequestCache=function(e){var r=this;this.logger.trace("BrowserCacheManager.resetRequestCache called"),z.isEmpty(e)||this.getKeys().forEach(function(o){-1!==o.indexOf(e)&&r.removeItem(o)}),e&&(this.removeItem(this.generateStateKey(e)),this.removeItem(this.generateNonceKey(e)),this.removeItem(this.generateAuthorityKey(e))),this.removeItem(this.generateCacheKey(xe.REQUEST_PARAMS)),this.removeItem(this.generateCacheKey(xe.ORIGIN_URI)),this.removeItem(this.generateCacheKey(xe.URL_HASH)),this.removeItem(this.generateCacheKey(xe.CORRELATION_ID)),this.removeItem(this.generateCacheKey(xe.CCS_CREDENTIAL)),this.removeItem(this.generateCacheKey(xe.NATIVE_REQUEST)),this.setInteractionInProgress(!1)},t.prototype.cleanRequestByState=function(e){if(this.logger.trace("BrowserCacheManager.cleanRequestByState called"),e){var r=this.generateStateKey(e),o=this.temporaryCacheStorage.getItem(r);this.logger.infoPii("BrowserCacheManager.cleanRequestByState: Removing temporary cache items for state: "+o),this.resetRequestCache(o||b.EMPTY_STRING)}this.clearMsalCookies()},t.prototype.cleanRequestByInteractionType=function(e){var r=this;this.logger.trace("BrowserCacheManager.cleanRequestByInteractionType called"),this.getKeys().forEach(function(o){if(-1!==o.indexOf(xe.REQUEST_STATE)){var i=r.temporaryCacheStorage.getItem(o);if(i){var s=$S.extractBrowserRequestState(r.cryptoImpl,i);s&&s.interactionType===e&&(r.logger.infoPii("BrowserCacheManager.cleanRequestByInteractionType: Removing temporary cache items for state: "+i),r.resetRequestCache(i))}}}),this.clearMsalCookies(),this.setInteractionInProgress(!1)},t.prototype.cacheCodeRequest=function(e,r){this.logger.trace("BrowserCacheManager.cacheCodeRequest called");var o=r.base64Encode(JSON.stringify(e));this.setTemporaryCache(xe.REQUEST_PARAMS,o,!0)},t.prototype.getCachedRequest=function(e,r){this.logger.trace("BrowserCacheManager.getCachedRequest called");var o=this.getTemporaryCache(xe.REQUEST_PARAMS,!0);if(!o)throw $.createNoTokenRequestCacheError();var i=this.validateAndParseJson(r.base64Decode(o));if(!i)throw $.createUnableToParseTokenRequestCacheError();if(this.removeItem(this.generateCacheKey(xe.REQUEST_PARAMS)),z.isEmpty(i.authority)){var s=this.generateAuthorityKey(e),a=this.getTemporaryCache(s);if(!a)throw $.createNoCachedAuthorityError();i.authority=a}return i},t.prototype.getCachedNativeRequest=function(){this.logger.trace("BrowserCacheManager.getCachedNativeRequest called");var e=this.getTemporaryCache(xe.NATIVE_REQUEST,!0);return e?this.validateAndParseJson(e)||(this.logger.error("BrowserCacheManager.getCachedNativeRequest: Unable to parse native request"),null):(this.logger.trace("BrowserCacheManager.getCachedNativeRequest: No cached native request found"),null)},t.prototype.isInteractionInProgress=function(e){var r=this.getInteractionInProgress();return e?r===this.clientId:!!r},t.prototype.getInteractionInProgress=function(){return this.getTemporaryCache(b.CACHE_PREFIX+"."+xe.INTERACTION_STATUS_KEY,!1)},t.prototype.setInteractionInProgress=function(e){var r=b.CACHE_PREFIX+"."+xe.INTERACTION_STATUS_KEY;if(e){if(this.getInteractionInProgress())throw $.createInteractionInProgressError();this.setTemporaryCache(r,this.clientId,!1)}else!e&&this.getInteractionInProgress()===this.clientId&&this.removeItem(r)},t.prototype.getLegacyLoginHint=function(){var e=this.getTemporaryCache(xt.ADAL_ID_TOKEN);e&&(this.browserStorage.removeItem(xt.ADAL_ID_TOKEN),this.logger.verbose("Cached ADAL id token retrieved."));var r=this.getTemporaryCache(xt.ID_TOKEN,!0);r&&(this.removeItem(this.generateCacheKey(xt.ID_TOKEN)),this.logger.verbose("Cached MSAL.js v1 id token retrieved"));var o=r||e;if(o){var i=new co(o,this.cryptoImpl);if(i.claims&&i.claims.preferred_username)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 preferred_username as loginHint"),i.claims.preferred_username;if(i.claims&&i.claims.upn)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 upn as loginHint"),i.claims.upn;this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, however, no account hint claim found. Enable preferred_username or upn id token claim to get SSO.")}return null},t.prototype.updateCredentialCacheKey=function(e,r){var o=r.generateCredentialKey();if(e!==o){var i=this.getItem(e);if(i)return this.removeItem(e),this.setItem(o,i),this.logger.verbose("Updated an outdated "+r.credentialType+" cache key"),o;this.logger.error("Attempted to update an outdated "+r.credentialType+" cache key but no item matching the outdated key was found in storage")}return e},t.prototype.getRedirectRequestContext=function(){return this.getTemporaryCache(xe.REDIRECT_CONTEXT,!0)},t.prototype.setRedirectRequestContext=function(e){this.setTemporaryCache(xe.REDIRECT_CONTEXT,e,!0)},t}(Br),jc=(()=>{return(n=jc||(jc={})).AAD="AAD",n.OIDC="OIDC",jc;var n})(),zs=(()=>{return(n=zs||(zs={}))[n.None=0]="None",n.AzurePublic="https://login.microsoftonline.com",n.AzurePpe="https://login.windows-ppe.net",n.AzureChina="https://login.chinacloudapi.cn",n.AzureGermany="https://login.microsoftonline.de",n.AzureUsGovernment="https://login.microsoftonline.us",zs;var n})(),WS={tokenRenewalOffsetSeconds:300,preventCorsPreflight:!1},tj={loggerCallback:function(){},piiLoggingEnabled:!1,logLevel:Lt.Info,correlationId:b.EMPTY_STRING},nj={sendGetRequestAsync:function(){return fe(this,void 0,void 0,function(){return pe(this,function(t){throw re.createUnexpectedError("Network interface - sendGetRequestAsync() has not been implemented")})})},sendPostRequestAsync:function(){return fe(this,void 0,void 0,function(){return pe(this,function(t){throw re.createUnexpectedError("Network interface - sendPostRequestAsync() has not been implemented")})})}},rj={sku:b.SKU,version:"11.0.0",cpu:b.EMPTY_STRING,os:b.EMPTY_STRING},oj={clientSecret:b.EMPTY_STRING,clientAssertion:void 0},ij={azureCloudInstance:zs.None,tenant:""+b.DEFAULT_COMMON_TENANT},sj={application:{appName:"",appVersion:""}};function cj(n){return Ke({clientCapabilities:[],azureCloudOptions:ij,skipAuthorityMetadataCache:!1},n)}var uj={sendGetRequestAsync:function(){return Promise.reject(re.createUnexpectedError("Network interface - sendGetRequestAsync() has not been implemented for the Network interface."))},sendPostRequestAsync:function(){return Promise.reject(re.createUnexpectedError("Network interface - sendPostRequestAsync() has not been implemented for the Network interface."))}},lj=function(){function n(){}return n.prototype.navigateInternal=function(t,e){return n.defaultNavigateWindow(t,e)},n.prototype.navigateExternal=function(t,e){return n.defaultNavigateWindow(t,e)},n.defaultNavigateWindow=function(t,e){return e.noHistory?window.location.replace(t):window.location.assign(t),new Promise(function(r){setTimeout(function(){r(!0)},e.timeout)})},n}(),gm="@azure/msal-browser",qc="2.34.0",gj=function(){function n(t,e){this.eventCallbacks=new Map,this.logger=t,this.browserCrypto=e,this.listeningToStorageEvents=!1,this.handleAccountCacheChange=this.handleAccountCacheChange.bind(this)}return n.prototype.addEventCallback=function(t){if(typeof window<"u"){var e=this.browserCrypto.createNewGuid();return this.eventCallbacks.set(e,t),this.logger.verbose("Event callback registered with id: "+e),e}return null},n.prototype.removeEventCallback=function(t){this.eventCallbacks.delete(t),this.logger.verbose("Event callback "+t+" removed.")},n.prototype.enableAccountStorageEvents=function(){typeof window>"u"||(this.listeningToStorageEvents?this.logger.verbose("Account storage listener already registered."):(this.logger.verbose("Adding account storage listener."),this.listeningToStorageEvents=!0,window.addEventListener("storage",this.handleAccountCacheChange)))},n.prototype.disableAccountStorageEvents=function(){typeof window>"u"||(this.listeningToStorageEvents?(this.logger.verbose("Removing account storage listener."),window.removeEventListener("storage",this.handleAccountCacheChange),this.listeningToStorageEvents=!1):this.logger.verbose("No account storage listener registered."))},n.prototype.emitEvent=function(t,e,r,o){var i=this;if(typeof window<"u"){var s={eventType:t,interactionType:e||null,payload:r||null,error:o||null,timestamp:Date.now()};this.logger.info("Emitting event: "+t),this.eventCallbacks.forEach(function(a,c){i.logger.verbose("Emitting event to callback "+c+": "+t),a.apply(null,[s])})}},n.prototype.handleAccountCacheChange=function(t){try{var e=t.newValue||t.oldValue;if(!e)return;var r=JSON.parse(e);if("object"!=typeof r||!rn.isAccountEntity(r))return;var i=Br.toObject(new rn,r).getAccountInfo();!t.oldValue&&t.newValue?(this.logger.info("Account was added to cache in a different window"),this.emitEvent(ee.ACCOUNT_ADDED,void 0,i)):!t.newValue&&t.oldValue&&(this.logger.info("Account was removed from cache in a different window"),this.emitEvent(ee.ACCOUNT_REMOVED,void 0,i))}catch{return}},n}(),Id=function(){function n(){}return n.generateThrottlingStorageKey=function(t){return"throttling."+JSON.stringify(t)},n.preProcess=function(t,e){var r,o=n.generateThrottlingStorageKey(e),i=t.getThrottlingCache(o);if(i){if(i.throttleTime<Date.now())return void t.removeItem(o,Ko.THROTTLING);throw new xi((null===(r=i.errorCodes)||void 0===r?void 0:r.join(" "))||b.EMPTY_STRING,i.errorMessage,i.subError)}},n.postProcess=function(t,e,r){if(n.checkResponseStatus(r)||n.checkResponseForRetryAfter(r)){var o={throttleTime:n.calculateThrottleTime(parseInt(r.headers[jn.RETRY_AFTER])),error:r.body.error,errorCodes:r.body.error_codes,errorMessage:r.body.error_description,subError:r.body.suberror};t.setThrottlingCache(n.generateThrottlingStorageKey(e),o)}},n.checkResponseStatus=function(t){return 429===t.status||t.status>=500&&t.status<600},n.checkResponseForRetryAfter=function(t){return!!t.headers&&t.headers.hasOwnProperty(jn.RETRY_AFTER)&&(t.status<200||t.status>=300)},n.calculateThrottleTime=function(t){var e=t<=0?0:t,r=Date.now()/1e3;return Math.floor(1e3*Math.min(r+(e||60),r+3600))},n.removeThrottle=function(t,e,r,o){var s=this.generateThrottlingStorageKey({clientId:e,authority:r.authority,scopes:r.scopes,homeAccountIdentifier:o,claims:r.claims,authenticationScheme:r.authenticationScheme,resourceRequestMethod:r.resourceRequestMethod,resourceRequestUri:r.resourceRequestUri,shrClaims:r.shrClaims,sshKid:r.sshKid});return t.removeItem(s,Ko.THROTTLING)},n}(),mj=function(){function n(t,e){this.networkClient=t,this.cacheManager=e}return n.prototype.sendPostRequest=function(t,e,r){return fe(this,void 0,void 0,function(){var o,i;return pe(this,function(s){switch(s.label){case 0:Id.preProcess(this.cacheManager,t),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.networkClient.sendPostRequestAsync(e,r)];case 2:return o=s.sent(),[3,4];case 3:throw(i=s.sent())instanceof re?i:Y.createNetworkError(e,i);case 4:return Id.postProcess(this.cacheManager,t,o),[2,o]}})})},n}(),Fi=function(){function n(){}return n.validateRedirectUri=function(t){if(z.isEmpty(t))throw ut.createRedirectUriEmptyError()},n.validatePrompt=function(t){var e=[];for(var r in yn)e.push(yn[r]);if(e.indexOf(t)<0)throw ut.createInvalidPromptError(t)},n.validateClaims=function(t){try{JSON.parse(t)}catch{throw ut.createInvalidClaimsRequestError()}},n.validateCodeChallengeParams=function(t,e){if(z.isEmpty(t)||z.isEmpty(e))throw ut.createInvalidCodeChallengeParamsError();this.validateCodeChallengeMethod(e)},n.validateCodeChallengeMethod=function(t){if([q0.PLAIN,q0.S256].indexOf(t)<0)throw ut.createInvalidCodeChallengeMethodError()},n.sanitizeEQParams=function(t,e){return t?(e.forEach(function(r,o){t[o]&&delete t[o]}),Object.fromEntries(Object.entries(t).filter(function(r){return""!==r[1]}))):{}},n}(),Gc=function(){function n(){this.parameters=new Map}return n.prototype.addResponseTypeCode=function(){this.parameters.set(ve.RESPONSE_TYPE,encodeURIComponent(b.CODE_RESPONSE_TYPE))},n.prototype.addResponseTypeForTokenAndIdToken=function(){this.parameters.set(ve.RESPONSE_TYPE,encodeURIComponent(b.TOKEN_RESPONSE_TYPE+" "+b.ID_TOKEN_RESPONSE_TYPE))},n.prototype.addResponseMode=function(t){this.parameters.set(ve.RESPONSE_MODE,encodeURIComponent(t||hc.QUERY))},n.prototype.addNativeBroker=function(){this.parameters.set(ve.NATIVE_BROKER,encodeURIComponent("1"))},n.prototype.addScopes=function(t,e){void 0===e&&(e=!0);var r=e?Yl(t||[],lc):t||[],o=new on(r);this.parameters.set(ve.SCOPE,encodeURIComponent(o.printScopes()))},n.prototype.addClientId=function(t){this.parameters.set(ve.CLIENT_ID,encodeURIComponent(t))},n.prototype.addRedirectUri=function(t){Fi.validateRedirectUri(t),this.parameters.set(ve.REDIRECT_URI,encodeURIComponent(t))},n.prototype.addPostLogoutRedirectUri=function(t){Fi.validateRedirectUri(t),this.parameters.set(ve.POST_LOGOUT_URI,encodeURIComponent(t))},n.prototype.addIdTokenHint=function(t){this.parameters.set(ve.ID_TOKEN_HINT,encodeURIComponent(t))},n.prototype.addDomainHint=function(t){this.parameters.set(Us.DOMAIN_HINT,encodeURIComponent(t))},n.prototype.addLoginHint=function(t){this.parameters.set(Us.LOGIN_HINT,encodeURIComponent(t))},n.prototype.addCcsUpn=function(t){this.parameters.set(jn.CCS_HEADER,encodeURIComponent("UPN:"+t))},n.prototype.addCcsOid=function(t){this.parameters.set(jn.CCS_HEADER,encodeURIComponent("Oid:"+t.uid+"@"+t.utid))},n.prototype.addSid=function(t){this.parameters.set(Us.SID,encodeURIComponent(t))},n.prototype.addClaims=function(t,e){var r=this.addClientCapabilitiesToClaims(t,e);Fi.validateClaims(r),this.parameters.set(ve.CLAIMS,encodeURIComponent(r))},n.prototype.addCorrelationId=function(t){this.parameters.set(ve.CLIENT_REQUEST_ID,encodeURIComponent(t))},n.prototype.addLibraryInfo=function(t){this.parameters.set(ve.X_CLIENT_SKU,t.sku),this.parameters.set(ve.X_CLIENT_VER,t.version),t.os&&this.parameters.set(ve.X_CLIENT_OS,t.os),t.cpu&&this.parameters.set(ve.X_CLIENT_CPU,t.cpu)},n.prototype.addApplicationTelemetry=function(t){t?.appName&&this.parameters.set(ve.X_APP_NAME,t.appName),t?.appVersion&&this.parameters.set(ve.X_APP_VER,t.appVersion)},n.prototype.addPrompt=function(t){Fi.validatePrompt(t),this.parameters.set(""+ve.PROMPT,encodeURIComponent(t))},n.prototype.addState=function(t){z.isEmpty(t)||this.parameters.set(ve.STATE,encodeURIComponent(t))},n.prototype.addNonce=function(t){this.parameters.set(ve.NONCE,encodeURIComponent(t))},n.prototype.addCodeChallengeParams=function(t,e){if(Fi.validateCodeChallengeParams(t,e),!t||!e)throw ut.createInvalidCodeChallengeParamsError();this.parameters.set(ve.CODE_CHALLENGE,encodeURIComponent(t)),this.parameters.set(ve.CODE_CHALLENGE_METHOD,encodeURIComponent(e))},n.prototype.addAuthorizationCode=function(t){this.parameters.set(ve.CODE,encodeURIComponent(t))},n.prototype.addDeviceCode=function(t){this.parameters.set(ve.DEVICE_CODE,encodeURIComponent(t))},n.prototype.addRefreshToken=function(t){this.parameters.set(ve.REFRESH_TOKEN,encodeURIComponent(t))},n.prototype.addCodeVerifier=function(t){this.parameters.set(ve.CODE_VERIFIER,encodeURIComponent(t))},n.prototype.addClientSecret=function(t){this.parameters.set(ve.CLIENT_SECRET,encodeURIComponent(t))},n.prototype.addClientAssertion=function(t){z.isEmpty(t)||this.parameters.set(ve.CLIENT_ASSERTION,encodeURIComponent(t))},n.prototype.addClientAssertionType=function(t){z.isEmpty(t)||this.parameters.set(ve.CLIENT_ASSERTION_TYPE,encodeURIComponent(t))},n.prototype.addOboAssertion=function(t){this.parameters.set(ve.OBO_ASSERTION,encodeURIComponent(t))},n.prototype.addRequestTokenUse=function(t){this.parameters.set(ve.REQUESTED_TOKEN_USE,encodeURIComponent(t))},n.prototype.addGrantType=function(t){this.parameters.set(ve.GRANT_TYPE,encodeURIComponent(t))},n.prototype.addClientInfo=function(){this.parameters.set("client_info","1")},n.prototype.addExtraQueryParameters=function(t){var e=this,r=Fi.sanitizeEQParams(t,this.parameters);Object.keys(r).forEach(function(o){e.parameters.set(o,t[o])})},n.prototype.addClientCapabilitiesToClaims=function(t,e){var r;if(t)try{r=JSON.parse(t)}catch{throw ut.createInvalidClaimsRequestError()}else r={};return e&&e.length>0&&(r.hasOwnProperty(Ti.ACCESS_TOKEN)||(r[Ti.ACCESS_TOKEN]={}),r[Ti.ACCESS_TOKEN][Ti.XMS_CC]={values:e}),JSON.stringify(r)},n.prototype.addUsername=function(t){this.parameters.set(mc.username,encodeURIComponent(t))},n.prototype.addPassword=function(t){this.parameters.set(mc.password,encodeURIComponent(t))},n.prototype.addPopToken=function(t){z.isEmpty(t)||(this.parameters.set(ve.TOKEN_TYPE,je.POP),this.parameters.set(ve.REQ_CNF,encodeURIComponent(t)))},n.prototype.addSshJwk=function(t){z.isEmpty(t)||(this.parameters.set(ve.TOKEN_TYPE,je.SSH),this.parameters.set(ve.REQ_CNF,encodeURIComponent(t)))},n.prototype.addServerTelemetry=function(t){this.parameters.set(ve.X_CLIENT_CURR_TELEM,t.generateCurrentRequestHeaderValue()),this.parameters.set(ve.X_CLIENT_LAST_TELEM,t.generateLastRequestHeaderValue())},n.prototype.addThrottling=function(){this.parameters.set(ve.X_MS_LIB_CAPABILITY,"retry-after, h429")},n.prototype.addLogoutHint=function(t){this.parameters.set(ve.LOGOUT_HINT,encodeURIComponent(t))},n.prototype.createQueryString=function(){var t=new Array;return this.parameters.forEach(function(e,r){t.push(r+"="+e)}),t.join("&")},n}(),mm=function(){function n(t,e){this.config=function aj(n){var t=n.authOptions,e=n.systemOptions,r=n.loggerOptions,o=n.storageInterface,i=n.networkInterface,s=n.cryptoInterface,a=n.clientCredentials,c=n.libraryInfo,u=n.telemetry,l=n.serverTelemetryManager,d=n.persistencePlugin,h=n.serializableCache,g=Ke(Ke({},tj),r);return{authOptions:cj(t),systemOptions:Ke(Ke({},WS),e),loggerOptions:g,storageInterface:o||new JB(t.clientId,Ed),networkInterface:i||nj,cryptoInterface:s||Ed,clientCredentials:a||oj,libraryInfo:Ke(Ke({},rj),c),telemetry:Ke(Ke({},sj),u),serverTelemetryManager:l||null,persistencePlugin:d||null,serializableCache:h||null}}(t),this.logger=new _T(this.config.loggerOptions,"@azure/msal-common","11.0.0"),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.networkManager=new mj(this.networkClient,this.cacheManager),this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=e}return n.prototype.createTokenRequestHeaders=function(t){var e={};if(e[jn.CONTENT_TYPE]=b.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&t)switch(t.type){case zn.HOME_ACCOUNT_ID:try{var r=Gs(t.credential);e[jn.CCS_HEADER]="Oid:"+r.uid+"@"+r.utid}catch(o){this.logger.verbose("Could not parse home account ID for CCS Header: "+o)}break;case zn.UPN:e[jn.CCS_HEADER]="UPN: "+t.credential}return e},n.prototype.executePostToTokenEndpoint=function(t,e,r,o){return fe(this,void 0,void 0,function(){var i;return pe(this,function(s){switch(s.label){case 0:return[4,this.networkManager.sendPostRequest(o,t,{body:e,headers:r})];case 1:return i=s.sent(),this.config.serverTelemetryManager&&i.status<500&&429!==i.status&&this.config.serverTelemetryManager.clearTelemetryCache(),[2,i]}})})},n.prototype.updateAuthority=function(t){if(!t.discoveryComplete())throw Y.createEndpointDiscoveryIncompleteError("Updated authority has not completed endpoint discovery.");this.authority=t},n.prototype.createTokenQueryParameters=function(t){var e=new Gc;return t.tokenQueryParameters&&e.addExtraQueryParameters(t.tokenQueryParameters),e.createQueryString()},n}(),Ad=function n(t,e,r,o,i){this.account=t||null,this.idToken=e||null,this.accessToken=r||null,this.refreshToken=o||null,this.appMetadata=i||null},Dd=(()=>{return(n=Dd||(Dd={})).SW="sw",n.UHW="uhw",Dd;var n})(),Ws=function(){function n(t,e){this.cryptoUtils=t,this.performanceClient=e}return n.prototype.generateCnf=function(t){var e,r;return fe(this,void 0,void 0,function(){var o,i,s;return pe(this,function(a){switch(a.label){case 0:return null===(e=this.performanceClient)||void 0===e||e.addQueueMeasurement(k.PopTokenGenerateCnf,t.correlationId),null===(r=this.performanceClient)||void 0===r||r.setPreQueueTime(k.PopTokenGenerateKid,t.correlationId),[4,this.generateKid(t)];case 1:return o=a.sent(),i=this.cryptoUtils.base64Encode(JSON.stringify(o)),s={kid:o.kid,reqCnfString:i},[4,this.cryptoUtils.hashString(i)];case 2:return[2,(s.reqCnfHash=a.sent(),s)]}})})},n.prototype.generateKid=function(t){var e;return fe(this,void 0,void 0,function(){return pe(this,function(o){switch(o.label){case 0:return null===(e=this.performanceClient)||void 0===e||e.addQueueMeasurement(k.PopTokenGenerateKid,t.correlationId),[4,this.cryptoUtils.getPublicKeyThumbprint(t)];case 1:return[2,{kid:o.sent(),xms_ksl:Dd.SW}]}})})},n.prototype.signPopToken=function(t,e,r){return fe(this,void 0,void 0,function(){return pe(this,function(o){return[2,this.signPayload(t,e,r)]})})},n.prototype.signPayload=function(t,e,r,o){return fe(this,void 0,void 0,function(){var i,s,a,c,u,l;return pe(this,function(d){switch(d.label){case 0:return i=r.resourceRequestMethod,a=r.shrClaims,c=r.shrNonce,u=(s=r.resourceRequestUri)?new Ne(s):void 0,l=u?.getUrlComponents(),[4,this.cryptoUtils.signJwt(Ke({at:t,ts:wr.nowSeconds(),m:i?.toUpperCase(),u:l?.HostNameAndPort,nonce:c||this.cryptoUtils.createNewGuid(),p:l?.AbsolutePath,q:l?.QueryString?[[],l.QueryString]:void 0,client_claims:a||void 0},o),e,r.correlationId)];case 1:return[2,d.sent()]}})})},n}(),vj=function(){function n(t,e){this.cache=t,this.hasChanged=e}return Object.defineProperty(n.prototype,"cacheHasChanged",{get:function(){return this.hasChanged},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"tokenCache",{get:function(){return this.cache},enumerable:!1,configurable:!0}),n}(),Md=function(){function n(t,e,r,o,i,s,a){this.clientId=t,this.cacheStorage=e,this.cryptoObj=r,this.logger=o,this.serializableCache=i,this.persistencePlugin=s,this.performanceClient=a}return n.prototype.validateServerAuthorizationCodeResponse=function(t,e,r){if(!t.state||!e)throw Y.createStateNotFoundError(t.state?"Cached State":"Server State");if(decodeURIComponent(t.state)!==decodeURIComponent(e))throw Y.createStateMismatchError();if(t.error||t.error_description||t.suberror)throw Cr.isInteractionRequiredError(t.error,t.error_description,t.suberror)?new Cr(t.error||b.EMPTY_STRING,t.error_description,t.suberror,t.timestamp||b.EMPTY_STRING,t.trace_id||b.EMPTY_STRING,t.correlation_id||b.EMPTY_STRING,t.claims||b.EMPTY_STRING):new xi(t.error||b.EMPTY_STRING,t.error_description,t.suberror);t.client_info&&bd(t.client_info,r)},n.prototype.validateTokenResponse=function(t){if(t.error||t.error_description||t.suberror){if(Cr.isInteractionRequiredError(t.error,t.error_description,t.suberror))throw new Cr(t.error,t.error_description,t.suberror,t.timestamp||b.EMPTY_STRING,t.trace_id||b.EMPTY_STRING,t.correlation_id||b.EMPTY_STRING,t.claims||b.EMPTY_STRING);throw new xi(t.error,t.error_codes+" - ["+t.timestamp+"]: "+t.error_description+" - Correlation ID: "+t.correlation_id+" - Trace ID: "+t.trace_id,t.suberror)}},n.prototype.handleServerTokenResponse=function(t,e,r,o,i,s,a,c,u){var l;return fe(this,void 0,void 0,function(){var d,h,g,m,E,S;return pe(this,function(N){switch(N.label){case 0:if(null===(l=this.performanceClient)||void 0===l||l.addQueueMeasurement(k.HandleServerTokenResponse,t.correlation_id),t.id_token){if(d=new co(t.id_token||b.EMPTY_STRING,this.cryptoObj),i&&!z.isEmpty(i.nonce)&&d.claims.nonce!==i.nonce)throw Y.createNonceMismatchError();if(o.maxAge||0===o.maxAge){if(!(h=d.claims.auth_time))throw Y.createAuthTimeNotFoundError();co.checkMaxAge(h,o.maxAge)}}this.homeAccountIdentifier=rn.generateHomeAccountId(t.client_info||b.EMPTY_STRING,e.authorityType,this.logger,this.cryptoObj,d),!!i&&!!i.state&&(g=Po.parseRequestState(this.cryptoObj,i.state)),t.key_id=t.key_id||o.sshKid||void 0,m=this.generateCacheRecord(t,e,r,o,d,s,i),N.label=1;case 1:return N.trys.push([1,,5,8]),this.persistencePlugin&&this.serializableCache?(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),E=new vj(this.serializableCache,!0),[4,this.persistencePlugin.beforeCacheAccess(E)]):[3,3];case 2:N.sent(),N.label=3;case 3:return a&&!c&&m.account&&(S=m.account.generateAccountKey(),!this.cacheStorage.getAccount(S))?(this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),[2,n.generateAuthenticationResult(this.cryptoObj,e,m,!1,o,d,g,void 0,u)]):[4,this.cacheStorage.saveCacheRecord(m)];case 4:return N.sent(),[3,8];case 5:return this.persistencePlugin&&this.serializableCache&&E?(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),[4,this.persistencePlugin.afterCacheAccess(E)]):[3,7];case 6:N.sent(),N.label=7;case 7:return[7];case 8:return[2,n.generateAuthenticationResult(this.cryptoObj,e,m,!1,o,d,g,t,u)]}})})},n.prototype.generateCacheRecord=function(t,e,r,o,i,s,a){var u,l,c=e.getPreferredCache();if(z.isEmpty(c))throw Y.createInvalidCacheEnvironmentError();!z.isEmpty(t.id_token)&&i&&(u=Vc.createIdTokenEntity(this.homeAccountIdentifier,c,t.id_token||b.EMPTY_STRING,this.clientId,i.claims.tid||b.EMPTY_STRING),l=this.generateAccountEntity(t,i,e,a));var d=null;if(!z.isEmpty(t.access_token)){var h=t.scope?on.fromString(t.scope):new on(o.scopes||[]),g=("string"==typeof t.expires_in?parseInt(t.expires_in,10):t.expires_in)||0,m=("string"==typeof t.ext_expires_in?parseInt(t.ext_expires_in,10):t.ext_expires_in)||0,E=("string"==typeof t.refresh_in?parseInt(t.refresh_in,10):t.refresh_in)||void 0,S=r+g,T=S+m,N=E&&E>0?r+E:void 0;d=Bc.createAccessTokenEntity(this.homeAccountIdentifier,c,t.access_token||b.EMPTY_STRING,this.clientId,i?i.claims.tid||b.EMPTY_STRING:e.tenant,h.printScopes(),S,T,this.cryptoObj,N,t.token_type,s,t.key_id,o.claims,o.requestedClaimsHash)}var D=null;z.isEmpty(t.refresh_token)||(D=Td.createRefreshTokenEntity(this.homeAccountIdentifier,c,t.refresh_token||b.EMPTY_STRING,this.clientId,t.foci,s));var J=null;return z.isEmpty(t.foci)||(J=dm.createAppMetadataEntity(this.clientId,c,t.foci)),new Ad(l,u,d,D,J)},n.prototype.generateAccountEntity=function(t,e,r,o){var s=o?o.cloud_graph_host_name:b.EMPTY_STRING,a=o?o.msgraph_host:b.EMPTY_STRING;if(r.authorityType===sr.Adfs)return this.logger.verbose("Authority type is ADFS, creating ADFS account"),rn.createGenericAccount(this.homeAccountIdentifier,e,r,s,a);if(z.isEmpty(t.client_info)&&"AAD"===r.protocolMode)throw Y.createClientInfoEmptyError();return t.client_info?rn.createAccount(t.client_info,this.homeAccountIdentifier,e,r,s,a):rn.createGenericAccount(this.homeAccountIdentifier,e,r,s,a)},n.generateAuthenticationResult=function(t,e,r,o,i,s,a,c,u){var l,d,h;return fe(this,void 0,void 0,function(){var g,m,E,S,T,N,D,J,ge,Fe,Er;return pe(this,function(Gt){switch(Gt.label){case 0:if(g=b.EMPTY_STRING,m=[],E=null,T=b.EMPTY_STRING,!r.accessToken)return[3,4];if(r.accessToken.tokenType!==je.POP)return[3,2];if(N=new Ws(t),J=(D=r.accessToken).secret,!(ge=D.keyId))throw Y.createKeyIdMissingError();return[4,N.signPopToken(J,ge,i)];case 1:return g=Gt.sent(),[3,3];case 2:g=r.accessToken.secret,Gt.label=3;case 3:m=on.fromString(r.accessToken.target).asArray(),E=new Date(1e3*Number(r.accessToken.expiresOn)),S=new Date(1e3*Number(r.accessToken.extendedExpiresOn)),Gt.label=4;case 4:return r.appMetadata&&(T="1"===r.appMetadata.familyId?"1":b.EMPTY_STRING),Fe=s?.claims.oid||s?.claims.sub||b.EMPTY_STRING,Er=s?.claims.tid||b.EMPTY_STRING,c?.spa_accountid&&!!r.account&&(r.account.nativeAccountId=c?.spa_accountid),[2,{authority:e.canonicalAuthority,uniqueId:Fe,tenantId:Er,scopes:m,account:r.account?r.account.getAccountInfo():null,idToken:s?s.rawToken:b.EMPTY_STRING,idTokenClaims:s?s.claims:{},accessToken:g,fromCache:o,expiresOn:E,correlationId:i.correlationId,requestId:u||b.EMPTY_STRING,extExpiresOn:S,familyId:T,tokenType:(null===(l=r.accessToken)||void 0===l?void 0:l.tokenType)||b.EMPTY_STRING,state:a?a.userRequestState:b.EMPTY_STRING,cloudGraphHostName:(null===(d=r.account)||void 0===d?void 0:d.cloudGraphHostName)||b.EMPTY_STRING,msGraphHost:(null===(h=r.account)||void 0===h?void 0:h.msGraphHost)||b.EMPTY_STRING,code:c?.spa_code,fromNativeBroker:!1}]}})})},n}(),KS=function(n){function t(e,r){var o=n.call(this,e,r)||this;return o.includeRedirectUri=!0,o}return Bn(t,n),t.prototype.getAuthCodeUrl=function(e){var r,o;return fe(this,void 0,void 0,function(){var i;return pe(this,function(s){switch(s.label){case 0:return null===(r=this.performanceClient)||void 0===r||r.addQueueMeasurement(k.GetAuthCodeUrl,e.correlationId),null===(o=this.performanceClient)||void 0===o||o.setPreQueueTime(k.AuthClientCreateQueryString,e.correlationId),[4,this.createAuthCodeUrlQueryString(e)];case 1:return i=s.sent(),[2,Ne.appendQueryString(this.authority.authorizationEndpoint,i)]}})})},t.prototype.acquireToken=function(e,r){var o,i,s,a,c,u;return fe(this,void 0,void 0,function(){var l,d,h,g,m,E,S=this;return pe(this,function(T){switch(T.label){case 0:if(!e||!e.code)throw Y.createTokenRequestCannotBeMadeError();return null===(o=this.performanceClient)||void 0===o||o.addQueueMeasurement(k.AuthClientAcquireToken,e.correlationId),l=null===(i=this.performanceClient)||void 0===i?void 0:i.startMeasurement("AuthCodeClientAcquireToken",e.correlationId),this.logger.info("in acquireToken call in auth-code client"),d=wr.nowSeconds(),null===(s=this.performanceClient)||void 0===s||s.setPreQueueTime(k.AuthClientExecuteTokenRequest,e.correlationId),[4,this.executeTokenRequest(this.authority,e)];case 1:return h=T.sent(),g=null===(a=h.headers)||void 0===a?void 0:a[jn.X_MS_REQUEST_ID],(m=null===(c=h.headers)||void 0===c?void 0:c[jn.X_MS_HTTP_VERSION])&&l?.addStaticFields({httpVerAuthority:m}),(E=new Md(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient)).validateTokenResponse(h.body),null===(u=this.performanceClient)||void 0===u||u.setPreQueueTime(k.HandleServerTokenResponse,e.correlationId),[2,E.handleServerTokenResponse(h.body,this.authority,d,e,r,void 0,void 0,void 0,g).then(function(N){return l?.endMeasurement({success:!0}),N}).catch(function(N){throw S.logger.verbose("Error in fetching token in ACC",e.correlationId),l?.endMeasurement({errorCode:N.errorCode,subErrorCode:N.subError,success:!1}),N})]}})})},t.prototype.handleFragmentResponse=function(e,r){var o=new Md(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,null,null),i=new Ne(e),s=Ne.getDeserializedHash(i.getHash());if(o.validateServerAuthorizationCodeResponse(s,r,this.cryptoUtils),!s.code)throw Y.createNoAuthCodeInServerResponseError();return Ke(Ke({},s),{code:s.code})},t.prototype.getLogoutUri=function(e){if(!e)throw ut.createEmptyLogoutRequestError();var r=this.createLogoutUrlQueryString(e);return Ne.appendQueryString(this.authority.endSessionEndpoint,r)},t.prototype.executeTokenRequest=function(e,r){var o,i;return fe(this,void 0,void 0,function(){var s,a,c,u,l,d;return pe(this,function(g){switch(g.label){case 0:return null===(o=this.performanceClient)||void 0===o||o.addQueueMeasurement(k.AuthClientExecuteTokenRequest,r.correlationId),null===(i=this.performanceClient)||void 0===i||i.setPreQueueTime(k.AuthClientCreateTokenRequestBody,r.correlationId),s=this.createTokenQueryParameters(r),a=Ne.appendQueryString(e.tokenEndpoint,s),[4,this.createTokenRequestBody(r)];case 1:if(c=g.sent(),u=void 0,r.clientInfo)try{l=bd(r.clientInfo,this.cryptoUtils),u={credential:""+l.uid+Nn.CLIENT_INFO_SEPARATOR+l.utid,type:zn.HOME_ACCOUNT_ID}}catch(m){this.logger.verbose("Could not parse client info for CCS Header: "+m)}return d=this.createTokenRequestHeaders(u||r.ccsCredential),[2,this.executePostToTokenEndpoint(a,c,d,{clientId:this.config.authOptions.clientId,authority:e.canonicalAuthority,scopes:r.scopes,claims:r.claims,authenticationScheme:r.authenticationScheme,resourceRequestMethod:r.resourceRequestMethod,resourceRequestUri:r.resourceRequestUri,shrClaims:r.shrClaims,sshKid:r.sshKid})]}})})},t.prototype.createTokenRequestBody=function(e){var r,o;return fe(this,void 0,void 0,function(){var i,s,a,c,u,l,d,h;return pe(this,function(g){switch(g.label){case 0:return null===(r=this.performanceClient)||void 0===r||r.addQueueMeasurement(k.AuthClientCreateTokenRequestBody,e.correlationId),(i=new Gc).addClientId(this.config.authOptions.clientId),this.includeRedirectUri?i.addRedirectUri(e.redirectUri):Fi.validateRedirectUri(e.redirectUri),i.addScopes(e.scopes),i.addAuthorizationCode(e.code),i.addLibraryInfo(this.config.libraryInfo),i.addApplicationTelemetry(this.config.telemetry.application),i.addThrottling(),this.serverTelemetryManager&&i.addServerTelemetry(this.serverTelemetryManager),e.codeVerifier&&i.addCodeVerifier(e.codeVerifier),this.config.clientCredentials.clientSecret&&i.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion&&(i.addClientAssertion((s=this.config.clientCredentials.clientAssertion).assertion),i.addClientAssertionType(s.assertionType)),i.addGrantType(fc.AUTHORIZATION_CODE_GRANT),i.addClientInfo(),e.authenticationScheme!==je.POP?[3,2]:(a=new Ws(this.cryptoUtils,this.performanceClient),null===(o=this.performanceClient)||void 0===o||o.setPreQueueTime(k.PopTokenGenerateCnf,e.correlationId),[4,a.generateCnf(e)]);case 1:return c=g.sent(),i.addPopToken(c.reqCnfString),[3,3];case 2:if(e.authenticationScheme===je.SSH){if(!e.sshJwk)throw ut.createMissingSshJwkError();i.addSshJwk(e.sshJwk)}g.label=3;case 3:if(u=e.correlationId||this.config.cryptoInterface.createNewGuid(),i.addCorrelationId(u),(!z.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&i.addClaims(e.claims,this.config.authOptions.clientCapabilities),l=void 0,e.clientInfo)try{d=bd(e.clientInfo,this.cryptoUtils),l={credential:""+d.uid+Nn.CLIENT_INFO_SEPARATOR+d.utid,type:zn.HOME_ACCOUNT_ID}}catch(m){this.logger.verbose("Could not parse client info for CCS Header: "+m)}else l=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&l)switch(l.type){case zn.HOME_ACCOUNT_ID:try{d=Gs(l.credential),i.addCcsOid(d)}catch(m){this.logger.verbose("Could not parse home account ID for CCS Header: "+m)}break;case zn.UPN:i.addCcsUpn(l.credential)}return e.tokenBodyParameters&&i.addExtraQueryParameters(e.tokenBodyParameters),e.enableSpaAuthorizationCode&&(!e.tokenBodyParameters||!e.tokenBodyParameters[ve.RETURN_SPA_CODE])&&i.addExtraQueryParameters(((h={})[ve.RETURN_SPA_CODE]="1",h)),[2,i.createQueryString()]}})})},t.prototype.createAuthCodeUrlQueryString=function(e){var r;return fe(this,void 0,void 0,function(){var o,i,s,a,c,u,d;return pe(this,function(h){switch(h.label){case 0:if(null===(r=this.performanceClient)||void 0===r||r.addQueueMeasurement(k.AuthClientCreateQueryString,e.correlationId),(o=new Gc).addClientId(this.config.authOptions.clientId),i=Yl(e.scopes||[],e.extraScopesToConsent||[]),o.addScopes(i),o.addRedirectUri(e.redirectUri),s=e.correlationId||this.config.cryptoInterface.createNewGuid(),o.addCorrelationId(s),o.addResponseMode(e.responseMode),o.addResponseTypeCode(),o.addLibraryInfo(this.config.libraryInfo),o.addApplicationTelemetry(this.config.telemetry.application),o.addClientInfo(),e.codeChallenge&&e.codeChallengeMethod&&o.addCodeChallengeParams(e.codeChallenge,e.codeChallengeMethod),e.prompt&&o.addPrompt(e.prompt),e.domainHint&&o.addDomainHint(e.domainHint),e.prompt!==yn.SELECT_ACCOUNT)if(e.sid&&e.prompt===yn.NONE)this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),o.addSid(e.sid);else if(e.account){if(a=this.extractAccountSid(e.account),c=this.extractLoginHint(e.account)){this.logger.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),o.addLoginHint(c);try{u=Gs(e.account.homeAccountId),o.addCcsOid(u)}catch{this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(a&&e.prompt===yn.NONE){this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),o.addSid(a);try{u=Gs(e.account.homeAccountId),o.addCcsOid(u)}catch{this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(e.loginHint)this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),o.addLoginHint(e.loginHint),o.addCcsUpn(e.loginHint);else if(e.account.username){this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),o.addLoginHint(e.account.username);try{u=Gs(e.account.homeAccountId),o.addCcsOid(u)}catch{this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else e.loginHint&&(this.logger.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),o.addLoginHint(e.loginHint),o.addCcsUpn(e.loginHint));else this.logger.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");return e.nonce&&o.addNonce(e.nonce),e.state&&o.addState(e.state),(!z.isEmpty(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&o.addClaims(e.claims,this.config.authOptions.clientCapabilities),e.extraQueryParameters&&o.addExtraQueryParameters(e.extraQueryParameters),e.nativeBroker?(o.addNativeBroker(),e.authenticationScheme!==je.POP?[3,2]:[4,new Ws(this.cryptoUtils).generateCnf(e)]):[3,2];case 1:d=h.sent(),o.addPopToken(d.reqCnfHash),h.label=2;case 2:return[2,o.createQueryString()]}})})},t.prototype.createLogoutUrlQueryString=function(e){var r=new Gc;return e.postLogoutRedirectUri&&r.addPostLogoutRedirectUri(e.postLogoutRedirectUri),e.correlationId&&r.addCorrelationId(e.correlationId),e.idTokenHint&&r.addIdTokenHint(e.idTokenHint),e.state&&r.addState(e.state),e.logoutHint&&r.addLogoutHint(e.logoutHint),e.extraQueryParameters&&r.addExtraQueryParameters(e.extraQueryParameters),r.createQueryString()},t.prototype.extractAccountSid=function(e){var r;return(null===(r=e.idTokenClaims)||void 0===r?void 0:r.sid)||null},t.prototype.extractLoginHint=function(e){var r;return(null===(r=e.idTokenClaims)||void 0===r?void 0:r.login_hint)||null},t}(mm);function yj(n){return n.hasOwnProperty("authorization_endpoint")&&n.hasOwnProperty("token_endpoint")&&n.hasOwnProperty("issuer")&&n.hasOwnProperty("jwks_uri")}var YS={"https://login.microsoftonline.com/common/":{token_endpoint:"https://login.microsoftonline.com/common/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.com/common/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.com/common/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.com/common/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.com/common/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.com/common/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.com",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pas.windows.net"},"https://login.chinacloudapi.cn/common/":{token_endpoint:"https://login.chinacloudapi.cn/common/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.chinacloudapi.cn/common/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://microsoftgraph.chinacloudapi.cn/oidc/userinfo",authorization_endpoint:"https://login.chinacloudapi.cn/common/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.chinacloudapi.cn/common/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.chinacloudapi.cn/common/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.chinacloudapi.cn/common/kerberos",tenant_region_scope:null,cloud_instance_name:"partner.microsoftonline.cn",cloud_graph_host_name:"graph.chinacloudapi.cn",msgraph_host:"microsoftgraph.chinacloudapi.cn",rbac_url:"https://pas.chinacloudapi.cn"},"https://login.microsoftonline.us/common/":{token_endpoint:"https://login.microsoftonline.us/common/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.us/common/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.us/common/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.us/common/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.us/common/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.us/common/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.us",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pasff.usgovcloudapi.net"},"https://login.microsoftonline.com/consumers/":{token_endpoint:"https://login.microsoftonline.com/consumers/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.com/consumers/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.com/9188040d-6c67-4c5b-b112-36a304b66dad/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.com/consumers/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.com/consumers/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.com/consumers/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.com/consumers/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.com",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pas.windows.net"},"https://login.chinacloudapi.cn/consumers/":{token_endpoint:"https://login.chinacloudapi.cn/consumers/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.chinacloudapi.cn/consumers/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.partner.microsoftonline.cn/9188040d-6c67-4c5b-b112-36a304b66dad/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://microsoftgraph.chinacloudapi.cn/oidc/userinfo",authorization_endpoint:"https://login.chinacloudapi.cn/consumers/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.chinacloudapi.cn/consumers/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.chinacloudapi.cn/consumers/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.chinacloudapi.cn/consumers/kerberos",tenant_region_scope:null,cloud_instance_name:"partner.microsoftonline.cn",cloud_graph_host_name:"graph.chinacloudapi.cn",msgraph_host:"microsoftgraph.chinacloudapi.cn",rbac_url:"https://pas.chinacloudapi.cn"},"https://login.microsoftonline.us/consumers/":{token_endpoint:"https://login.microsoftonline.us/consumers/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.us/consumers/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.us/9188040d-6c67-4c5b-b112-36a304b66dad/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.us/consumers/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.us/consumers/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.us/consumers/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.us/consumers/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.us",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pasff.usgovcloudapi.net"},"https://login.microsoftonline.com/organizations/":{token_endpoint:"https://login.microsoftonline.com/organizations/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.com/organizations/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.com/organizations/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.com/organizations/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.com/organizations/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.com/organizations/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.com",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pas.windows.net"},"https://login.chinacloudapi.cn/organizations/":{token_endpoint:"https://login.chinacloudapi.cn/organizations/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.chinacloudapi.cn/organizations/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://microsoftgraph.chinacloudapi.cn/oidc/userinfo",authorization_endpoint:"https://login.chinacloudapi.cn/organizations/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.chinacloudapi.cn/organizations/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.chinacloudapi.cn/organizations/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.chinacloudapi.cn/organizations/kerberos",tenant_region_scope:null,cloud_instance_name:"partner.microsoftonline.cn",cloud_graph_host_name:"graph.chinacloudapi.cn",msgraph_host:"microsoftgraph.chinacloudapi.cn",rbac_url:"https://pas.chinacloudapi.cn"},"https://login.microsoftonline.us/organizations/":{token_endpoint:"https://login.microsoftonline.us/organizations/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.us/organizations/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.us/organizations/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.us/organizations/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.us/organizations/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.us/organizations/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.us",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pasff.usgovcloudapi.net"}},JS={"https://login.microsoftonline.com/common/":{tenant_discovery_endpoint:"https://login.microsoftonline.com/common/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.chinacloudapi.cn/common/":{tenant_discovery_endpoint:"https://login.chinacloudapi.cn/common/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.microsoftonline.us/common/":{tenant_discovery_endpoint:"https://login.microsoftonline.us/common/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.microsoftonline.com/consumers/":{tenant_discovery_endpoint:"https://login.microsoftonline.com/consumers/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.chinacloudapi.cn/consumers/":{tenant_discovery_endpoint:"https://login.chinacloudapi.cn/consumers/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.microsoftonline.us/consumers/":{tenant_discovery_endpoint:"https://login.microsoftonline.us/consumers/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.microsoftonline.com/organizations/":{tenant_discovery_endpoint:"https://login.microsoftonline.com/organizations/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.chinacloudapi.cn/organizations/":{tenant_discovery_endpoint:"https://login.chinacloudapi.cn/organizations/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.microsoftonline.us/organizations/":{tenant_discovery_endpoint:"https://login.microsoftonline.us/organizations/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]}},wj=function(){function n(t,e,r){this.networkInterface=t,this.performanceClient=e,this.correlationId=r}return n.prototype.detectRegion=function(t,e){var r,o,i,s;return fe(this,void 0,void 0,function(){var a,c,u,l,d;return pe(this,function(h){switch(h.label){case 0:if(null===(r=this.performanceClient)||void 0===r||r.addQueueMeasurement(k.RegionDiscoveryDetectRegion,this.correlationId),a=t)return[3,8];c=n.IMDS_OPTIONS,h.label=1;case 1:return h.trys.push([1,6,,7]),null===(o=this.performanceClient)||void 0===o||o.setPreQueueTime(k.RegionDiscoveryGetRegionFromIMDS,this.correlationId),[4,this.getRegionFromIMDS(b.IMDS_VERSION,c)];case 2:return(u=h.sent()).status===Si.httpSuccess&&(a=u.body,e.region_source=Ro.IMDS),u.status!==Si.httpBadRequest?[3,5]:(null===(i=this.performanceClient)||void 0===i||i.setPreQueueTime(k.RegionDiscoveryGetCurrentVersion,this.correlationId),[4,this.getCurrentVersion(c)]);case 3:return(l=h.sent())?(null===(s=this.performanceClient)||void 0===s||s.setPreQueueTime(k.RegionDiscoveryGetRegionFromIMDS,this.correlationId),[4,this.getRegionFromIMDS(l,c)]):(e.region_source=Ro.FAILED_AUTO_DETECTION,[2,null]);case 4:(d=h.sent()).status===Si.httpSuccess&&(a=d.body,e.region_source=Ro.IMDS),h.label=5;case 5:return[3,7];case 6:return h.sent(),e.region_source=Ro.FAILED_AUTO_DETECTION,[2,null];case 7:return[3,9];case 8:e.region_source=Ro.ENVIRONMENT_VARIABLE,h.label=9;case 9:return a||(e.region_source=Ro.FAILED_AUTO_DETECTION),[2,a||null]}})})},n.prototype.getRegionFromIMDS=function(t,e){var r;return fe(this,void 0,void 0,function(){return pe(this,function(o){return null===(r=this.performanceClient)||void 0===r||r.addQueueMeasurement(k.RegionDiscoveryGetRegionFromIMDS,this.correlationId),[2,this.networkInterface.sendGetRequestAsync(b.IMDS_ENDPOINT+"?api-version="+t+"&format=text",e,b.IMDS_TIMEOUT)]})})},n.prototype.getCurrentVersion=function(t){var e;return fe(this,void 0,void 0,function(){var r;return pe(this,function(o){switch(o.label){case 0:null===(e=this.performanceClient)||void 0===e||e.addQueueMeasurement(k.RegionDiscoveryGetCurrentVersion,this.correlationId),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.networkInterface.sendGetRequestAsync(b.IMDS_ENDPOINT+"?format=json",t)];case 2:return(r=o.sent()).status===Si.httpBadRequest&&r.body&&r.body["newest-versions"]&&r.body["newest-versions"].length>0?[2,r.body["newest-versions"][0]]:[2,null];case 3:return o.sent(),[2,null];case 4:return[2]}})})},n.IMDS_OPTIONS={headers:{Metadata:"true"}},n}(),Rd=function(){function n(t,e,r,o,i,s,a){this.canonicalAuthority=t,this._canonicalAuthority.validateAsUri(),this.networkInterface=e,this.cacheManager=r,this.authorityOptions=o,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=i,this.performanceClient=s,this.correlationId=a,this.regionDiscovery=new wj(e,this.performanceClient,this.correlationId)}return Object.defineProperty(n.prototype,"authorityType",{get:function(){var t=this.canonicalAuthorityUrlComponents.PathSegments;if(t.length)switch(t[0].toLowerCase()){case b.ADFS:return sr.Adfs;case b.DSTS:return sr.Dsts}return sr.Default},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"protocolMode",{get:function(){return this.authorityOptions.protocolMode},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"options",{get:function(){return this.authorityOptions},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"canonicalAuthority",{get:function(){return this._canonicalAuthority.urlString},set:function(t){this._canonicalAuthority=new Ne(t),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"canonicalAuthorityUrlComponents",{get:function(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hostnameAndPort",{get:function(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"tenant",{get:function(){return this.canonicalAuthorityUrlComponents.PathSegments[0]},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"authorizationEndpoint",{get:function(){if(this.discoveryComplete()){var t=this.replacePath(this.metadata.authorization_endpoint);return this.replaceTenant(t)}throw Y.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"tokenEndpoint",{get:function(){if(this.discoveryComplete()){var t=this.replacePath(this.metadata.token_endpoint);return this.replaceTenant(t)}throw Y.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"deviceCodeEndpoint",{get:function(){if(this.discoveryComplete()){var t=this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));return this.replaceTenant(t)}throw Y.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"endSessionEndpoint",{get:function(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw Y.createLogoutNotSupportedError();var t=this.replacePath(this.metadata.end_session_endpoint);return this.replaceTenant(t)}throw Y.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"selfSignedJwtAudience",{get:function(){if(this.discoveryComplete()){var t=this.replacePath(this.metadata.issuer);return this.replaceTenant(t)}throw Y.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"jwksUri",{get:function(){if(this.discoveryComplete()){var t=this.replacePath(this.metadata.jwks_uri);return this.replaceTenant(t)}throw Y.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),n.prototype.replaceTenant=function(t){return t.replace(/{tenant}|{tenantid}/g,this.tenant)},n.prototype.replacePath=function(t){var e=t,o=new Ne(this.metadata.canonical_authority).getUrlComponents().PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach(function(s,a){var c=o[a];s!==c&&(e=e.replace("/"+c+"/","/"+s+"/"))}),e},Object.defineProperty(n.prototype,"defaultOpenIdConfigurationEndpoint",{get:function(){return this.authorityType===sr.Adfs||this.authorityType===sr.Dsts||this.protocolMode===jc.OIDC?this.canonicalAuthority+".well-known/openid-configuration":this.canonicalAuthority+"v2.0/.well-known/openid-configuration"},enumerable:!1,configurable:!0}),n.prototype.discoveryComplete=function(){return!!this.metadata},n.prototype.resolveEndpointsAsync=function(){var t,e,r;return fe(this,void 0,void 0,function(){var o,i,s,a;return pe(this,function(c){switch(c.label){case 0:return null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(k.AuthorityResolveEndpointsAsync,this.correlationId),(o=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort))||(o=new hm).updateCanonicalAuthority(this.canonicalAuthority),null===(e=this.performanceClient)||void 0===e||e.setPreQueueTime(k.AuthorityUpdateCloudDiscoveryMetadata,this.correlationId),[4,this.updateCloudDiscoveryMetadata(o)];case 1:return i=c.sent(),this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,o.preferred_network),null===(r=this.performanceClient)||void 0===r||r.setPreQueueTime(k.AuthorityUpdateEndpointMetadata,this.correlationId),[4,this.updateEndpointMetadata(o)];case 2:return s=c.sent(),i!==ir.CACHE&&s!==ir.CACHE&&(o.resetExpiresAt(),o.updateCanonicalAuthority(this.canonicalAuthority)),a=this.cacheManager.generateAuthorityMetadataCacheKey(o.preferred_cache),this.cacheManager.setAuthorityMetadata(a,o),this.metadata=o,[2]}})})},n.prototype.updateEndpointMetadata=function(t){var e,r,o,i,s,a;return fe(this,void 0,void 0,function(){var c,u;return pe(this,function(l){switch(l.label){case 0:return null===(e=this.performanceClient)||void 0===e||e.addQueueMeasurement(k.AuthorityUpdateEndpointMetadata,this.correlationId),(c=this.getEndpointMetadataFromConfig())?(t.updateEndpointMetadata(c,!1),[2,ir.CONFIG]):this.isAuthoritySameType(t)&&t.endpointsFromNetwork&&!t.isExpired()?[2,ir.CACHE]:(u=this.getEndpointMetadataFromHardcodedValues(),null===(r=this.performanceClient)||void 0===r||r.setPreQueueTime(k.AuthorityGetEndpointMetadataFromNetwork,this.correlationId),[4,this.getEndpointMetadataFromNetwork()]);case 1:return(c=l.sent())?null!==(o=this.authorityOptions.azureRegionConfiguration)&&void 0!==o&&o.azureRegion?(null===(i=this.performanceClient)||void 0===i||i.setPreQueueTime(k.AuthorityUpdateMetadataWithRegionalInformation,this.correlationId),[4,this.updateMetadataWithRegionalInformation(c)]):[3,3]:[3,4];case 2:c=l.sent(),l.label=3;case 3:return t.updateEndpointMetadata(c,!0),[2,ir.NETWORK];case 4:return u&&!this.authorityOptions.skipAuthorityMetadataCache?null!==(s=this.authorityOptions.azureRegionConfiguration)&&void 0!==s&&s.azureRegion?(null===(a=this.performanceClient)||void 0===a||a.setPreQueueTime(k.AuthorityUpdateMetadataWithRegionalInformation,this.correlationId),[4,this.updateMetadataWithRegionalInformation(u)]):[3,6]:[3,7];case 5:u=l.sent(),l.label=6;case 6:return t.updateEndpointMetadata(u,!1),[2,ir.HARDCODED_VALUES];case 7:throw Y.createUnableToGetOpenidConfigError(this.defaultOpenIdConfigurationEndpoint)}})})},n.prototype.isAuthoritySameType=function(t){return new Ne(t.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length},n.prototype.getEndpointMetadataFromConfig=function(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch{throw ut.createInvalidAuthorityMetadataError()}return null},n.prototype.getEndpointMetadataFromNetwork=function(){var t;return fe(this,void 0,void 0,function(){var e,r;return pe(this,function(o){switch(o.label){case 0:null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(k.AuthorityGetEndpointMetadataFromNetwork,this.correlationId),e={},o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.networkInterface.sendGetRequestAsync(this.defaultOpenIdConfigurationEndpoint,e)];case 2:return[2,yj((r=o.sent()).body)?r.body:null];case 3:return o.sent(),[2,null];case 4:return[2]}})})},n.prototype.getEndpointMetadataFromHardcodedValues=function(){return this.canonicalAuthority in YS?YS[this.canonicalAuthority]:null},n.prototype.updateMetadataWithRegionalInformation=function(t){var e,r,o,i,s,a,c;return fe(this,void 0,void 0,function(){var u,l;return pe(this,function(d){switch(d.label){case 0:return null===(e=this.performanceClient)||void 0===e||e.addQueueMeasurement(k.AuthorityUpdateMetadataWithRegionalInformation,this.correlationId),null===(r=this.performanceClient)||void 0===r||r.setPreQueueTime(k.RegionDiscoveryDetectRegion,this.correlationId),[4,this.regionDiscovery.detectRegion(null===(o=this.authorityOptions.azureRegionConfiguration)||void 0===o?void 0:o.environmentRegion,this.regionDiscoveryMetadata)];case 1:return u=d.sent(),l=(null===(i=this.authorityOptions.azureRegionConfiguration)||void 0===i?void 0:i.azureRegion)===b.AZURE_REGION_AUTO_DISCOVER_FLAG?u:null===(s=this.authorityOptions.azureRegionConfiguration)||void 0===s?void 0:s.azureRegion,this.regionDiscoveryMetadata.region_outcome=(null===(a=this.authorityOptions.azureRegionConfiguration)||void 0===a?void 0:a.azureRegion)===b.AZURE_REGION_AUTO_DISCOVER_FLAG?u?Qo.AUTO_DETECTION_REQUESTED_SUCCESSFUL:Qo.AUTO_DETECTION_REQUESTED_FAILED:u?(null===(c=this.authorityOptions.azureRegionConfiguration)||void 0===c?void 0:c.azureRegion)===u?Qo.CONFIGURED_MATCHES_DETECTED:Qo.CONFIGURED_NOT_DETECTED:Qo.CONFIGURED_NO_AUTO_DETECTION,l?(this.regionDiscoveryMetadata.region_used=l,[2,n.replaceWithRegionalInformation(t,l)]):[2,t]}})})},n.prototype.updateCloudDiscoveryMetadata=function(t){var e,r;return fe(this,void 0,void 0,function(){var o,i,s;return pe(this,function(a){switch(a.label){case 0:return null===(e=this.performanceClient)||void 0===e||e.addQueueMeasurement(k.AuthorityUpdateCloudDiscoveryMetadata,this.correlationId),this.logger.verbose("Attempting to get cloud discovery metadata in the config"),this.logger.verbosePii("Known Authorities: "+(this.authorityOptions.knownAuthorities||b.NOT_APPLICABLE)),this.logger.verbosePii("Authority Metadata: "+(this.authorityOptions.authorityMetadata||b.NOT_APPLICABLE)),this.logger.verbosePii("Canonical Authority: "+(t.canonical_authority||b.NOT_APPLICABLE)),(o=this.getCloudDiscoveryMetadataFromConfig())?(this.logger.verbose("Found cloud discovery metadata in the config."),t.updateCloudDiscoveryMetadata(o,!1),[2,ir.CONFIG]):(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the cache."),i=t.isExpired(),this.isAuthoritySameType(t)&&t.aliasesFromNetwork&&!i?(this.logger.verbose("Found metadata in the cache."),[2,ir.CACHE]):(i&&this.logger.verbose("The metadata entity is expired."),this.logger.verbose("Did not find cloud discovery metadata in the cache... Attempting to get cloud discovery metadata from the network."),null===(r=this.performanceClient)||void 0===r||r.setPreQueueTime(k.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.correlationId),[4,this.getCloudDiscoveryMetadataFromNetwork()]));case 1:if(o=a.sent())return this.logger.verbose("cloud discovery metadata was successfully returned from getCloudDiscoveryMetadataFromNetwork()"),t.updateCloudDiscoveryMetadata(o,!0),[2,ir.NETWORK];if(this.logger.verbose("Did not find cloud discovery metadata from the network... Attempting to get cloud discovery metadata from hardcoded values."),(s=this.getCloudDiscoveryMetadataFromHarcodedValues())&&!this.options.skipAuthorityMetadataCache)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),t.updateCloudDiscoveryMetadata(s,!1),[2,ir.HARDCODED_VALUES];throw this.logger.error("Did not find cloud discovery metadata from hardcoded values... Metadata could not be obtained from config, cache, network or hardcoded values. Throwing Untrusted Authority Error."),ut.createUntrustedAuthorityError()}})})},n.prototype.getCloudDiscoveryMetadataFromConfig=function(){if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");var t=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),e=n.getCloudDiscoveryMetadataFromNetworkResponse(t.metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),e)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),e;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch{throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),ut.createInvalidCloudDiscoveryMetadataError()}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),n.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null},n.prototype.getCloudDiscoveryMetadataFromNetwork=function(){var t;return fe(this,void 0,void 0,function(){var e,r,o,i,s,a,c,u;return pe(this,function(l){switch(l.label){case 0:null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(k.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.correlationId),e=""+b.AAD_INSTANCE_DISCOVERY_ENDPT+this.canonicalAuthority+"oauth2/v2.0/authorize",r={},o=null,l.label=1;case 1:return l.trys.push([1,3,,4]),[4,this.networkInterface.sendGetRequestAsync(e,r)];case 2:if(i=l.sent(),s=void 0,a=void 0,function _j(n){return n.hasOwnProperty("tenant_discovery_endpoint")&&n.hasOwnProperty("metadata")}(i.body))a=(s=i.body).metadata,this.logger.verbosePii("tenant_discovery_endpoint is: "+s.tenant_discovery_endpoint);else{if(!function Cj(n){return n.hasOwnProperty("error")&&n.hasOwnProperty("error_description")}(i.body))return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),[2,null];if(this.logger.warning("A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: "+i.status),(s=i.body).error===b.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),[2,null];this.logger.warning("The CloudInstanceDiscoveryErrorResponse error is "+s.error),this.logger.warning("The CloudInstanceDiscoveryErrorResponse error description is "+s.error_description),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),a=[]}return this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),o=n.getCloudDiscoveryMetadataFromNetworkResponse(a,this.hostnameAndPort),[3,4];case 3:return(c=l.sent())instanceof re?this.logger.error("There was a network error while attempting to get the cloud discovery instance metadata.\nError: "+c.errorCode+"\nError Description: "+c.errorMessage):this.logger.error("A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.\nError: "+(u=c).name+"\nError Description: "+u.message),[2,null];case 4:return o||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),o=n.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),[2,o]}})})},n.prototype.getCloudDiscoveryMetadataFromHarcodedValues=function(){return this.canonicalAuthority in JS?JS[this.canonicalAuthority]:null},n.prototype.isInKnownAuthorities=function(){var t=this;return this.authorityOptions.knownAuthorities.filter(function(r){return Ne.getDomainFromUrl(r).toLowerCase()===t.hostnameAndPort}).length>0},n.generateAuthority=function(t,e){var r;return e&&e.azureCloudInstance!==zs.None&&(r=e.azureCloudInstance+"/"+(e.tenant?e.tenant:b.DEFAULT_COMMON_TENANT)+"/"),r||t},n.createCloudDiscoveryMetadataFromHost=function(t){return{preferred_network:t,preferred_cache:t,aliases:[t]}},n.getCloudDiscoveryMetadataFromNetworkResponse=function(t,e){for(var r=0;r<t.length;r++){var o=t[r];if(o.aliases.indexOf(e)>-1)return o}return null},n.prototype.getPreferredCache=function(){if(this.discoveryComplete())return this.metadata.preferred_cache;throw Y.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},n.prototype.isAlias=function(t){return this.metadata.aliases.indexOf(t)>-1},n.isPublicCloudAuthority=function(t){return b.KNOWN_PUBLIC_CLOUDS.indexOf(t)>=0},n.buildRegionalAuthorityString=function(t,e,r){var o=new Ne(t);o.validateAsUri();var i=o.getUrlComponents(),s=e+"."+i.HostNameAndPort;this.isPublicCloudAuthority(i.HostNameAndPort)&&(s=e+"."+b.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX);var a=Ne.constructAuthorityUriFromObject(Ke(Ke({},o.getUrlComponents()),{HostNameAndPort:s})).urlString;return r?a+"?"+r:a},n.replaceWithRegionalInformation=function(t,e){return t.authorization_endpoint=n.buildRegionalAuthorityString(t.authorization_endpoint,e),t.token_endpoint=n.buildRegionalAuthorityString(t.token_endpoint,e,b.REGIONAL_AUTH_NON_MSI_QUERY_STRING),t.end_session_endpoint&&(t.end_session_endpoint=n.buildRegionalAuthorityString(t.end_session_endpoint,e)),t},n}(),kd=function(){function n(){}return n.createDiscoveredInstance=function(t,e,r,o,i,s,a){return fe(this,void 0,void 0,function(){var c,u;return pe(this,function(l){switch(l.label){case 0:s?.addQueueMeasurement(k.AuthorityFactoryCreateDiscoveredInstance,a),c=n.createInstance(t,e,r,o,i,s,a),l.label=1;case 1:return l.trys.push([1,3,,4]),s?.setPreQueueTime(k.AuthorityResolveEndpointsAsync,a),[4,c.resolveEndpointsAsync()];case 2:return l.sent(),[2,c];case 3:throw u=l.sent(),Y.createEndpointDiscoveryIncompleteError(u);case 4:return[2]}})})},n.createInstance=function(t,e,r,o,i,s,a){if(z.isEmpty(t))throw ut.createUrlEmptyError();return new Rd(t,e,r,o,i,s,a)},n}(),Ej=function(){function n(t,e){this.cacheOutcome=Yo.NO_CACHE_HIT,this.cacheManager=e,this.apiId=t.apiId,this.correlationId=t.correlationId,this.wrapperSKU=t.wrapperSKU||b.EMPTY_STRING,this.wrapperVer=t.wrapperVer||b.EMPTY_STRING,this.telemetryCacheKey=en.CACHE_KEY+Nn.CACHE_KEY_SEPARATOR+t.clientId}return n.prototype.generateCurrentRequestHeaderValue=function(){var t=""+this.apiId+en.VALUE_SEPARATOR+this.cacheOutcome,e=[this.wrapperSKU,this.wrapperVer].join(en.VALUE_SEPARATOR),o=[t,this.getRegionDiscoveryFields()].join(en.VALUE_SEPARATOR);return[en.SCHEMA_VERSION,o,e].join(en.CATEGORY_SEPARATOR)},n.prototype.generateLastRequestHeaderValue=function(){var t=this.getLastRequests(),e=n.maxErrorsToSend(t),r=t.failedRequests.slice(0,2*e).join(en.VALUE_SEPARATOR),o=t.errors.slice(0,e).join(en.VALUE_SEPARATOR),i=t.errors.length,a=[i,e<i?en.OVERFLOW_TRUE:en.OVERFLOW_FALSE].join(en.VALUE_SEPARATOR);return[en.SCHEMA_VERSION,t.cacheHits,r,o,a].join(en.CATEGORY_SEPARATOR)},n.prototype.cacheFailedRequest=function(t){var e=this.getLastRequests();e.errors.length>=en.MAX_CACHED_ERRORS&&(e.failedRequests.shift(),e.failedRequests.shift(),e.errors.shift()),e.failedRequests.push(this.apiId,this.correlationId),z.isEmpty(t.subError)?z.isEmpty(t.errorCode)?t&&t.toString()?e.errors.push(t.toString()):e.errors.push(en.UNKNOWN_ERROR):e.errors.push(t.errorCode):e.errors.push(t.subError),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e)},n.prototype.incrementCacheHits=function(){var t=this.getLastRequests();return t.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t),t.cacheHits},n.prototype.getLastRequests=function(){var t=new Sd;return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||t},n.prototype.clearTelemetryCache=function(){var t=this.getLastRequests(),e=n.maxErrorsToSend(t);if(e===t.errors.length)this.cacheManager.removeItem(this.telemetryCacheKey);else{var o=new Sd;o.failedRequests=t.failedRequests.slice(2*e),o.errors=t.errors.slice(e),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,o)}},n.maxErrorsToSend=function(t){var e,r=0,o=0,i=t.errors.length;for(e=0;e<i;e++){var a=t.failedRequests[2*e+1]||b.EMPTY_STRING,c=t.errors[e]||b.EMPTY_STRING;if(!((o+=(t.failedRequests[2*e]||b.EMPTY_STRING).toString().length+a.toString().length+c.length+3)<en.MAX_LAST_HEADER_BYTES))break;r+=1}return r},n.prototype.getRegionDiscoveryFields=function(){var t=[];return t.push(this.regionUsed||b.EMPTY_STRING),t.push(this.regionSource||b.EMPTY_STRING),t.push(this.regionOutcome||b.EMPTY_STRING),t.join(",")},n.prototype.updateRegionDiscoveryMetadata=function(t){this.regionUsed=t.region_used,this.regionSource=t.region_source,this.regionOutcome=t.region_outcome},n.prototype.setCacheOutcome=function(t){this.cacheOutcome=t},n}(),XS=function(){function n(t,e,r,o,i,s,a,c,u){this.config=t,this.browserStorage=e,this.browserCrypto=r,this.networkClient=this.config.system.networkClient,this.eventHandler=i,this.navigationClient=s,this.nativeMessageHandler=c,this.correlationId=u||this.browserCrypto.createNewGuid(),this.logger=o.clone("msal.js.browser",qc,this.correlationId),this.performanceClient=a}return n.prototype.clearCacheOnLogout=function(t){return x(this,void 0,void 0,function(){return F(this,function(e){switch(e.label){case 0:if(!t)return[3,5];rn.accountInfoIsEqual(t,this.browserStorage.getActiveAccount(),!1)&&(this.logger.verbose("Setting active account to null"),this.browserStorage.setActiveAccount(null)),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.browserStorage.removeAccount(rn.generateAccountCacheKey(t))];case 2:return e.sent(),this.logger.verbose("Cleared cache items belonging to the account provided in the logout request."),[3,4];case 3:return e.sent(),this.logger.error("Account provided in logout request was not found. Local cache unchanged."),[3,4];case 4:return[3,9];case 5:return e.trys.push([5,8,,9]),this.logger.verbose("No account provided in logout request, clearing all cache items.",this.correlationId),[4,this.browserStorage.clear()];case 6:return e.sent(),[4,this.browserCrypto.clearKeystore()];case 7:return e.sent(),[3,9];case 8:return e.sent(),this.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged."),[3,9];case 9:return[2]}})})},n.prototype.initializeBaseRequest=function(t){return x(this,void 0,void 0,function(){var e,r,o,i;return F(this,function(s){switch(s.label){case 0:if(this.performanceClient.addQueueMeasurement(k.InitializeBaseRequest,t.correlationId),this.logger.verbose("Initializing BaseAuthRequest"),e=t.authority||this.config.auth.authority,r=kg(t&&t.scopes||[]),(o=X(X({},t),{correlationId:this.correlationId,authority:e,scopes:r})).authenticationScheme){if(o.authenticationScheme===je.SSH){if(!t.sshJwk)throw ut.createMissingSshJwkError();if(!t.sshKid)throw ut.createMissingSshKidError()}this.logger.verbose('Authentication Scheme set to "'+o.authenticationScheme+'" as configured in Auth request')}else o.authenticationScheme=je.BEARER,this.logger.verbose('Authentication Scheme wasn\'t explicitly set in request, defaulting to "Bearer" request');return t.claims&&!z.isEmpty(t.claims)?(i=o,[4,this.browserCrypto.hashString(t.claims)]):[3,2];case 1:i.requestedClaimsHash=s.sent(),s.label=2;case 2:return[2,o]}})})},n.prototype.getRedirectUri=function(t){this.logger.verbose("getRedirectUri called");var e=t||this.config.auth.redirectUri||lt.getCurrentUri();return Ne.getAbsoluteUrl(e,lt.getCurrentUri())},n.prototype.initializeServerTelemetryManager=function(t,e){this.logger.verbose("initializeServerTelemetryManager called");var r={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:t,forceRefresh:e||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new Ej(r,this.browserStorage)},n.prototype.getDiscoveredAuthority=function(t){return x(this,void 0,void 0,function(){var e;return F(this,function(r){switch(r.label){case 0:return this.logger.verbose("getDiscoveredAuthority called"),e={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata},t?(this.logger.verbose("Creating discovered authority with request authority"),[4,kd.createDiscoveredInstance(t,this.config.system.networkClient,this.browserStorage,e,this.logger)]):[3,2];case 1:case 3:return[2,r.sent()];case 2:return this.logger.verbose("Creating discovered authority with configured authority"),[4,kd.createDiscoveredInstance(this.config.auth.authority,this.config.system.networkClient,this.browserStorage,e,this.logger)]}})})},n}(),Ks=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return tn(t,n),t.prototype.initializeAuthorizationCodeRequest=function(e){return x(this,void 0,void 0,function(){var r,o;return F(this,function(i){switch(i.label){case 0:return this.performanceClient.addQueueMeasurement(k.StandardInteractionClientInitializeAuthorizationCodeRequest,e.correlationId),this.logger.verbose("initializeAuthorizationRequest called",e.correlationId),[4,this.browserCrypto.generatePkceCodes()];case 1:return r=i.sent(),o=X(X({},e),{redirectUri:e.redirectUri,code:b.EMPTY_STRING,codeVerifier:r.verifier}),e.codeChallenge=r.challenge,e.codeChallengeMethod=b.S256_CODE_CHALLENGE_METHOD,[2,o]}})})},t.prototype.initializeLogoutRequest=function(e){this.logger.verbose("initializeLogoutRequest called",e?.correlationId);var r=X({correlationId:this.correlationId||this.browserCrypto.createNewGuid()},e);if(e)if(e.logoutHint)this.logger.verbose("logoutHint has already been set in logoutRequest");else if(e.account){var o=this.getLogoutHintFromIdTokenClaims(e.account);o&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),r.logoutHint=o)}else this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set");else this.logger.verbose("logoutHint will not be set since no logout request was configured");return e&&null===e.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",r.correlationId):e&&e.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",r.correlationId),r.postLogoutRedirectUri=Ne.getAbsoluteUrl(e.postLogoutRedirectUri,lt.getCurrentUri())):null===this.config.auth.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",r.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",r.correlationId),r.postLogoutRedirectUri=Ne.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,lt.getCurrentUri())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",r.correlationId),r.postLogoutRedirectUri=Ne.getAbsoluteUrl(lt.getCurrentUri(),lt.getCurrentUri())),r},t.prototype.getLogoutHintFromIdTokenClaims=function(e){var r=e.idTokenClaims;if(r){if(r.login_hint)return r.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null},t.prototype.createAuthCodeClient=function(e,r,o){return x(this,void 0,void 0,function(){var i;return F(this,function(s){switch(s.label){case 0:return this.performanceClient.addQueueMeasurement(k.StandardInteractionClientCreateAuthCodeClient,this.correlationId),this.performanceClient.setPreQueueTime(k.StandardInteractionClientGetClientConfiguration,this.correlationId),[4,this.getClientConfiguration(e,r,o)];case 1:return i=s.sent(),[2,new KS(i,this.performanceClient)]}})})},t.prototype.getClientConfiguration=function(e,r,o){return x(this,void 0,void 0,function(){var i,s;return F(this,function(a){switch(a.label){case 0:return this.performanceClient.addQueueMeasurement(k.StandardInteractionClientGetClientConfiguration,this.correlationId),this.logger.verbose("getClientConfiguration called",this.correlationId),this.performanceClient.setPreQueueTime(k.StandardInteractionClientGetDiscoveredAuthority,this.correlationId),[4,this.getDiscoveredAuthority(r,o)];case 1:return i=a.sent(),[2,{authOptions:{clientId:this.config.auth.clientId,authority:i,clientCapabilities:this.config.auth.clientCapabilities},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:(s=this.config.system.loggerOptions).loggerCallback,piiLoggingEnabled:s.piiLoggingEnabled,logLevel:s.logLevel,correlationId:this.correlationId},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:e,libraryInfo:{sku:"msal.js.browser",version:qc,cpu:b.EMPTY_STRING,os:b.EMPTY_STRING},telemetry:this.config.telemetry}]}})})},t.prototype.validateAndExtractStateFromHash=function(e,r,o){if(this.logger.verbose("validateAndExtractStateFromHash called",o),!e.state)throw $.createHashDoesNotContainStateError();var i=$S.extractBrowserRequestState(this.browserCrypto,e.state);if(!i)throw $.createUnableToParseStateError();if(i.interactionType!==r)throw $.createStateInteractionTypeMismatchError();return this.logger.verbose("Returning state from hash",o),e.state},t.prototype.getDiscoveredAuthority=function(e,r){var o;return x(this,void 0,void 0,function(){var i,s,c;return F(this,function(u){switch(u.label){case 0:return this.performanceClient.addQueueMeasurement(k.StandardInteractionClientGetDiscoveredAuthority,this.correlationId),this.logger.verbose("getDiscoveredAuthority called",this.correlationId),i=null===(o=this.performanceClient)||void 0===o?void 0:o.startMeasurement(k.StandardInteractionClientGetDiscoveredAuthority,this.correlationId),s={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},c=Rd.generateAuthority(e||this.config.auth.authority,r||this.config.auth.azureCloudOptions),this.logger.verbose("Creating discovered authority with configured authority",this.correlationId),this.performanceClient.setPreQueueTime(k.AuthorityFactoryCreateDiscoveredInstance,this.correlationId),[4,kd.createDiscoveredInstance(c,this.config.system.networkClient,this.browserStorage,s,this.logger,this.performanceClient,this.correlationId).then(function(l){return i.endMeasurement({success:!0}),l}).catch(function(l){throw i.endMeasurement({errorCode:l.errorCode,subErrorCode:l.subError,success:!1}),l})];case 1:return[2,u.sent()]}})})},t.prototype.initializeAuthorizationRequest=function(e,r){return x(this,void 0,void 0,function(){var o,s,a,c,u,l;return F(this,function(d){switch(d.label){case 0:return this.performanceClient.addQueueMeasurement(k.StandardInteractionClientInitializeAuthorizationRequest,this.correlationId),this.logger.verbose("initializeAuthorizationRequest called",this.correlationId),o=this.getRedirectUri(e.redirectUri),s=Po.setRequestState(this.browserCrypto,e&&e.state||b.EMPTY_STRING,{interactionType:r}),this.performanceClient.setPreQueueTime(k.InitializeBaseRequest,this.correlationId),c=[{}],[4,this.initializeBaseRequest(e)];case 1:return a=X.apply(void 0,[X.apply(void 0,c.concat([d.sent()])),{redirectUri:o,state:s,nonce:e.nonce||this.browserCrypto.createNewGuid(),responseMode:hc.FRAGMENT}]),(u=e.account||this.browserStorage.getActiveAccount())&&(this.logger.verbose("Setting validated request account",this.correlationId),this.logger.verbosePii("Setting validated request account: "+u.homeAccountId,this.correlationId),a.account=u),z.isEmpty(a.loginHint)&&!u&&(l=this.browserStorage.getLegacyLoginHint())&&(a.loginHint=l),[2,a]}})})},t}(XS),Oo=(()=>{return(n=Oo||(Oo={})).USER_INTERACTION_REQUIRED="USER_INTERACTION_REQUIRED",n.USER_CANCEL="USER_CANCEL",n.NO_NETWORK="NO_NETWORK",n.TRANSIENT_ERROR="TRANSIENT_ERROR",n.PERSISTENT_ERROR="PERSISTENT_ERROR",n.DISABLED="DISABLED",n.ACCOUNT_UNAVAILABLE="ACCOUNT_UNAVAILABLE",Oo;var n})(),$c_extensionError_code="ContentError",$c_userSwitch_code="user_switch",$c_userSwitch_desc="User attempted to switch accounts in the native broker, which is not allowed. All new accounts must sign-in through the standard web flow first, please try again.",$c_tokensNotFoundInCache_code="tokens_not_found_in_internal_memory_cache",$c_tokensNotFoundInCache_desc="Tokens not cached in MSAL JS internal memory, please make the WAM request",jr=function(n){function t(e,r,o){var i=n.call(this,e,r)||this;return Object.setPrototypeOf(i,t.prototype),i.name="NativeAuthError",i.ext=o,i}return tn(t,n),t.prototype.isFatal=function(){return!(!this.ext||!this.ext.status||this.ext.status!==Oo.PERSISTENT_ERROR&&this.ext.status!==Oo.DISABLED)||this.errorCode===$c_extensionError_code},t.createError=function(e,r,o){if(o&&o.status)switch(o.status){case Oo.ACCOUNT_UNAVAILABLE:return Cr.createNativeAccountUnavailableError();case Oo.USER_INTERACTION_REQUIRED:return new Cr(e,r);case Oo.USER_CANCEL:return $.createUserCancelledError();case Oo.NO_NETWORK:return $.createNoNetworkConnectivityError()}return new t(e,r,o)},t.createUserSwitchError=function(){return new t($c_userSwitch_code,$c_userSwitch_desc)},t.createTokensNotFoundInCacheError=function(){return new t($c_tokensNotFoundInCache_code,$c_tokensNotFoundInCache_desc)},t}(re),ZS=function(n){function t(e,r){return n.call(this,e,r)||this}return Bn(t,n),t.prototype.acquireToken=function(e){var r,o,i,s,a,c,u;return fe(this,void 0,void 0,function(){var l,d,h,g,m,E,S=this;return pe(this,function(T){switch(T.label){case 0:return null===(r=this.performanceClient)||void 0===r||r.addQueueMeasurement(k.RefreshTokenClientAcquireToken,e.correlationId),l=null===(o=this.performanceClient)||void 0===o?void 0:o.startMeasurement(k.RefreshTokenClientAcquireToken,e.correlationId),this.logger.verbose("RefreshTokenClientAcquireToken called",e.correlationId),d=wr.nowSeconds(),null===(i=this.performanceClient)||void 0===i||i.setPreQueueTime(k.RefreshTokenClientExecuteTokenRequest,e.correlationId),[4,this.executeTokenRequest(e,this.authority)];case 1:return h=T.sent(),g=null===(s=h.headers)||void 0===s?void 0:s[jn.X_MS_HTTP_VERSION],l?.addStaticFields({refreshTokenSize:(null===(a=h.body.refresh_token)||void 0===a?void 0:a.length)||0}),g&&l?.addStaticFields({httpVerToken:g}),m=null===(c=h.headers)||void 0===c?void 0:c[jn.X_MS_REQUEST_ID],(E=new Md(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin)).validateTokenResponse(h.body),null===(u=this.performanceClient)||void 0===u||u.setPreQueueTime(k.HandleServerTokenResponse,e.correlationId),[2,E.handleServerTokenResponse(h.body,this.authority,d,e,void 0,void 0,!0,e.forceCache,m).then(function(N){return l?.endMeasurement({success:!0}),N}).catch(function(N){throw S.logger.verbose("Error in fetching refresh token",e.correlationId),l?.endMeasurement({errorCode:N.errorCode,subErrorCode:N.subError,success:!1}),N})]}})})},t.prototype.acquireTokenByRefreshToken=function(e){var r,o,i,s;return fe(this,void 0,void 0,function(){var u;return pe(this,function(l){if(!e)throw ut.createEmptyTokenRequestError();if(null===(r=this.performanceClient)||void 0===r||r.addQueueMeasurement(k.RefreshTokenClientAcquireTokenByRefreshToken,e.correlationId),!e.account)throw Y.createNoAccountInSilentRequestError();if(this.cacheManager.isAppMetadataFOCI(e.account.environment,this.config.authOptions.clientId))try{return null===(o=this.performanceClient)||void 0===o||o.setPreQueueTime(k.RefreshTokenClientAcquireTokenWithCachedRefreshToken,e.correlationId),[2,this.acquireTokenWithCachedRefreshToken(e,!0)]}catch(d){if(u=d instanceof xi&&"invalid_grant"===d.errorCode&&"client_mismatch"===d.subError,d instanceof Cr&&d.errorCode===Tc_noTokensFoundError_code||u)return null===(i=this.performanceClient)||void 0===i||i.setPreQueueTime(k.RefreshTokenClientAcquireTokenWithCachedRefreshToken,e.correlationId),[2,this.acquireTokenWithCachedRefreshToken(e,!1)];throw d}return null===(s=this.performanceClient)||void 0===s||s.setPreQueueTime(k.RefreshTokenClientAcquireTokenWithCachedRefreshToken,e.correlationId),[2,this.acquireTokenWithCachedRefreshToken(e,!1)]})})},t.prototype.acquireTokenWithCachedRefreshToken=function(e,r){var o,i,s;return fe(this,void 0,void 0,function(){var a,c,u;return pe(this,function(l){if(null===(o=this.performanceClient)||void 0===o||o.addQueueMeasurement(k.RefreshTokenClientAcquireTokenWithCachedRefreshToken,e.correlationId),a=null===(i=this.performanceClient)||void 0===i?void 0:i.startMeasurement(k.RefreshTokenClientAcquireTokenWithCachedRefreshToken,e.correlationId),this.logger.verbose("RefreshTokenClientAcquireTokenWithCachedRefreshToken called",e.correlationId),!(c=this.cacheManager.readRefreshTokenFromCache(this.config.authOptions.clientId,e.account,r)))throw a?.discardMeasurement(),Cr.createNoTokensFoundError();return a?.endMeasurement({success:!0}),u=Ke(Ke({},e),{refreshToken:c.secret,authenticationScheme:e.authenticationScheme||je.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:zn.HOME_ACCOUNT_ID}}),null===(s=this.performanceClient)||void 0===s||s.setPreQueueTime(k.RefreshTokenClientAcquireToken,e.correlationId),[2,this.acquireToken(u)]})})},t.prototype.executeTokenRequest=function(e,r){var o,i,s;return fe(this,void 0,void 0,function(){var a,c,u,l,d;return pe(this,function(g){switch(g.label){case 0:return null===(o=this.performanceClient)||void 0===o||o.addQueueMeasurement(k.RefreshTokenClientExecuteTokenRequest,e.correlationId),a=null===(i=this.performanceClient)||void 0===i?void 0:i.startMeasurement(k.RefreshTokenClientExecuteTokenRequest,e.correlationId),null===(s=this.performanceClient)||void 0===s||s.setPreQueueTime(k.RefreshTokenClientCreateTokenRequestBody,e.correlationId),c=this.createTokenQueryParameters(e),u=Ne.appendQueryString(r.tokenEndpoint,c),[4,this.createTokenRequestBody(e)];case 1:return l=g.sent(),d=this.createTokenRequestHeaders(e.ccsCredential),[2,this.executePostToTokenEndpoint(u,l,d,{clientId:this.config.authOptions.clientId,authority:r.canonicalAuthority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid}).then(function(m){return a?.endMeasurement({success:!0}),m}).catch(function(m){throw a?.endMeasurement({success:!1}),m})]}})})},t.prototype.createTokenRequestBody=function(e){var r,o,i;return fe(this,void 0,void 0,function(){var s,a,c,u,l,d,h;return pe(this,function(g){switch(g.label){case 0:return null===(r=this.performanceClient)||void 0===r||r.addQueueMeasurement(k.RefreshTokenClientCreateTokenRequestBody,e.correlationId),s=e.correlationId,a=null===(o=this.performanceClient)||void 0===o?void 0:o.startMeasurement(k.BaseClientCreateTokenRequestHeaders,s),(c=new Gc).addClientId(this.config.authOptions.clientId),c.addScopes(e.scopes),c.addGrantType(fc.REFRESH_TOKEN_GRANT),c.addClientInfo(),c.addLibraryInfo(this.config.libraryInfo),c.addApplicationTelemetry(this.config.telemetry.application),c.addThrottling(),this.serverTelemetryManager&&c.addServerTelemetry(this.serverTelemetryManager),c.addCorrelationId(s),c.addRefreshToken(e.refreshToken),this.config.clientCredentials.clientSecret&&c.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion&&(c.addClientAssertion((u=this.config.clientCredentials.clientAssertion).assertion),c.addClientAssertionType(u.assertionType)),e.authenticationScheme!==je.POP?[3,2]:(l=new Ws(this.cryptoUtils,this.performanceClient),null===(i=this.performanceClient)||void 0===i||i.setPreQueueTime(k.PopTokenGenerateCnf,e.correlationId),[4,l.generateCnf(e)]);case 1:return d=g.sent(),c.addPopToken(d.reqCnfString),[3,3];case 2:if(e.authenticationScheme===je.SSH){if(!e.sshJwk)throw a?.endMeasurement({success:!1}),ut.createMissingSshJwkError();c.addSshJwk(e.sshJwk)}g.label=3;case 3:if((!z.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&c.addClaims(e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case zn.HOME_ACCOUNT_ID:try{h=Gs(e.ccsCredential.credential),c.addCcsOid(h)}catch(m){this.logger.verbose("Could not parse home account ID for CCS Header: "+m)}break;case zn.UPN:c.addCcsUpn(e.ccsCredential.credential)}return a?.endMeasurement({success:!0}),[2,c.createQueryString()]}})})},t}(mm),bj=function(n){function t(e,r){return n.call(this,e,r)||this}return Bn(t,n),t.prototype.acquireToken=function(e){return fe(this,void 0,void 0,function(){var r;return pe(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.acquireCachedToken(e)];case 1:return[2,i.sent()];case 2:if((r=i.sent())instanceof Y&&r.errorCode===H_tokenRefreshRequired_code)return[2,new ZS(this.config,this.performanceClient).acquireTokenByRefreshToken(e)];throw r;case 3:return[2]}})})},t.prototype.acquireCachedToken=function(e){var r,o,i,s;return fe(this,void 0,void 0,function(){var a,c;return pe(this,function(u){switch(u.label){case 0:if(!e)throw ut.createEmptyTokenRequestError();if(e.forceRefresh)throw null===(r=this.serverTelemetryManager)||void 0===r||r.setCacheOutcome(Yo.FORCE_REFRESH),this.logger.info("SilentFlowClient:acquireCachedToken - Skipping cache because forceRefresh is true."),Y.createRefreshRequiredError();if(!e.account)throw Y.createNoAccountInSilentRequestError();if(a=e.authority||this.authority.getPreferredCache(),!(c=this.cacheManager.readCacheRecord(e.account,this.config.authOptions.clientId,e,a)).accessToken)throw null===(o=this.serverTelemetryManager)||void 0===o||o.setCacheOutcome(Yo.NO_CACHED_ACCESS_TOKEN),this.logger.info("SilentFlowClient:acquireCachedToken - No access token found in cache for the given properties."),Y.createRefreshRequiredError();if(wr.wasClockTurnedBack(c.accessToken.cachedAt)||wr.isTokenExpired(c.accessToken.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw null===(i=this.serverTelemetryManager)||void 0===i||i.setCacheOutcome(Yo.CACHED_ACCESS_TOKEN_EXPIRED),this.logger.info("SilentFlowClient:acquireCachedToken - Cached access token is expired or will expire within "+this.config.systemOptions.tokenRenewalOffsetSeconds+" seconds."),Y.createRefreshRequiredError();if(c.accessToken.refreshOn&&wr.isTokenExpired(c.accessToken.refreshOn,0))throw null===(s=this.serverTelemetryManager)||void 0===s||s.setCacheOutcome(Yo.REFRESH_CACHED_ACCESS_TOKEN),this.logger.info("SilentFlowClient:acquireCachedToken - Cached access token's refreshOn property has been exceeded'."),Y.createRefreshRequiredError();return this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[4,this.generateResultFromCacheRecord(c,e)];case 1:return[2,u.sent()]}})})},t.prototype.generateResultFromCacheRecord=function(e,r){return fe(this,void 0,void 0,function(){var o,i;return pe(this,function(s){switch(s.label){case 0:if(e.idToken&&(o=new co(e.idToken.secret,this.config.cryptoInterface)),r.maxAge||0===r.maxAge){if(i=o?.claims.auth_time,!i)throw Y.createAuthTimeNotFoundError();co.checkMaxAge(i,r.maxAge)}return[4,Md.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,r,o)];case 1:return[2,s.sent()]}})})},t}(mm),eI=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return tn(t,n),t.prototype.acquireToken=function(e){return x(this,void 0,void 0,function(){var r,o,i,s,a;return F(this,function(c){switch(c.label){case 0:return r=this.performanceClient.startMeasurement(k.SilentCacheClientAcquireToken,e.correlationId),o=this.initializeServerTelemetryManager(Xe.acquireTokenSilent_silentFlow),[4,this.createSilentFlowClient(o,e.authority,e.azureCloudOptions)];case 1:i=c.sent(),this.logger.verbose("Silent auth client created"),c.label=2;case 2:return c.trys.push([2,4,,5]),[4,i.acquireCachedToken(e)];case 3:return s=c.sent(),r.endMeasurement({success:!0,fromCache:!0}),[2,s];case 4:throw(a=c.sent())instanceof $&&a.errorCode===U_signingKeyNotFoundInStorage_code&&this.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),r.endMeasurement({errorCode:a instanceof re&&a.errorCode||void 0,subErrorCode:a instanceof re&&a.subError||void 0,success:!1}),a;case 5:return[2]}})})},t.prototype.logout=function(){return Promise.reject($.createSilentLogoutUnsupportedError())},t.prototype.createSilentFlowClient=function(e,r,o){return x(this,void 0,void 0,function(){var i;return F(this,function(s){switch(s.label){case 0:return this.performanceClient.setPreQueueTime(k.StandardInteractionClientGetClientConfiguration,this.correlationId),[4,this.getClientConfiguration(e,r,o)];case 1:return i=s.sent(),[2,new bj(i,this.performanceClient)]}})})},t.prototype.initializeSilentRequest=function(e,r){return x(this,void 0,void 0,function(){var o;return F(this,function(i){switch(i.label){case 0:return this.performanceClient.addQueueMeasurement(k.InitializeSilentRequest,this.correlationId),this.performanceClient.setPreQueueTime(k.InitializeBaseRequest,this.correlationId),o=[X({},e)],[4,this.initializeBaseRequest(e)];case 1:return[2,X.apply(void 0,[X.apply(void 0,o.concat([i.sent()])),{account:r,forceRefresh:e.forceRefresh||!1}])]}})})},t}(Ks),Qs=function(n){function t(e,r,o,i,s,a,c,u,l,d,h,g){var m=n.call(this,e,r,o,i,s,a,u,l,g)||this;return m.apiId=c,m.accountId=d,m.nativeMessageHandler=l,m.nativeStorageManager=h,m.silentCacheClient=new eI(e,m.nativeStorageManager,o,i,s,a,u,l,g),m}return tn(t,n),t.prototype.acquireToken=function(e){return x(this,void 0,void 0,function(){var r,o,i,s,c,u;return F(this,function(l){switch(l.label){case 0:return this.logger.trace("NativeInteractionClient - acquireToken called."),r=this.performanceClient.startMeasurement(k.NativeInteractionClientAcquireToken,e.correlationId),o=wr.nowSeconds(),[4,this.initializeNativeRequest(e)];case 1:i=l.sent(),l.label=2;case 2:return l.trys.push([2,4,,5]),[4,this.acquireTokensFromCache(this.accountId,i)];case 3:return s=l.sent(),r.endMeasurement({success:!0,isNativeBroker:!1,fromCache:!0}),[2,s];case 4:return l.sent(),this.logger.info("MSAL internal Cache does not contain tokens, proceed to make a native call"),[3,5];case 5:return[4,this.nativeMessageHandler.sendMessage({method:io.GetToken,request:i})];case 6:return c=l.sent(),u=this.validateNativeResponse(c),[2,this.handleNativeResponse(u,i,o).then(function(d){return r.endMeasurement({success:!0,isNativeBroker:!0,requestId:d.requestId}),d}).catch(function(d){throw r.endMeasurement({success:!1,errorCode:d.errorCode,subErrorCode:d.subError,isNativeBroker:!0}),d})]}})})},t.prototype.createSilentCacheRequest=function(e,r){return{authority:e.authority,correlationId:this.correlationId,scopes:on.fromString(e.scope).asArray(),account:r,forceRefresh:!1}},t.prototype.acquireTokensFromCache=function(e,r){return x(this,void 0,void 0,function(){var o,i,s;return F(this,function(u){switch(u.label){case 0:if(!(o=this.browserStorage.readAccountFromCacheWithNativeAccountId(e)))throw Y.createNoAccountFoundError();i=o.getAccountInfo(),u.label=1;case 1:return u.trys.push([1,3,,4]),s=this.createSilentCacheRequest(r,i),[4,this.silentCacheClient.acquireToken(s)];case 2:return[2,u.sent()];case 3:throw u.sent();case 4:return[2]}})})},t.prototype.acquireTokenRedirect=function(e){return x(this,void 0,void 0,function(){var r,o,i,s,a,c;return F(this,function(u){switch(u.label){case 0:return this.logger.trace("NativeInteractionClient - acquireTokenRedirect called."),[4,this.initializeNativeRequest(e)];case 1:r=u.sent(),o={method:io.GetToken,request:r},u.label=2;case 2:return u.trys.push([2,4,,5]),[4,this.nativeMessageHandler.sendMessage(o)];case 3:return i=u.sent(),this.validateNativeResponse(i),[3,5];case 4:if((s=u.sent())instanceof jr&&s.isFatal())throw s;return[3,5];case 5:return this.browserStorage.setTemporaryCache(xe.NATIVE_REQUEST,JSON.stringify(r),!0),a={apiId:Xe.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},c=this.config.auth.navigateToLoginRequestUrl?window.location.href:this.getRedirectUri(e.redirectUri),[4,this.navigationClient.navigateExternal(c,a)];case 6:return u.sent(),[2]}})})},t.prototype.handleRedirectPromise=function(){return x(this,void 0,void 0,function(){var e,r,o,i,s,a,c,u;return F(this,function(l){switch(l.label){case 0:if(this.logger.trace("NativeInteractionClient - handleRedirectPromise called."),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),[2,null];if(!(e=this.browserStorage.getCachedNativeRequest()))return this.logger.verbose("NativeInteractionClient - handleRedirectPromise called but there is no cached request, returning null."),[2,null];r=e.prompt,o=z0(e,["prompt"]),r&&this.logger.verbose("NativeInteractionClient - handleRedirectPromise called and prompt was included in the original request, removing prompt from cached request to prevent second interaction with native broker window."),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(xe.NATIVE_REQUEST)),i={method:io.GetToken,request:o},s=wr.nowSeconds(),l.label=1;case 1:return l.trys.push([1,3,,4]),this.logger.verbose("NativeInteractionClient - handleRedirectPromise sending message to native broker."),[4,this.nativeMessageHandler.sendMessage(i)];case 2:return a=l.sent(),this.validateNativeResponse(a),c=this.handleNativeResponse(a,o,s),this.browserStorage.setInteractionInProgress(!1),[2,c];case 3:throw u=l.sent(),this.browserStorage.setInteractionInProgress(!1),u;case 4:return[2]}})})},t.prototype.logout=function(){return this.logger.trace("NativeInteractionClient - logout called."),Promise.reject("Logout not implemented yet")},t.prototype.handleNativeResponse=function(e,r,o){return x(this,void 0,void 0,function(){var i,s,a,c,u,l;return F(this,function(d){switch(d.label){case 0:if(this.logger.trace("NativeInteractionClient - handleNativeResponse called."),e.account.id!==r.accountId||e.account.id!==r.accountId)throw jr.createUserSwitchError();return[4,this.getDiscoveredAuthority(r.authority)];case 1:return i=d.sent(),s=i.getPreferredCache(),a=this.createIdTokenObj(e),c=this.createHomeAccountIdentifier(e,a),u=this.createAccountEntity(e,c,a,s),[4,this.generateAuthenticationResult(e,r,a,u,i.canonicalAuthority,o)];case 2:return l=d.sent(),this.cacheAccount(u),this.cacheNativeTokens(e,r,c,a,l.accessToken,l.tenantId,o),[2,l]}})})},t.prototype.createIdTokenObj=function(e){return new co(e.id_token||b.EMPTY_STRING,this.browserCrypto)},t.prototype.createHomeAccountIdentifier=function(e,r){return rn.generateHomeAccountId(e.client_info||b.EMPTY_STRING,sr.Default,this.logger,this.browserCrypto,r)},t.prototype.createAccountEntity=function(e,r,o,i){return rn.createAccount(e.client_info,r,o,void 0,void 0,void 0,i,e.account.id)},t.prototype.generateScopes=function(e,r){return on.fromString(e.scope?e.scope:r.scope)},t.prototype.generatePopAccessToken=function(e,r){return x(this,void 0,void 0,function(){var o,i;return F(this,function(s){switch(s.label){case 0:if(r.tokenType!==je.POP)return[3,2];if(e.shr)return this.logger.trace("handleNativeServerResponse: SHR is enabled in native layer"),[2,e.shr];if(o=new Ws(this.browserCrypto),i={resourceRequestMethod:r.resourceRequestMethod,resourceRequestUri:r.resourceRequestUri,shrClaims:r.shrClaims,shrNonce:r.shrNonce},!r.keyId)throw Y.createKeyIdMissingError();return[4,o.signPopToken(e.access_token,r.keyId,i)];case 1:return[2,s.sent()];case 2:return[2,e.access_token]}})})},t.prototype.generateAuthenticationResult=function(e,r,o,i,s,a){return x(this,void 0,void 0,function(){var c,u,l,d,h,g,m;return F(this,function(S){switch(S.label){case 0:return c=this.addTelemetryFromNativeResponse(e),u=on.fromString(e.scope?e.scope:r.scope),d=(l=e.account.properties||{}).UID||o.claims.oid||o.claims.sub||b.EMPTY_STRING,h=l.TenantId||o.claims.tid||b.EMPTY_STRING,[4,this.generatePopAccessToken(e,r)];case 1:return g=S.sent(),m=r.tokenType===je.POP?je.POP:je.BEARER,[2,{authority:s,uniqueId:d,tenantId:h,scopes:u.asArray(),account:i.getAccountInfo(),idToken:e.id_token,idTokenClaims:o.claims,accessToken:g,fromCache:!!c&&this.isResponseFromCache(c),expiresOn:new Date(1e3*Number(a+e.expires_in)),tokenType:m,correlationId:this.correlationId,state:e.state,fromNativeBroker:!0}]}})})},t.prototype.cacheAccount=function(e){var r=this;this.browserStorage.setAccount(e),this.browserStorage.removeAccountContext(e).catch(function(o){r.logger.error("Error occurred while removing account context from browser storage. "+o)})},t.prototype.cacheNativeTokens=function(e,r,o,i,s,a,c){var u=Vc.createIdTokenEntity(o,r.authority,e.id_token||b.EMPTY_STRING,r.clientId,i.claims.tid||b.EMPTY_STRING);this.nativeStorageManager.setIdTokenCredential(u);var d=c+(r.tokenType===je.POP?b.SHR_NONCE_VALIDITY:("string"==typeof e.expires_in?parseInt(e.expires_in,10):e.expires_in)||0),h=this.generateScopes(e,r),g=Bc.createAccessTokenEntity(o,r.authority,s,r.clientId,a,h.printScopes(),d,0,this.browserCrypto);this.nativeStorageManager.setAccessTokenCredential(g)},t.prototype.addTelemetryFromNativeResponse=function(e){var r=this.getMATSFromResponse(e);return r?(this.performanceClient.addStaticFields({extensionId:this.nativeMessageHandler.getExtensionId(),extensionVersion:this.nativeMessageHandler.getExtensionVersion(),matsBrokerVersion:r.broker_version,matsAccountJoinOnStart:r.account_join_on_start,matsAccountJoinOnEnd:r.account_join_on_end,matsDeviceJoin:r.device_join,matsPromptBehavior:r.prompt_behavior,matsApiErrorCode:r.api_error_code,matsUiVisible:r.ui_visible,matsSilentCode:r.silent_code,matsSilentBiSubCode:r.silent_bi_sub_code,matsSilentMessage:r.silent_message,matsSilentStatus:r.silent_status,matsHttpStatus:r.http_status,matsHttpEventCount:r.http_event_count},this.correlationId),r):null},t.prototype.validateNativeResponse=function(e){if(e.hasOwnProperty("access_token")&&e.hasOwnProperty("id_token")&&e.hasOwnProperty("client_info")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scope")&&e.hasOwnProperty("expires_in"))return e;throw jr.createUnexpectedError("Response missing expected properties.")},t.prototype.getMATSFromResponse=function(e){if(e.properties.MATS)try{return JSON.parse(e.properties.MATS)}catch{this.logger.error("NativeInteractionClient - Error parsing MATS telemetry, returning null instead")}return null},t.prototype.isResponseFromCache=function(e){return typeof e.is_cached>"u"?(this.logger.verbose("NativeInteractionClient - MATS telemetry does not contain field indicating if response was served from cache. Returning false."),!1):!!e.is_cached},t.prototype.initializeNativeRequest=function(e){return x(this,void 0,void 0,function(){var o,i,s,a,c,u,l,h,g=this;return F(this,function(m){switch(m.label){case 0:return this.logger.trace("NativeInteractionClient - initializeNativeRequest called"),(o=new Ne(e.authority||this.config.auth.authority)).validateAsUri(),i=e.scopes,s=z0(e,["scopes"]),(a=new on(i||[])).appendScopes(lc),c=function(){switch(g.apiId){case Xe.ssoSilent:case Xe.acquireTokenSilent_silentFlow:return g.logger.trace("initializeNativeRequest: silent request sets prompt to none"),yn.NONE}if(e.prompt)switch(e.prompt){case yn.NONE:case yn.CONSENT:case yn.LOGIN:return g.logger.trace("initializeNativeRequest: prompt is compatible with native flow"),e.prompt;default:throw g.logger.trace("initializeNativeRequest: prompt = "+e.prompt+" is not compatible with native flow"),$.createNativePromptParameterNotSupportedError()}else g.logger.trace("initializeNativeRequest: prompt was not provided")},u=X(X({},s),{accountId:this.accountId,clientId:this.config.auth.clientId,authority:o.urlString,scope:a.printScopes(),redirectUri:this.getRedirectUri(e.redirectUri),prompt:c(),correlationId:this.correlationId,tokenType:e.authenticationScheme,windowTitleSubstring:document.title,extraParameters:X(X(X({},e.extraQueryParameters),e.tokenQueryParameters),{telemetry:"MATS"}),extendedExpiryToken:!1}),e.authenticationScheme!==je.POP?[3,2]:(l={resourceRequestUri:e.resourceRequestUri,resourceRequestMethod:e.resourceRequestMethod,shrClaims:e.shrClaims,shrNonce:e.shrNonce},[4,new Ws(this.browserCrypto).generateCnf(l)]);case 1:h=m.sent(),u.reqCnf=h.reqCnfHash,u.keyId=h.kid,m.label=2;case 2:return[2,u]}})})},t}(XS),Li=function(){function n(t,e,r,o){this.logger=t,this.handshakeTimeoutMs=e,this.extensionId=o,this.resolvers=new Map,this.handshakeResolvers=new Map,this.responseId=0,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this),this.performanceClient=r,this.handshakeEvent=r.startMeasurement(k.NativeMessageHandlerHandshake)}return n.prototype.sendMessage=function(t){return x(this,void 0,void 0,function(){var e,r=this;return F(this,function(o){return this.logger.trace("NativeMessageHandler - sendMessage called."),e={channel:vc_CHANNEL_ID,extensionId:this.extensionId,responseId:this.responseId++,body:t},this.logger.trace("NativeMessageHandler - Sending request to browser extension"),this.logger.tracePii("NativeMessageHandler - Sending request to browser extension: "+JSON.stringify(e)),this.messageChannel.port1.postMessage(e),[2,new Promise(function(i,s){r.resolvers.set(e.responseId,{resolve:i,reject:s})})]})})},n.createProvider=function(t,e,r){return x(this,void 0,void 0,function(){var o,i;return F(this,function(s){switch(s.label){case 0:t.trace("NativeMessageHandler - createProvider called."),s.label=1;case 1:return s.trys.push([1,3,,5]),[4,(o=new n(t,e,r,"ppnbnpeolgkicgegkbkbjmhlideopiji")).sendHandshakeRequest()];case 2:return s.sent(),[2,o];case 3:return s.sent(),[4,(i=new n(t,e,r)).sendHandshakeRequest()];case 4:return s.sent(),[2,i];case 5:return[2]}})})},n.prototype.sendHandshakeRequest=function(){return x(this,void 0,void 0,function(){var t,e=this;return F(this,function(r){return this.logger.trace("NativeMessageHandler - sendHandshakeRequest called."),window.addEventListener("message",this.windowListener,!1),t={channel:vc_CHANNEL_ID,extensionId:this.extensionId,responseId:this.responseId++,body:{method:io.HandshakeRequest}},this.handshakeEvent.addStaticFields({extensionId:this.extensionId,extensionHandshakeTimeoutMs:this.handshakeTimeoutMs}),this.messageChannel.port1.onmessage=function(o){e.onChannelMessage(o)},window.postMessage(t,window.origin,[this.messageChannel.port2]),[2,new Promise(function(o,i){e.handshakeResolvers.set(t.responseId,{resolve:o,reject:i}),e.timeoutId=window.setTimeout(function(){window.removeEventListener("message",e.windowListener,!1),e.messageChannel.port1.close(),e.messageChannel.port2.close(),e.handshakeEvent.endMeasurement({extensionHandshakeTimedOut:!0,success:!1}),i($.createNativeHandshakeTimeoutError()),e.handshakeResolvers.delete(t.responseId)},e.handshakeTimeoutMs)})]})})},n.prototype.onWindowMessage=function(t){if(this.logger.trace("NativeMessageHandler - onWindowMessage called"),t.source===window){var e=t.data;if(e.channel&&e.channel===vc_CHANNEL_ID&&(!e.extensionId||e.extensionId===this.extensionId)&&e.body.method===io.HandshakeRequest){this.logger.verbose(e.extensionId?"Extension with id: "+e.extensionId+" not installed":"No extension installed"),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1);var r=this.handshakeResolvers.get(e.responseId);r&&(this.handshakeEvent.endMeasurement({success:!1,extensionInstalled:!1}),r.reject($.createNativeExtensionNotInstalledError()))}}},n.prototype.onChannelMessage=function(t){this.logger.trace("NativeMessageHandler - onChannelMessage called.");var e=t.data,r=this.resolvers.get(e.responseId),o=this.handshakeResolvers.get(e.responseId);try{var i=e.body.method;if(i===io.Response){if(!r)return;var s=e.body.response;if(this.logger.trace("NativeMessageHandler - Received response from browser extension"),this.logger.tracePii("NativeMessageHandler - Received response from browser extension: "+JSON.stringify(s)),"Success"!==s.status)r.reject(jr.createError(s.code,s.description,s.ext));else{if(!s.result)throw re.createUnexpectedError("Event does not contain result.");s.result.code&&s.result.description?r.reject(jr.createError(s.result.code,s.result.description,s.result.ext)):r.resolve(s.result)}this.resolvers.delete(e.responseId)}else if(i===io.HandshakeResponse){if(!o)return;clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=e.extensionId,this.extensionVersion=e.body.version,this.logger.verbose("NativeMessageHandler - Received HandshakeResponse from extension: "+this.extensionId),this.handshakeEvent.endMeasurement({extensionInstalled:!0,success:!0}),o.resolve(),this.handshakeResolvers.delete(e.responseId)}}catch(a){this.logger.error("Error parsing response from WAM Extension"),this.logger.errorPii("Error parsing response from WAM Extension: "+a.toString()),this.logger.errorPii("Unable to parse "+t),r?r.reject(a):o&&o.reject(a)}},n.prototype.getExtensionId=function(){return this.extensionId},n.prototype.getExtensionVersion=function(){return this.extensionVersion},n.isNativeAvailable=function(t,e,r,o){if(e.trace("isNativeAvailable called"),!t.system.allowNativeBroker)return e.trace("isNativeAvailable: allowNativeBroker is not enabled, returning false"),!1;if(!r)return e.trace("isNativeAvailable: WAM extension provider is not initialized, returning false"),!1;if(o)switch(o){case je.BEARER:case je.POP:return e.trace("isNativeAvailable: authenticationScheme is supported, returning true"),!0;default:return e.trace("isNativeAvailable: authenticationScheme is not supported, returning false"),!1}return!0},n}(),vm=function(){function n(t,e,r,o,i){this.authModule=t,this.browserStorage=e,this.authCodeRequest=r,this.logger=o,this.performanceClient=i}return n.prototype.handleCodeResponseFromHash=function(t,e,r,o){return x(this,void 0,void 0,function(){var i,s,a;return F(this,function(c){if(this.performanceClient.addQueueMeasurement(k.HandleCodeResponseFromHash,this.authCodeRequest.correlationId),this.logger.verbose("InteractionHandler.handleCodeResponse called"),z.isEmpty(t))throw $.createEmptyHashError(t);if(i=this.browserStorage.generateStateKey(e),!(s=this.browserStorage.getTemporaryCache(i)))throw Y.createStateNotFoundError("Cached State");try{a=this.authModule.handleFragmentResponse(t,s)}catch(u){throw u instanceof xi&&u.subError===U_userCancelledError_code?$.createUserCancelledError():u}return this.performanceClient.setPreQueueTime(k.HandleCodeResponseFromServer,this.authCodeRequest.correlationId),[2,this.handleCodeResponseFromServer(a,e,r,o)]})})},n.prototype.handleCodeResponseFromServer=function(t,e,r,o,i){return void 0===i&&(i=!0),x(this,void 0,void 0,function(){var s,a,c,u,l,d;return F(this,function(h){switch(h.label){case 0:if(this.performanceClient.addQueueMeasurement(k.HandleCodeResponseFromServer,this.authCodeRequest.correlationId),this.logger.trace("InteractionHandler.handleCodeResponseFromServer called"),s=this.browserStorage.generateStateKey(e),!(a=this.browserStorage.getTemporaryCache(s)))throw Y.createStateNotFoundError("Cached State");return c=this.browserStorage.generateNonceKey(a),u=this.browserStorage.getTemporaryCache(c),this.authCodeRequest.code=t.code,t.cloud_instance_host_name?(this.performanceClient.setPreQueueTime(k.UpdateTokenEndpointAuthority,this.authCodeRequest.correlationId),[4,this.updateTokenEndpointAuthority(t.cloud_instance_host_name,r,o)]):[3,2];case 1:h.sent(),h.label=2;case 2:return i&&(t.nonce=u||void 0),t.state=a,t.client_info?this.authCodeRequest.clientInfo=t.client_info:(l=this.checkCcsCredentials())&&(this.authCodeRequest.ccsCredential=l),this.performanceClient.setPreQueueTime(k.AuthClientAcquireToken,this.authCodeRequest.correlationId),[4,this.authModule.acquireToken(this.authCodeRequest,t)];case 3:return d=h.sent(),this.browserStorage.cleanRequestByState(e),[2,d]}})})},n.prototype.updateTokenEndpointAuthority=function(t,e,r){return x(this,void 0,void 0,function(){var i;return F(this,function(s){switch(s.label){case 0:return this.performanceClient.addQueueMeasurement(k.UpdateTokenEndpointAuthority,this.authCodeRequest.correlationId),[4,kd.createDiscoveredInstance("https://"+t+"/"+e.tenant+"/",r,this.browserStorage,e.options,this.logger,this.performanceClient,this.authCodeRequest.correlationId)];case 1:return i=s.sent(),this.authModule.updateAuthority(i),[2]}})})},n.prototype.checkCcsCredentials=function(){var t=this.browserStorage.getTemporaryCache(xe.CCS_CREDENTIAL,!0);if(t)try{return JSON.parse(t)}catch{this.authModule.logger.error("Cache credential could not be parsed"),this.authModule.logger.errorPii("Cache credential could not be parsed: "+t)}return null},n}(),Tj=function(n){function t(e,r,o,i,s,a,c,u,l,d){var h=n.call(this,e,r,o,i,s,a,c,l,d)||this;return h.unloadWindow=h.unloadWindow.bind(h),h.nativeStorage=u,h}return tn(t,n),t.prototype.acquireToken=function(e){try{var r=this.generatePopupName(e.scopes||lc,e.authority||this.config.auth.authority),o=e.popupWindowAttributes||{};if(this.config.system.asyncPopups)return this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(e,r,o);this.logger.verbose("asyncPopup set to false, opening popup before acquiring token");var i=this.openSizedPopup("about:blank",r,o);return this.acquireTokenPopupAsync(e,r,o,i)}catch(s){return Promise.reject(s)}},t.prototype.logout=function(e){try{this.logger.verbose("logoutPopup called");var r=this.initializeLogoutRequest(e),o=this.generateLogoutPopupName(r),i=e&&e.authority,s=e&&e.mainWindowRedirectUri,a=e?.popupWindowAttributes||{};if(this.config.system.asyncPopups)return this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(r,o,a,i,void 0,s);this.logger.verbose("asyncPopup set to false, opening popup");var c=this.openSizedPopup("about:blank",o,a);return this.logoutPopupAsync(r,o,a,i,c,s)}catch(u){return Promise.reject(u)}},t.prototype.acquireTokenPopupAsync=function(e,r,o,i){return x(this,void 0,void 0,function(){var s,a,c,u,l,d,h,g,E,S,T,N,D,J,Fe,Er=this;return F(this,function(Gt){switch(Gt.label){case 0:return this.logger.verbose("acquireTokenPopupAsync called"),s=this.initializeServerTelemetryManager(Xe.acquireTokenPopup),this.performanceClient.setPreQueueTime(k.StandardInteractionClientInitializeAuthorizationRequest,e.correlationId),[4,this.initializeAuthorizationRequest(e,q.Popup)];case 1:a=Gt.sent(),this.browserStorage.updateCacheEntries(a.state,a.nonce,a.authority,a.loginHint||b.EMPTY_STRING,a.account||null),Gt.label=2;case 2:return Gt.trys.push([2,8,,9]),this.performanceClient.setPreQueueTime(k.StandardInteractionClientInitializeAuthorizationCodeRequest,e.correlationId),[4,this.initializeAuthorizationCodeRequest(a)];case 3:return c=Gt.sent(),this.performanceClient.setPreQueueTime(k.StandardInteractionClientCreateAuthCodeClient,e.correlationId),[4,this.createAuthCodeClient(s,a.authority,a.azureCloudOptions)];case 4:return u=Gt.sent(),this.logger.verbose("Auth code client created"),l=Li.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme),d=void 0,l&&(d=this.performanceClient.startMeasurement(k.FetchAccountIdWithNativeBroker,e.correlationId)),[4,u.getAuthCodeUrl(X(X({},a),{nativeBroker:l}))];case 5:return h=Gt.sent(),g=new vm(u,this.browserStorage,c,this.logger,this.performanceClient),E=this.initiateAuthRequest(h,{popup:i,popupName:r,popupWindowAttributes:o}),this.eventHandler.emitEvent(ee.POPUP_OPENED,q.Popup,{popupWindow:E},null),[4,this.monitorPopupForHash(E)];case 6:if(S=Gt.sent(),T=Ne.getDeserializedHash(S),N=this.validateAndExtractStateFromHash(T,q.Popup,a.correlationId),Id.removeThrottle(this.browserStorage,this.config.auth.clientId,c),T.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),d&&d.endMeasurement({success:!0,isNativeBroker:!0}),!this.nativeMessageHandler)throw $.createNativeConnectionNotEstablishedError();return D=new Qs(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Xe.acquireTokenPopup,this.performanceClient,this.nativeMessageHandler,T.accountId,this.nativeStorage,a.correlationId),J=Po.parseRequestState(this.browserCrypto,N).userRequestState,[2,D.acquireToken(X(X({},a),{state:J,prompt:void 0})).finally(function(){Er.browserStorage.cleanRequestByState(N)})]}return[4,g.handleCodeResponseFromHash(S,N,u.authority,this.networkClient)];case 7:return[2,Gt.sent()];case 8:throw Fe=Gt.sent(),i&&i.close(),Fe instanceof re&&Fe.setCorrelationId(this.correlationId),s.cacheFailedRequest(Fe),this.browserStorage.cleanRequestByState(a.state),Fe;case 9:return[2]}})})},t.prototype.logoutPopupAsync=function(e,r,o,i,s,a){return x(this,void 0,void 0,function(){var c,u,l,d,h,g,m;return F(this,function(E){switch(E.label){case 0:this.logger.verbose("logoutPopupAsync called"),this.eventHandler.emitEvent(ee.LOGOUT_START,q.Popup,e),c=this.initializeServerTelemetryManager(Xe.logoutPopup),E.label=1;case 1:return E.trys.push([1,5,,6]),[4,this.clearCacheOnLogout(e.account)];case 2:return E.sent(),this.performanceClient.setPreQueueTime(k.StandardInteractionClientCreateAuthCodeClient,e.correlationId),[4,this.createAuthCodeClient(c,i)];case 3:return u=E.sent(),this.logger.verbose("Auth code client created"),l=u.getLogoutUri(e),this.eventHandler.emitEvent(ee.LOGOUT_SUCCESS,q.Popup,e),d=this.openPopup(l,{popupName:r,popupWindowAttributes:o,popup:s}),this.eventHandler.emitEvent(ee.POPUP_OPENED,q.Popup,{popupWindow:d},null),[4,this.waitForLogoutPopup(d)];case 4:return E.sent(),a?(h={apiId:Xe.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},g=Ne.getAbsoluteUrl(a,lt.getCurrentUri()),this.logger.verbose("Redirecting main window to url specified in the request"),this.logger.verbosePii("Redirecting main window to: "+g),this.navigationClient.navigateInternal(g,h)):this.logger.verbose("No main window navigation requested"),[3,6];case 5:throw m=E.sent(),s&&s.close(),m instanceof re&&m.setCorrelationId(this.correlationId),this.browserStorage.setInteractionInProgress(!1),this.eventHandler.emitEvent(ee.LOGOUT_FAILURE,q.Popup,null,m),this.eventHandler.emitEvent(ee.LOGOUT_END,q.Popup),c.cacheFailedRequest(m),m;case 6:return this.eventHandler.emitEvent(ee.LOGOUT_END,q.Popup),[2]}})})},t.prototype.initiateAuthRequest=function(e,r){if(z.isEmpty(e))throw this.logger.error("Navigate url is empty"),$.createEmptyNavigationUriError();return this.logger.infoPii("Navigate to: "+e),this.openPopup(e,r)},t.prototype.monitorPopupForHash=function(e){var r=this;return new Promise(function(o,i){var s=r.config.system.windowHashTimeout/r.config.system.pollIntervalMilliseconds,a=0;r.logger.verbose("PopupHandler.monitorPopupForHash - polling started");var c=setInterval(function(){if(e.closed)return r.logger.error("PopupHandler.monitorPopupForHash - window closed"),r.cleanPopup(),clearInterval(c),void i($.createUserCancelledError());var u=b.EMPTY_STRING,l=b.EMPTY_STRING;try{u=e.location.href,l=e.location.hash}catch{}z.isEmpty(u)||"about:blank"===u||(r.logger.verbose("PopupHandler.monitorPopupForHash - popup window is on same origin as caller"),a++,l?(r.logger.verbose("PopupHandler.monitorPopupForHash - found hash in url"),clearInterval(c),r.cleanPopup(e),Ne.hashContainsKnownProperties(l)?(r.logger.verbose("PopupHandler.monitorPopupForHash - hash contains known properties, returning."),o(l)):(r.logger.error("PopupHandler.monitorPopupForHash - found hash in url but it does not contain known properties. Check that your router is not changing the hash prematurely."),r.logger.errorPii("PopupHandler.monitorPopupForHash - hash found: "+l),i($.createHashDoesNotContainKnownPropertiesError()))):a>s&&(r.logger.error("PopupHandler.monitorPopupForHash - unable to find hash in url, timing out"),clearInterval(c),i($.createMonitorPopupTimeoutError())))},r.config.system.pollIntervalMilliseconds)})},t.prototype.waitForLogoutPopup=function(e){var r=this;return new Promise(function(o){r.logger.verbose("PopupHandler.waitForLogoutPopup - polling started");var i=setInterval(function(){e.closed&&(r.logger.error("PopupHandler.waitForLogoutPopup - window closed"),r.cleanPopup(),clearInterval(i),o());var s=b.EMPTY_STRING;try{s=e.location.href}catch{}z.isEmpty(s)||"about:blank"===s||(r.logger.verbose("PopupHandler.waitForLogoutPopup - popup window is on same origin as caller, closing."),clearInterval(i),r.cleanPopup(e),o())},r.config.system.pollIntervalMilliseconds)})},t.prototype.openPopup=function(e,r){try{var o=void 0;if(r.popup?(o=r.popup,this.logger.verbosePii("Navigating popup window to: "+e),o.location.assign(e)):typeof r.popup>"u"&&(this.logger.verbosePii("Opening popup window to: "+e),o=this.openSizedPopup(e,r.popupName,r.popupWindowAttributes)),!o)throw $.createEmptyWindowCreatedError();return o.focus&&o.focus(),this.currentWindow=o,window.addEventListener("beforeunload",this.unloadWindow),o}catch(i){throw this.logger.error("error opening popup "+i.message),this.browserStorage.setInteractionInProgress(!1),$.createPopupWindowError(i.toString())}},t.prototype.openSizedPopup=function(e,r,o){var i,s,a,c,u=window.screenLeft?window.screenLeft:window.screenX,l=window.screenTop?window.screenTop:window.screenY,d=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,h=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,g=null===(i=o.popupSize)||void 0===i?void 0:i.width,m=null===(s=o.popupSize)||void 0===s?void 0:s.height,E=null===(a=o.popupPosition)||void 0===a?void 0:a.top,S=null===(c=o.popupPosition)||void 0===c?void 0:c.left;return(!g||g<0||g>d)&&(this.logger.verbose("Default popup window width used. Window width not configured or invalid."),g=483),(!m||m<0||m>h)&&(this.logger.verbose("Default popup window height used. Window height not configured or invalid."),m=600),(!E||E<0||E>h)&&(this.logger.verbose("Default popup window top position used. Window top not configured or invalid."),E=Math.max(0,h/2-300+l)),(!S||S<0||S>d)&&(this.logger.verbose("Default popup window left position used. Window left not configured or invalid."),S=Math.max(0,d/2-241.5+u)),window.open(e,r,"width="+g+", height="+m+", top="+E+", left="+S+", scrollbars=yes")},t.prototype.unloadWindow=function(e){this.browserStorage.cleanRequestByInteractionType(q.Popup),this.currentWindow&&this.currentWindow.close(),e.preventDefault()},t.prototype.cleanPopup=function(e){e&&e.close(),window.removeEventListener("beforeunload",this.unloadWindow),this.browserStorage.setInteractionInProgress(!1)},t.prototype.generatePopupName=function(e,r){return"msal."+this.config.auth.clientId+"."+e.join("-")+"."+r+"."+this.correlationId},t.prototype.generateLogoutPopupName=function(e){return"msal."+this.config.auth.clientId+"."+(e.account&&e.account.homeAccountId)+"."+this.correlationId},t}(Ks),tI=function(n){function t(e,r,o,i,s,a){var c=n.call(this,e,r,o,i,a)||this;return c.browserCrypto=s,c}return tn(t,n),t.prototype.initiateAuthRequest=function(e,r){return x(this,void 0,void 0,function(){var o;return F(this,function(s){switch(s.label){case 0:return this.logger.verbose("RedirectHandler.initiateAuthRequest called"),z.isEmpty(e)?[3,7]:(r.redirectStartPage&&(this.logger.verbose("RedirectHandler.initiateAuthRequest: redirectStartPage set, caching start page"),this.browserStorage.setTemporaryCache(xe.ORIGIN_URI,r.redirectStartPage,!0)),this.browserStorage.setTemporaryCache(xe.CORRELATION_ID,this.authCodeRequest.correlationId,!0),this.browserStorage.cacheCodeRequest(this.authCodeRequest,this.browserCrypto),this.logger.infoPii("RedirectHandler.initiateAuthRequest: Navigate to: "+e),o={apiId:Xe.acquireTokenRedirect,timeout:r.redirectTimeout,noHistory:!1},"function"!=typeof r.onRedirectNavigate?[3,4]:(this.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback"),!1===r.onRedirectNavigate(e)?[3,2]:(this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),[4,r.navigationClient.navigateExternal(e,o)])));case 1:case 5:return s.sent(),[2];case 2:return this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation"),[2];case 3:return[3,6];case 4:return this.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),[4,r.navigationClient.navigateExternal(e,o)];case 6:return[3,8];case 7:throw this.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),$.createEmptyNavigationUriError();case 8:return[2]}})})},t.prototype.handleCodeResponseFromHash=function(e,r,o,i){return x(this,void 0,void 0,function(){var s,a,c,u,l,d,h;return F(this,function(g){switch(g.label){case 0:if(this.logger.verbose("RedirectHandler.handleCodeResponse called"),z.isEmpty(e))throw $.createEmptyHashError(e);if(this.browserStorage.setInteractionInProgress(!1),s=this.browserStorage.generateStateKey(r),!(a=this.browserStorage.getTemporaryCache(s)))throw Y.createStateNotFoundError("Cached State");try{c=this.authModule.handleFragmentResponse(e,a)}catch(m){throw m instanceof xi&&m.subError===U_userCancelledError_code?$.createUserCancelledError():m}return u=this.browserStorage.generateNonceKey(a),l=this.browserStorage.getTemporaryCache(u),this.authCodeRequest.code=c.code,c.cloud_instance_host_name?[4,this.updateTokenEndpointAuthority(c.cloud_instance_host_name,o,i)]:[3,2];case 1:g.sent(),g.label=2;case 2:return c.nonce=l||void 0,c.state=a,c.client_info?this.authCodeRequest.clientInfo=c.client_info:(d=this.checkCcsCredentials())&&(this.authCodeRequest.ccsCredential=d),[4,this.authModule.acquireToken(this.authCodeRequest,c)];case 3:return h=g.sent(),this.browserStorage.cleanRequestByState(r),[2,h]}})})},t}(vm),Sj=function(n){function t(e,r,o,i,s,a,c,u,l,d){var h=n.call(this,e,r,o,i,s,a,c,l,d)||this;return h.nativeStorage=u,h}return tn(t,n),t.prototype.acquireToken=function(e){return x(this,void 0,void 0,function(){var r,o,i,s,a,c,u,l,d,h=this;return F(this,function(g){switch(g.label){case 0:return this.performanceClient.setPreQueueTime(k.StandardInteractionClientInitializeAuthorizationRequest,e.correlationId),[4,this.initializeAuthorizationRequest(e,q.Redirect)];case 1:r=g.sent(),this.browserStorage.updateCacheEntries(r.state,r.nonce,r.authority,r.loginHint||b.EMPTY_STRING,r.account||null),o=this.initializeServerTelemetryManager(Xe.acquireTokenRedirect),i=function(m){m.persisted&&(h.logger.verbose("Page was restored from back/forward cache. Clearing temporary cache."),h.browserStorage.cleanRequestByState(r.state))},g.label=2;case 2:return g.trys.push([2,7,,8]),this.performanceClient.setPreQueueTime(k.StandardInteractionClientInitializeAuthorizationCodeRequest,e.correlationId),[4,this.initializeAuthorizationCodeRequest(r)];case 3:return s=g.sent(),this.performanceClient.setPreQueueTime(k.StandardInteractionClientCreateAuthCodeClient,e.correlationId),[4,this.createAuthCodeClient(o,r.authority,r.azureCloudOptions)];case 4:return a=g.sent(),this.logger.verbose("Auth code client created"),c=new tI(a,this.browserStorage,s,this.logger,this.browserCrypto,this.performanceClient),[4,a.getAuthCodeUrl(X(X({},r),{nativeBroker:Li.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme)}))];case 5:return u=g.sent(),l=this.getRedirectStartPage(e.redirectStartPage),this.logger.verbosePii("Redirect start page: "+l),window.addEventListener("pageshow",i),[4,c.initiateAuthRequest(u,{navigationClient:this.navigationClient,redirectTimeout:this.config.system.redirectNavigationTimeout,redirectStartPage:l,onRedirectNavigate:e.onRedirectNavigate})];case 6:return[2,g.sent()];case 7:throw(d=g.sent())instanceof re&&d.setCorrelationId(this.correlationId),window.removeEventListener("pageshow",i),o.cacheFailedRequest(d),this.browserStorage.cleanRequestByState(r.state),d;case 8:return[2]}})})},t.prototype.handleRedirectPromise=function(e){return x(this,void 0,void 0,function(){var r,o,i,s,a,c,u,l,d,h,g,m;return F(this,function(E){switch(E.label){case 0:r=this.initializeServerTelemetryManager(Xe.handleRedirectPromise),E.label=1;case 1:if(E.trys.push([1,10,,11]),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),[2,null];if(!(o=this.getRedirectResponseHash(e||window.location.hash)))return this.logger.info("handleRedirectPromise did not detect a response hash as a result of a redirect. Cleaning temporary cache."),this.browserStorage.cleanRequestByInteractionType(q.Redirect),[2,null];i=void 0;try{s=Ne.getDeserializedHash(o),i=this.validateAndExtractStateFromHash(s,q.Redirect),this.logger.verbose("State extracted from hash")}catch(S){return this.logger.info("handleRedirectPromise was unable to extract state due to: "+S),this.browserStorage.cleanRequestByInteractionType(q.Redirect),[2,null]}return a=this.browserStorage.getTemporaryCache(xe.ORIGIN_URI,!0)||b.EMPTY_STRING,c=Ne.removeHashFromUrl(a),u=Ne.removeHashFromUrl(window.location.href),c===u&&this.config.auth.navigateToLoginRequestUrl?(this.logger.verbose("Current page is loginRequestUrl, handling hash"),[4,this.handleHash(o,i,r)]):[3,3];case 2:return l=E.sent(),a.indexOf("#")>-1&&lt.replaceHash(a),[2,l];case 3:return this.config.auth.navigateToLoginRequestUrl?[3,4]:(this.logger.verbose("NavigateToLoginRequestUrl set to false, handling hash"),[2,this.handleHash(o,i,r)]);case 4:return!lt.isInIframe()||this.config.system.allowRedirectInIframe?(this.browserStorage.setTemporaryCache(xe.URL_HASH,o,!0),d={apiId:Xe.handleRedirectPromise,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0},h=!0,a&&"null"!==a?[3,6]:(g=lt.getHomepage(),this.browserStorage.setTemporaryCache(xe.ORIGIN_URI,g,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),[4,this.navigationClient.navigateInternal(g,d)])):[3,9];case 5:return h=E.sent(),[3,8];case 6:return this.logger.verbose("Navigating to loginRequestUrl: "+a),[4,this.navigationClient.navigateInternal(a,d)];case 7:h=E.sent(),E.label=8;case 8:if(!h)return[2,this.handleHash(o,i,r)];E.label=9;case 9:return[2,null];case 10:throw(m=E.sent())instanceof re&&m.setCorrelationId(this.correlationId),r.cacheFailedRequest(m),this.browserStorage.cleanRequestByInteractionType(q.Redirect),m;case 11:return[2]}})})},t.prototype.getRedirectResponseHash=function(e){if(this.logger.verbose("getRedirectResponseHash called"),Ne.hashContainsKnownProperties(e))return lt.clearHash(window),this.logger.verbose("Hash contains known properties, returning response hash"),e;var o=this.browserStorage.getTemporaryCache(xe.URL_HASH,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(xe.URL_HASH)),this.logger.verbose("Hash does not contain known properties, returning cached hash"),o},t.prototype.handleHash=function(e,r,o){return x(this,void 0,void 0,function(){var i,s,a,c,u,l,h=this;return F(this,function(g){switch(g.label){case 0:if(i=this.browserStorage.getCachedRequest(r,this.browserCrypto),this.logger.verbose("handleHash called, retrieved cached request"),(s=Ne.getDeserializedHash(e)).accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),!this.nativeMessageHandler)throw $.createNativeConnectionNotEstablishedError();return a=new Qs(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Xe.acquireTokenPopup,this.performanceClient,this.nativeMessageHandler,s.accountId,this.browserStorage,i.correlationId),c=Po.parseRequestState(this.browserCrypto,r).userRequestState,[2,a.acquireToken(X(X({},i),{state:c,prompt:void 0})).finally(function(){h.browserStorage.cleanRequestByState(r)})]}if(!(u=this.browserStorage.getCachedAuthority(r)))throw $.createNoCachedAuthorityError();return this.performanceClient.setPreQueueTime(k.StandardInteractionClientCreateAuthCodeClient,i.correlationId),[4,this.createAuthCodeClient(o,u)];case 1:return l=g.sent(),this.logger.verbose("Auth code client created"),Id.removeThrottle(this.browserStorage,this.config.auth.clientId,i),[4,new tI(l,this.browserStorage,i,this.logger,this.browserCrypto,this.performanceClient).handleCodeResponseFromHash(e,r,l.authority,this.networkClient)];case 2:return[2,g.sent()]}})})},t.prototype.logout=function(e){return x(this,void 0,void 0,function(){var r,o,i,s,a,u;return F(this,function(l){switch(l.label){case 0:this.logger.verbose("logoutRedirect called"),r=this.initializeLogoutRequest(e),o=this.initializeServerTelemetryManager(Xe.logout),l.label=1;case 1:return l.trys.push([1,10,,11]),this.eventHandler.emitEvent(ee.LOGOUT_START,q.Redirect,e),[4,this.clearCacheOnLogout(r.account)];case 2:return l.sent(),i={apiId:Xe.logout,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},this.performanceClient.setPreQueueTime(k.StandardInteractionClientCreateAuthCodeClient,r.correlationId),[4,this.createAuthCodeClient(o,e&&e.authority)];case 3:return s=l.sent(),this.logger.verbose("Auth code client created"),a=s.getLogoutUri(r),this.eventHandler.emitEvent(ee.LOGOUT_SUCCESS,q.Redirect,r),e&&"function"==typeof e.onRedirectNavigate?!1===e.onRedirectNavigate(a)?[3,5]:(this.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0),[4,this.navigationClient.navigateExternal(a,i)]):[3,7];case 4:return l.sent(),[2];case 5:this.browserStorage.setInteractionInProgress(!1),this.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation"),l.label=6;case 6:return[3,9];case 7:return this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0),[4,this.navigationClient.navigateExternal(a,i)];case 8:return l.sent(),[2];case 9:return[3,11];case 10:throw(u=l.sent())instanceof re&&u.setCorrelationId(this.correlationId),o.cacheFailedRequest(u),this.eventHandler.emitEvent(ee.LOGOUT_FAILURE,q.Redirect,null,u),this.eventHandler.emitEvent(ee.LOGOUT_END,q.Redirect),u;case 11:return this.eventHandler.emitEvent(ee.LOGOUT_END,q.Redirect),[2]}})})},t.prototype.getRedirectStartPage=function(e){var r=e||window.location.href;return Ne.getAbsoluteUrl(r,lt.getCurrentUri())},t}(Ks),nI=function(n){function t(e,r,o,i,s,a){var c=n.call(this,e,r,o,i,a)||this;return c.navigateFrameWait=s.navigateFrameWait,c.pollIntervalMilliseconds=s.pollIntervalMilliseconds,c}return tn(t,n),t.prototype.initiateAuthRequest=function(e){return x(this,void 0,void 0,function(){return F(this,function(r){switch(r.label){case 0:if(this.performanceClient.addQueueMeasurement(k.SilentHandlerInitiateAuthRequest,this.authCodeRequest.correlationId),z.isEmpty(e))throw this.logger.info("Navigate url is empty"),$.createEmptyNavigationUriError();return this.navigateFrameWait?(this.performanceClient.setPreQueueTime(k.SilentHandlerLoadFrame,this.authCodeRequest.correlationId),[4,this.loadFrame(e)]):[3,2];case 1:return[2,r.sent()];case 2:return[2,this.loadFrameSync(e)]}})})},t.prototype.monitorIframeForHash=function(e,r){var o=this;return this.performanceClient.addQueueMeasurement(k.SilentHandlerMonitorIframeForHash,this.authCodeRequest.correlationId),new Promise(function(i,s){r<6e3&&o.logger.warning("system.loadFrameTimeout or system.iframeHashTimeout set to lower ("+r+"ms) than the default (6000ms). This may result in timeouts.");var c=window.performance.now()+r,u=setInterval(function(){if(window.performance.now()>c)return o.removeHiddenIframe(e),clearInterval(u),void s($.createMonitorIframeTimeoutError());var l=b.EMPTY_STRING,d=e.contentWindow;try{l=d?d.location.href:b.EMPTY_STRING}catch{}if(!z.isEmpty(l)){var h=d?d.location.hash:b.EMPTY_STRING;if(Ne.hashContainsKnownProperties(h))return o.removeHiddenIframe(e),clearInterval(u),void i(h)}},o.pollIntervalMilliseconds)})},t.prototype.loadFrame=function(e){var r=this;return this.performanceClient.addQueueMeasurement(k.SilentHandlerLoadFrame,this.authCodeRequest.correlationId),new Promise(function(o,i){var s=r.createHiddenIframe();setTimeout(function(){s?(s.src=e,o(s)):i("Unable to load iframe")},r.navigateFrameWait)})},t.prototype.loadFrameSync=function(e){var r=this.createHiddenIframe();return r.src=e,r},t.prototype.createHiddenIframe=function(){var e=document.createElement("iframe");return e.style.visibility="hidden",e.style.position="absolute",e.style.width=e.style.height="0",e.style.border="0",e.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.getElementsByTagName("body")[0].appendChild(e),e},t.prototype.removeHiddenIframe=function(e){document.body===e.parentNode&&document.body.removeChild(e)},t}(vm),Ij=function(n){function t(e,r,o,i,s,a,c,u,l,d,h){var g=n.call(this,e,r,o,i,s,a,u,d,h)||this;return g.apiId=c,g.nativeStorage=l,g}return tn(t,n),t.prototype.acquireToken=function(e){return x(this,void 0,void 0,function(){var r,o,i,s,a;return F(this,function(c){switch(c.label){case 0:if(this.performanceClient.addQueueMeasurement(k.SilentIframeClientAcquireToken,e.correlationId),this.logger.verbose("acquireTokenByIframe called"),r=this.performanceClient.startMeasurement(k.SilentIframeClientAcquireToken,e.correlationId),z.isEmpty(e.loginHint)&&z.isEmpty(e.sid)&&(!e.account||z.isEmpty(e.account.username))&&this.logger.warning("No user hint provided. The authorization server may need more information to complete this request."),e.prompt&&e.prompt!==yn.NONE&&e.prompt!==yn.NO_SESSION)throw r.endMeasurement({success:!1}),$.createSilentPromptValueError(e.prompt);return this.performanceClient.setPreQueueTime(k.StandardInteractionClientInitializeAuthorizationRequest,e.correlationId),[4,this.initializeAuthorizationRequest(X(X({},e),{prompt:e.prompt||yn.NONE}),q.Silent)];case 1:o=c.sent(),this.browserStorage.updateCacheEntries(o.state,o.nonce,o.authority,o.loginHint||b.EMPTY_STRING,o.account||null),i=this.initializeServerTelemetryManager(this.apiId),c.label=2;case 2:return c.trys.push([2,5,,6]),this.performanceClient.setPreQueueTime(k.StandardInteractionClientCreateAuthCodeClient,e.correlationId),[4,this.createAuthCodeClient(i,o.authority,o.azureCloudOptions)];case 3:return s=c.sent(),this.logger.verbose("Auth code client created"),this.performanceClient.setPreQueueTime(k.SilentIframeClientTokenHelper,e.correlationId),[4,this.silentTokenHelper(s,o).then(function(u){return r.endMeasurement({success:!0,fromCache:!1,requestId:u.requestId}),u})];case 4:return[2,c.sent()];case 5:throw(a=c.sent())instanceof re&&a.setCorrelationId(this.correlationId),i.cacheFailedRequest(a),this.browserStorage.cleanRequestByState(o.state),r.endMeasurement({errorCode:a instanceof re&&a.errorCode||void 0,subErrorCode:a instanceof re&&a.subError||void 0,success:!1}),a;case 6:return[2]}})})},t.prototype.logout=function(){return Promise.reject($.createSilentLogoutUnsupportedError())},t.prototype.silentTokenHelper=function(e,r){return x(this,void 0,void 0,function(){var o,i,s,a,c,u,l,d,h,g=this;return F(this,function(m){switch(m.label){case 0:return this.performanceClient.addQueueMeasurement(k.SilentIframeClientTokenHelper,r.correlationId),this.performanceClient.setPreQueueTime(k.StandardInteractionClientInitializeAuthorizationCodeRequest,r.correlationId),[4,this.initializeAuthorizationCodeRequest(r)];case 1:return o=m.sent(),this.performanceClient.setPreQueueTime(k.GetAuthCodeUrl,r.correlationId),[4,e.getAuthCodeUrl(X(X({},r),{nativeBroker:Li.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,r.authenticationScheme)}))];case 2:return i=m.sent(),s=new nI(e,this.browserStorage,o,this.logger,this.config.system,this.performanceClient),this.performanceClient.setPreQueueTime(k.SilentHandlerInitiateAuthRequest,r.correlationId),[4,s.initiateAuthRequest(i)];case 3:return a=m.sent(),this.performanceClient.setPreQueueTime(k.SilentHandlerMonitorIframeForHash,r.correlationId),[4,s.monitorIframeForHash(a,this.config.system.iframeHashTimeout)];case 4:if(c=m.sent(),u=Ne.getDeserializedHash(c),l=this.validateAndExtractStateFromHash(u,q.Silent,o.correlationId),u.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),!this.nativeMessageHandler)throw $.createNativeConnectionNotEstablishedError();return d=new Qs(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.apiId,this.performanceClient,this.nativeMessageHandler,u.accountId,this.browserStorage,this.correlationId),h=Po.parseRequestState(this.browserCrypto,l).userRequestState,[2,d.acquireToken(X(X({},r),{state:h,prompt:r.prompt||yn.NONE})).finally(function(){g.browserStorage.cleanRequestByState(l)})]}return this.performanceClient.setPreQueueTime(k.HandleCodeResponseFromHash,r.correlationId),[2,s.handleCodeResponseFromHash(c,l,e.authority,this.networkClient)]}})})},t}(Ks),Aj=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return tn(t,n),t.prototype.acquireToken=function(e){return x(this,void 0,void 0,function(){var r,o,i,s,a,c=this;return F(this,function(u){switch(u.label){case 0:return this.performanceClient.addQueueMeasurement(k.SilentRefreshClientAcquireToken,e.correlationId),this.performanceClient.setPreQueueTime(k.InitializeBaseRequest,e.correlationId),o=[X({},e)],[4,this.initializeBaseRequest(e)];case 1:return r=X.apply(void 0,o.concat([u.sent()])),i=this.performanceClient.startMeasurement(k.SilentRefreshClientAcquireToken,r.correlationId),s=this.initializeServerTelemetryManager(Xe.acquireTokenSilent_silentFlow),[4,this.createRefreshTokenClient(s,r.authority,r.azureCloudOptions)];case 2:return a=u.sent(),this.logger.verbose("Refresh token client created"),this.performanceClient.setPreQueueTime(k.RefreshTokenClientAcquireTokenByRefreshToken,e.correlationId),[2,a.acquireTokenByRefreshToken(r).then(function(l){return i.endMeasurement({success:!0,fromCache:l.fromCache,requestId:l.requestId}),l}).catch(function(l){throw l instanceof re&&l.setCorrelationId(c.correlationId),s.cacheFailedRequest(l),i.endMeasurement({errorCode:l.errorCode,subErrorCode:l.subError,success:!1}),l})]}})})},t.prototype.logout=function(){return Promise.reject($.createSilentLogoutUnsupportedError())},t.prototype.createRefreshTokenClient=function(e,r,o){return x(this,void 0,void 0,function(){var i;return F(this,function(s){switch(s.label){case 0:return this.performanceClient.setPreQueueTime(k.StandardInteractionClientGetClientConfiguration,this.correlationId),[4,this.getClientConfiguration(e,r,o)];case 1:return i=s.sent(),[2,new ZS(i,this.performanceClient)]}})})},t}(Ks),Dj=function(){function n(t,e,r,o){this.isBrowserEnvironment=typeof window<"u",this.config=t,this.storage=e,this.logger=r,this.cryptoObj=o}return n.prototype.loadExternalTokens=function(t,e,r){if(this.logger.info("TokenCache - loadExternalTokens called"),!e.id_token)throw $.createUnableToLoadTokenError("Please ensure server response includes id token.");var i,s,o=new co(e.id_token,this.cryptoObj);if(t.account){var a=this.loadAccount(o,t.account.environment,void 0,void 0,t.account.homeAccountId);i=new Ad(a,this.loadIdToken(o,a.homeAccountId,t.account.environment,t.account.tenantId),this.loadAccessToken(t,e,a.homeAccountId,t.account.environment,t.account.tenantId,r),this.loadRefreshToken(t,e,a.homeAccountId,t.account.environment))}else{if(!t.authority)throw $.createUnableToLoadTokenError("Please provide a request with an account or a request with authority.");var c=Rd.generateAuthority(t.authority,t.azureCloudOptions);if(s=new Rd(c,this.config.system.networkClient,this.storage,{protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},this.logger),r.clientInfo)this.logger.trace("TokenCache - homeAccountId from options"),a=this.loadAccount(o,s.hostnameAndPort,r.clientInfo,s.authorityType),i=new Ad(a,this.loadIdToken(o,a.homeAccountId,s.hostnameAndPort,s.tenant),this.loadAccessToken(t,e,a.homeAccountId,s.hostnameAndPort,s.tenant,r),this.loadRefreshToken(t,e,a.homeAccountId,s.hostnameAndPort));else{if(!e.client_info)throw $.createUnableToLoadTokenError("Please provide clientInfo in the response or options.");this.logger.trace("TokenCache - homeAccountId from response"),a=this.loadAccount(o,s.hostnameAndPort,e.client_info,s.authorityType),i=new Ad(a,this.loadIdToken(o,a.homeAccountId,s.hostnameAndPort,s.tenant),this.loadAccessToken(t,e,a.homeAccountId,s.hostnameAndPort,s.tenant,r),this.loadRefreshToken(t,e,a.homeAccountId,s.hostnameAndPort))}}return this.generateAuthenticationResult(t,o,i,s)},n.prototype.loadAccount=function(t,e,r,o,i){var s;if(i?s=i:void 0!==o&&r&&(s=rn.generateHomeAccountId(r,o,this.logger,this.cryptoObj,t)),!s)throw $.createUnableToLoadTokenError("Unexpected missing homeAccountId");var a=r?rn.createAccount(r,s,t,void 0,void 0,void 0,e):rn.createGenericAccount(s,t,void 0,void 0,void 0,e);if(this.isBrowserEnvironment)return this.logger.verbose("TokenCache - loading account"),this.storage.setAccount(a),a;throw $.createUnableToLoadTokenError("loadExternalTokens is designed to work in browser environments only.")},n.prototype.loadIdToken=function(t,e,r,o){var i=Vc.createIdTokenEntity(e,r,t.rawToken,this.config.auth.clientId,o);if(this.isBrowserEnvironment)return this.logger.verbose("TokenCache - loading id token"),this.storage.setIdTokenCredential(i),i;throw $.createUnableToLoadTokenError("loadExternalTokens is designed to work in browser environments only.")},n.prototype.loadAccessToken=function(t,e,r,o,i,s){if(!e.access_token)return this.logger.verbose("TokenCache - No access token provided for caching"),null;if(!e.expires_in)throw $.createUnableToLoadTokenError("Please ensure server response includes expires_in value.");if(!s.extendedExpiresOn)throw $.createUnableToLoadTokenError("Please provide an extendedExpiresOn value in the options.");var a=new on(t.scopes).printScopes(),c=s.expiresOn||e.expires_in+(new Date).getTime()/1e3,l=Bc.createAccessTokenEntity(r,o,e.access_token,this.config.auth.clientId,i,a,c,s.extendedExpiresOn,this.cryptoObj);if(this.isBrowserEnvironment)return this.logger.verbose("TokenCache - loading access token"),this.storage.setAccessTokenCredential(l),l;throw $.createUnableToLoadTokenError("loadExternalTokens is designed to work in browser environments only.")},n.prototype.loadRefreshToken=function(t,e,r,o){if(!e.refresh_token)return this.logger.verbose("TokenCache - No refresh token provided for caching"),null;var i=Td.createRefreshTokenEntity(r,o,e.refresh_token,this.config.auth.clientId);if(this.isBrowserEnvironment)return this.logger.verbose("TokenCache - loading refresh token"),this.storage.setRefreshTokenCredential(i),i;throw $.createUnableToLoadTokenError("loadExternalTokens is designed to work in browser environments only.")},n.prototype.generateAuthenticationResult=function(t,e,r,o){var i,s,a,d,c=b.EMPTY_STRING,u=[],l=null;return r?.accessToken&&(c=r.accessToken.secret,u=on.fromString(r.accessToken.target).asArray(),l=new Date(1e3*Number(r.accessToken.expiresOn)),d=new Date(1e3*Number(r.accessToken.extendedExpiresOn))),{authority:o?o.canonicalAuthority:b.EMPTY_STRING,uniqueId:e?.claims.oid||e?.claims.sub||b.EMPTY_STRING,tenantId:e?.claims.tid||b.EMPTY_STRING,scopes:u,account:r?.account?r.account.getAccountInfo():null,idToken:e?e.rawToken:b.EMPTY_STRING,idTokenClaims:e?e.claims:{},accessToken:c,fromCache:!0,expiresOn:l,correlationId:t.correlationId||b.EMPTY_STRING,requestId:b.EMPTY_STRING,extExpiresOn:d,familyId:b.EMPTY_STRING,tokenType:(null===(i=r?.accessToken)||void 0===i?void 0:i.tokenType)||b.EMPTY_STRING,state:b.EMPTY_STRING,cloudGraphHostName:(null===(s=r?.account)||void 0===s?void 0:s.cloudGraphHostName)||b.EMPTY_STRING,msGraphHost:(null===(a=r?.account)||void 0===a?void 0:a.msGraphHost)||b.EMPTY_STRING,code:void 0,fromNativeBroker:!1}},n}(),Mj=function(n){function t(e){var r=n.call(this,e)||this;return r.includeRedirectUri=!1,r}return tn(t,n),t}(KS),Rj=function(n){function t(e,r,o,i,s,a,c,u,l,d){var h=n.call(this,e,r,o,i,s,a,u,l,d)||this;return h.apiId=c,h}return tn(t,n),t.prototype.acquireToken=function(e){return x(this,void 0,void 0,function(){var r,o,i,s,a,u;return F(this,function(l){switch(l.label){case 0:if(this.logger.trace("SilentAuthCodeClient.acquireToken called"),!e.code)throw $.createAuthCodeRequiredError();return this.performanceClient.setPreQueueTime(k.StandardInteractionClientInitializeAuthorizationRequest,e.correlationId),[4,this.initializeAuthorizationRequest(e,q.Silent)];case 1:r=l.sent(),this.browserStorage.updateCacheEntries(r.state,r.nonce,r.authority,r.loginHint||b.EMPTY_STRING,r.account||null),o=this.initializeServerTelemetryManager(this.apiId),l.label=2;case 2:return l.trys.push([2,4,,5]),i=X(X({},r),{code:e.code}),this.performanceClient.setPreQueueTime(k.StandardInteractionClientGetClientConfiguration,e.correlationId),[4,this.getClientConfiguration(o,r.authority)];case 3:return s=l.sent(),a=new Mj(s),this.logger.verbose("Auth code client created"),[2,new nI(a,this.browserStorage,i,this.logger,this.config.system,this.performanceClient).handleCodeResponseFromServer({code:e.code,msgraph_host:e.msGraphHost,cloud_graph_host_name:e.cloudGraphHostName,cloud_instance_host_name:e.cloudInstanceHostName},r.state,a.authority,this.networkClient,!1)];case 4:throw(u=l.sent())instanceof re&&u.setCorrelationId(this.correlationId),o.cacheFailedRequest(u),this.browserStorage.cleanRequestByState(r.state),u;case 5:return[2]}})})},t.prototype.logout=function(){return Promise.reject($.createSilentLogoutUnsupportedError())},t}(Ks),rI=function(){function n(t,e){this.correlationId=e,this.measureName=n.makeMeasureName(t,e),this.startMark=n.makeStartMark(t,e),this.endMark=n.makeEndMark(t,e)}return n.makeMeasureName=function(t,e){return"msal.measure."+t+"."+e},n.makeStartMark=function(t,e){return"msal.start."+t+"."+e},n.makeEndMark=function(t,e){return"msal.end."+t+"."+e},n.supportsBrowserPerformance=function(){return typeof window<"u"&&typeof window.performance<"u"&&"function"==typeof window.performance.mark&&"function"==typeof window.performance.measure&&"function"==typeof window.performance.clearMarks&&"function"==typeof window.performance.clearMeasures&&"function"==typeof window.performance.getEntriesByName},n.flushMeasurements=function(t,e){if(n.supportsBrowserPerformance())try{e.forEach(function(r){var o=n.makeMeasureName(r.name,t);window.performance.getEntriesByName(o,"measure").length>0&&(window.performance.clearMeasures(o),window.performance.clearMarks(n.makeStartMark(o,t)),window.performance.clearMarks(n.makeEndMark(o,t)))})}catch{}},n.prototype.startMeasurement=function(){if(n.supportsBrowserPerformance())try{window.performance.mark(this.startMark)}catch{}},n.prototype.endMeasurement=function(){if(n.supportsBrowserPerformance())try{window.performance.mark(this.endMark),window.performance.measure(this.measureName,this.startMark,this.endMark)}catch{}},n.prototype.flushMeasurement=function(){if(n.supportsBrowserPerformance())try{var t=window.performance.getEntriesByName(this.measureName,"measure");if(t.length>0){var e=t[0].duration;return window.performance.clearMeasures(this.measureName),window.performance.clearMarks(this.startMark),window.performance.clearMarks(this.endMark),e}}catch{}return null},n}(),kj=function(n){function t(e,r,o,i,s,a,c){var u=n.call(this,e,r,o,i,s,a)||this;return u.browserCrypto=new HS(u.logger,c),u.guidGenerator=new FS(u.browserCrypto),u}return tn(t,n),t.prototype.startPerformanceMeasuremeant=function(e,r){return new rI(e,r)},t.prototype.generateId=function(){return this.guidGenerator.generateGuid()},t.prototype.getPageVisibility=function(){var e;return(null===(e=document.visibilityState)||void 0===e?void 0:e.toString())||null},t.prototype.deleteIncompleteSubMeasurements=function(e){var r=this.eventsByCorrelationId.get(e.event.correlationId),i=[];r&&r.eventId===e.event.eventId&&r?.incompleteSubMeasurements&&r.incompleteSubMeasurements.forEach(function(s){i.push(X({},s))}),i.length>0&&rI.flushMeasurements(e.event.correlationId,i)},t.prototype.supportsBrowserPerformanceNow=function(){return typeof window<"u"&&typeof window.performance<"u"&&"function"==typeof window.performance.now},t.prototype.startMeasurement=function(e,r){var o=this,i=this.getPageVisibility(),s=n.prototype.startMeasurement.call(this,e,r);return X(X({},s),{endMeasurement:function(a){var c=s.endMeasurement(X({startPageVisibility:i,endPageVisibility:o.getPageVisibility()},a));return o.deleteIncompleteSubMeasurements(s),c},discardMeasurement:function(){s.discardMeasurement(),o.deleteIncompleteSubMeasurements(s),s.measurement.flushMeasurement()}})},t.prototype.setPreQueueTime=function(e,r){if(this.supportsBrowserPerformanceNow())if(r){var o=this.preQueueTimeByCorrelationId.get(r);o&&(this.logger.trace("BrowserPerformanceClient: Incomplete pre-queue "+o.name+" found",r),this.addQueueMeasurement(o.name,r,void 0,!0)),this.preQueueTimeByCorrelationId.set(e,{name:e,time:window.performance.now()})}else this.logger.trace("BrowserPerformanceClient: correlationId for "+e+" not provided, unable to set telemetry queue time");else this.logger.trace("BrowserPerformanceClient: window performance API not available, unable to set telemetry queue time for "+e)},t.prototype.addQueueMeasurement=function(e,r,o,i){if(this.supportsBrowserPerformanceNow())if(r){var s=n.prototype.getPreQueueTime.call(this,e,r);if(s){var a=window.performance.now(),c=o||n.prototype.calculateQueuedTime.call(this,s,a);return n.prototype.addQueueMeasurement.call(this,e,r,c,i)}}else this.logger.trace("BrowserPerformanceClient: correlationId for "+e+" not provided, unable to add queue measurement");else this.logger.trace("BrowserPerformanceClient: window performance API not available, unable to add queue measurement for "+e)},t}(BS),Pj=function(n){function t(e){var r=n.call(this,e)||this;return r.astsAsyncMeasurement=void 0,r.activeSilentTokenRequests=new Map,r.trackPageVisibility=r.trackPageVisibility.bind(r),r}return tn(t,n),t.prototype.loginRedirect=function(e){return x(this,void 0,void 0,function(){var r;return F(this,function(o){return r=this.getRequestCorrelationId(e),this.logger.verbose("loginRedirect called",r),[2,this.acquireTokenRedirect(X({correlationId:r},e||$0))]})})},t.prototype.loginPopup=function(e){var r=this.getRequestCorrelationId(e);return this.logger.verbose("loginPopup called",r),this.acquireTokenPopup(X({correlationId:r},e||$0))},t.prototype.acquireTokenSilent=function(e){return x(this,void 0,void 0,function(){var r,o,i,a,c,u,l=this;return F(this,function(d){if(r=this.getRequestCorrelationId(e),(o=this.performanceClient.startMeasurement(k.AcquireTokenSilent,r)).addStaticFields({cacheLookupPolicy:e.cacheLookupPolicy}),this.preflightBrowserEnvironmentCheck(q.Silent),this.logger.verbose("acquireTokenSilent called",r),!(i=e.account||this.getActiveAccount()))throw $.createNoAccountError();return a=JSON.stringify({clientId:this.config.auth.clientId,authority:e.authority||b.EMPTY_STRING,scopes:e.scopes,homeAccountIdentifier:i.homeAccountId,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid}),typeof(c=this.activeSilentTokenRequests.get(a))>"u"?(this.logger.verbose("acquireTokenSilent called for the first time, storing active request",r),this.performanceClient.setPreQueueTime(k.AcquireTokenSilentAsync,r),u=this.acquireTokenSilentAsync(X(X({},e),{correlationId:r}),i).then(function(h){return l.activeSilentTokenRequests.delete(a),o.addStaticFields({accessTokenSize:h.accessToken.length,idTokenSize:h.idToken.length}),o.endMeasurement({success:!0,fromCache:h.fromCache,isNativeBroker:h.fromNativeBroker,cacheLookupPolicy:e.cacheLookupPolicy,requestId:h.requestId}),h}).catch(function(h){throw l.activeSilentTokenRequests.delete(a),o.endMeasurement({errorCode:h.errorCode,subErrorCode:h.subError,success:!1}),h}),this.activeSilentTokenRequests.set(a,u),[2,u]):(this.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",r),o.discardMeasurement(),[2,c])})})},t.prototype.trackPageVisibility=function(){!this.astsAsyncMeasurement||(this.logger.info("Perf: Visibility change detected"),this.astsAsyncMeasurement.increment({visibilityChangeCount:1}))},t.prototype.acquireTokenSilentAsync=function(e,r){var o;return x(this,void 0,void 0,function(){var i,s,a,c,u,l=this;return F(this,function(d){switch(d.label){case 0:return this.performanceClient.addQueueMeasurement(k.AcquireTokenSilentAsync,e.correlationId),this.eventHandler.emitEvent(ee.ACQUIRE_TOKEN_START,q.Silent,e),this.astsAsyncMeasurement=this.performanceClient.startMeasurement(k.AcquireTokenSilentAsync,e.correlationId),null===(o=this.astsAsyncMeasurement)||void 0===o||o.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibility),Li.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme)&&r.nativeAccountId?(this.logger.verbose("acquireTokenSilent - attempting to acquire token from native platform"),s=X(X({},e),{account:r}),i=this.acquireTokenNative(s,Xe.acquireTokenSilent_silentFlow).catch(function(h){return x(l,void 0,void 0,function(){return F(this,function(m){if(h instanceof jr&&h.isFatal())return this.logger.verbose("acquireTokenSilent - native platform unavailable, falling back to web flow"),this.nativeExtensionProvider=void 0,[2,this.createSilentIframeClient(e.correlationId).acquireToken(e)];throw h})})}),[3,3]):[3,1];case 1:return this.logger.verbose("acquireTokenSilent - attempting to acquire token from web flow"),a=this.createSilentCacheClient(e.correlationId),this.performanceClient.setPreQueueTime(k.InitializeSilentRequest,e.correlationId),[4,a.initializeSilentRequest(e,r)];case 2:c=d.sent(),u=X(X({},e),{cacheLookupPolicy:e.cacheLookupPolicy||Pn.Default}),this.performanceClient.setPreQueueTime(k.AcquireTokenFromCache,c.correlationId),i=this.acquireTokenFromCache(a,c,u).catch(function(h){if(u.cacheLookupPolicy===Pn.AccessToken)throw h;return lt.blockReloadInHiddenIframes(),l.eventHandler.emitEvent(ee.ACQUIRE_TOKEN_NETWORK_START,q.Silent,c),l.performanceClient.setPreQueueTime(k.AcquireTokenByRefreshToken,c.correlationId),l.acquireTokenByRefreshToken(c,u).catch(function(g){if((!(g instanceof xi)||"invalid_grant"!==g.errorCode||g instanceof Cr||u.cacheLookupPolicy===Pn.AccessTokenAndRefreshToken||u.cacheLookupPolicy===Pn.RefreshToken)&&u.cacheLookupPolicy!==Pn.Skip)throw g;return l.logger.verbose("Refresh token expired/invalid or CacheLookupPolicy is set to Skip, attempting acquire token by iframe.",e.correlationId),l.performanceClient.setPreQueueTime(k.AcquireTokenBySilentIframe,c.correlationId),l.acquireTokenBySilentIframe(c)})}),d.label=3;case 3:return[2,i.then(function(h){var g;return l.eventHandler.emitEvent(ee.ACQUIRE_TOKEN_SUCCESS,q.Silent,h),null===(g=l.astsAsyncMeasurement)||void 0===g||g.endMeasurement({success:!0,fromCache:h.fromCache,isNativeBroker:h.fromNativeBroker,requestId:h.requestId}),h}).catch(function(h){var g;throw l.eventHandler.emitEvent(ee.ACQUIRE_TOKEN_FAILURE,q.Silent,null,h),null===(g=l.astsAsyncMeasurement)||void 0===g||g.endMeasurement({errorCode:h.errorCode,subErrorCode:h.subError,success:!1}),h}).finally(function(){document.removeEventListener("visibilitychange",l.trackPageVisibility)})]}})})},t}(function(){function n(t){this.isBrowserEnvironment=typeof window<"u",this.config=function pj(n,t){var e=n.auth,r=n.cache,o=n.system,i=n.telemetry,s={clientId:b.EMPTY_STRING,authority:""+b.DEFAULT_AUTHORITY,knownAuthorities:[],cloudDiscoveryMetadata:b.EMPTY_STRING,authorityMetadata:b.EMPTY_STRING,redirectUri:b.EMPTY_STRING,postLogoutRedirectUri:b.EMPTY_STRING,navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:jc.AAD,azureCloudOptions:{azureCloudInstance:zs.None,tenant:b.EMPTY_STRING},skipAuthorityMetadataCache:!1},a={cacheLocation:Wt.SessionStorage,storeAuthStateInCookie:!1,secureCookies:!1},c={loggerCallback:function(){},logLevel:Lt.Info,piiLoggingEnabled:!1},u=X(X({},WS),{loggerOptions:c,networkClient:t?lt.getBrowserNetworkClient():uj,navigationClient:new lj,loadFrameTimeout:0,windowHashTimeout:o?.loadFrameTimeout||6e4,iframeHashTimeout:o?.loadFrameTimeout||6e3,navigateFrameWait:t&&lt.detectIEOrEdge()?500:0,redirectNavigationTimeout:3e4,asyncPopups:!1,allowRedirectInIframe:!1,allowNativeBroker:!1,nativeBrokerHandshakeTimeout:o?.nativeBrokerHandshakeTimeout||2e3,pollIntervalMilliseconds:30,cryptoOptions:{useMsrCrypto:!1,entropy:void 0}}),l=X(X({},o),{loggerOptions:o?.loggerOptions||c}),d={application:{appName:b.EMPTY_STRING,appVersion:b.EMPTY_STRING}};return{auth:X(X({},s),e),cache:X(X({},a),r),system:X(X({},u),l),telemetry:X(X({},d),i)}}(t,this.isBrowserEnvironment),this.initialized=!1,this.logger=new _T(this.config.system.loggerOptions,gm,qc),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.isBrowserEnvironment?new kj(this.config.auth.clientId,this.config.auth.authority,this.logger,gm,qc,this.config.telemetry.application,this.config.system.cryptoOptions):new YB(this.config.auth.clientId,this.config.auth.authority,this.logger,gm,qc,this.config.telemetry.application),this.browserCrypto=this.isBrowserEnvironment?new QB(this.logger,this.performanceClient,this.config.system.cryptoOptions):Ed,this.eventHandler=new gj(this.logger,this.browserCrypto),this.browserStorage=this.isBrowserEnvironment?new fm(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger):function(n,t){return new fm(n,{cacheLocation:Wt.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1},Ed,t)}(this.config.auth.clientId,this.logger),this.nativeInternalStorage=new fm(this.config.auth.clientId,{cacheLocation:Wt.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1},this.browserCrypto,this.logger),this.tokenCache=new Dj(this.config,this.browserStorage,this.logger,this.browserCrypto),this.trackPageVisibilityWithMeasurement=this.trackPageVisibilityWithMeasurement.bind(this)}return n.prototype.initialize=function(){return x(this,void 0,void 0,function(){var t,e,r,o;return F(this,function(i){switch(i.label){case 0:if(this.logger.trace("initialize called"),this.initialized)return this.logger.info("initialize has already been called, exiting early."),[2];if(t=this.config.system.allowNativeBroker,e=this.performanceClient.startMeasurement(k.InitializeClientApplication),this.eventHandler.emitEvent(ee.INITIALIZE_START),!t)return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),r=this,[4,Li.createProvider(this.logger,this.config.system.nativeBrokerHandshakeTimeout,this.performanceClient)];case 2:return r.nativeExtensionProvider=i.sent(),[3,4];case 3:return o=i.sent(),this.logger.verbose(o),[3,4];case 4:return this.initialized=!0,this.eventHandler.emitEvent(ee.INITIALIZE_END),e.endMeasurement({allowNativeBroker:t,success:!0}),[2]}})})},n.prototype.handleRedirectPromise=function(t){return x(this,void 0,void 0,function(){var e,r,o,i,s,a,c,u,l=this;return F(this,function(d){return this.logger.verbose("handleRedirectPromise called"),lt.blockNativeBrokerCalledBeforeInitialized(this.config.system.allowNativeBroker,this.initialized),e=this.getAllAccounts(),this.isBrowserEnvironment?(typeof(o=this.redirectResponse.get(r=t||b.EMPTY_STRING))>"u"?(this.eventHandler.emitEvent(ee.HANDLE_REDIRECT_START,q.Redirect),this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise"),i=this.browserStorage.getCachedNativeRequest(),s=void 0,i&&Li.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider)&&this.nativeExtensionProvider&&!t?(this.logger.trace("handleRedirectPromise - acquiring token from native platform"),a=new Qs(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Xe.handleRedirectPromise,this.performanceClient,this.nativeExtensionProvider,i.accountId,this.nativeInternalStorage,i.correlationId),s=a.handleRedirectPromise()):(this.logger.trace("handleRedirectPromise - acquiring token from web flow"),c=this.browserStorage.getTemporaryCache(xe.CORRELATION_ID,!0)||b.EMPTY_STRING,u=this.createRedirectClient(c),s=u.handleRedirectPromise(t)),o=s.then(function(h){return h&&(e.length<l.getAllAccounts().length?(l.eventHandler.emitEvent(ee.LOGIN_SUCCESS,q.Redirect,h),l.logger.verbose("handleRedirectResponse returned result, login success")):(l.eventHandler.emitEvent(ee.ACQUIRE_TOKEN_SUCCESS,q.Redirect,h),l.logger.verbose("handleRedirectResponse returned result, acquire token success"))),l.eventHandler.emitEvent(ee.HANDLE_REDIRECT_END,q.Redirect),h}).catch(function(h){throw l.eventHandler.emitEvent(e.length>0?ee.ACQUIRE_TOKEN_FAILURE:ee.LOGIN_FAILURE,q.Redirect,null,h),l.eventHandler.emitEvent(ee.HANDLE_REDIRECT_END,q.Redirect),h}),this.redirectResponse.set(r,o)):this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),[2,o]):(this.logger.verbose("handleRedirectPromise returns null, not browser environment"),[2,null])})})},n.prototype.acquireTokenRedirect=function(t){return x(this,void 0,void 0,function(){var e,r,o,i,s,a=this;return F(this,function(c){return e=this.getRequestCorrelationId(t),this.logger.verbose("acquireTokenRedirect called",e),this.preflightBrowserEnvironmentCheck(q.Redirect),r=this.getAllAccounts().length>0,this.eventHandler.emitEvent(r?ee.ACQUIRE_TOKEN_START:ee.LOGIN_START,q.Redirect,t),this.nativeExtensionProvider&&this.canUseNative(t)?(i=new Qs(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Xe.acquireTokenRedirect,this.performanceClient,this.nativeExtensionProvider,this.getNativeAccountId(t),this.nativeInternalStorage,t.correlationId),o=i.acquireTokenRedirect(t).catch(function(u){if(u instanceof jr&&u.isFatal())return a.nativeExtensionProvider=void 0,a.createRedirectClient(t.correlationId).acquireToken(t);if(u instanceof Cr)return a.logger.verbose("acquireTokenRedirect - Resolving interaction required error thrown by native broker by falling back to web flow"),a.createRedirectClient(t.correlationId).acquireToken(t);throw a.browserStorage.setInteractionInProgress(!1),u})):(s=this.createRedirectClient(t.correlationId),o=s.acquireToken(t)),[2,o.catch(function(u){throw a.eventHandler.emitEvent(r?ee.ACQUIRE_TOKEN_FAILURE:ee.LOGIN_FAILURE,q.Redirect,null,u),u})]})})},n.prototype.acquireTokenPopup=function(t){var e=this,r=this.getRequestCorrelationId(t),o=this.performanceClient.startMeasurement(k.AcquireTokenPopup,r);try{this.logger.verbose("acquireTokenPopup called",r),this.preflightBrowserEnvironmentCheck(q.Popup)}catch(c){return Promise.reject(c)}var i=this.getAllAccounts();return this.eventHandler.emitEvent(i.length>0?ee.ACQUIRE_TOKEN_START:ee.LOGIN_START,q.Popup,t),(this.canUseNative(t)?this.acquireTokenNative(t,Xe.acquireTokenPopup).then(function(c){return e.browserStorage.setInteractionInProgress(!1),o.endMeasurement({success:!0,isNativeBroker:!0,requestId:c.requestId}),c}).catch(function(c){if(c instanceof jr&&c.isFatal())return e.nativeExtensionProvider=void 0,e.createPopupClient(t.correlationId).acquireToken(t);if(c instanceof Cr)return e.logger.verbose("acquireTokenPopup - Resolving interaction required error thrown by native broker by falling back to web flow"),e.createPopupClient(t.correlationId).acquireToken(t);throw e.browserStorage.setInteractionInProgress(!1),c}):this.createPopupClient(t.correlationId).acquireToken(t)).then(function(c){var u=i.length<e.getAllAccounts().length;return e.eventHandler.emitEvent(u?ee.LOGIN_SUCCESS:ee.ACQUIRE_TOKEN_SUCCESS,q.Popup,c),o.addStaticFields({accessTokenSize:c.accessToken.length,idTokenSize:c.idToken.length}),o.endMeasurement({success:!0,requestId:c.requestId}),c}).catch(function(c){return e.eventHandler.emitEvent(i.length>0?ee.ACQUIRE_TOKEN_FAILURE:ee.LOGIN_FAILURE,q.Popup,null,c),o.endMeasurement({errorCode:c.errorCode,subErrorCode:c.subError,success:!1}),Promise.reject(c)})},n.prototype.trackPageVisibilityWithMeasurement=function(){var t=this.ssoSilentMeasurement||this.acquireTokenByCodeAsyncMeasurement;!t||(this.logger.info("Perf: Visibility change detected in ",t.event.name),t.increment({visibilityChangeCount:1}))},n.prototype.ssoSilent=function(t){var e;return x(this,void 0,void 0,function(){var r,o,i,s,a=this;return F(this,function(c){return r=this.getRequestCorrelationId(t),o=X(X({},t),{prompt:t.prompt,correlationId:r}),this.preflightBrowserEnvironmentCheck(q.Silent),this.ssoSilentMeasurement=this.performanceClient.startMeasurement(k.SsoSilent,r),null===(e=this.ssoSilentMeasurement)||void 0===e||e.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),this.logger.verbose("ssoSilent called",r),this.eventHandler.emitEvent(ee.SSO_SILENT_START,q.Silent,o),this.canUseNative(o)?i=this.acquireTokenNative(o,Xe.ssoSilent).catch(function(u){if(u instanceof jr&&u.isFatal())return a.nativeExtensionProvider=void 0,a.createSilentIframeClient(o.correlationId).acquireToken(o);throw u}):(s=this.createSilentIframeClient(o.correlationId),i=s.acquireToken(o)),[2,i.then(function(u){var l,d;return a.eventHandler.emitEvent(ee.SSO_SILENT_SUCCESS,q.Silent,u),null===(l=a.ssoSilentMeasurement)||void 0===l||l.addStaticFields({accessTokenSize:u.accessToken.length,idTokenSize:u.idToken.length}),null===(d=a.ssoSilentMeasurement)||void 0===d||d.endMeasurement({success:!0,isNativeBroker:u.fromNativeBroker,requestId:u.requestId}),u}).catch(function(u){var l;throw a.eventHandler.emitEvent(ee.SSO_SILENT_FAILURE,q.Silent,null,u),null===(l=a.ssoSilentMeasurement)||void 0===l||l.endMeasurement({errorCode:u.errorCode,subErrorCode:u.subError,success:!1}),u}).finally(function(){document.removeEventListener("visibilitychange",a.trackPageVisibilityWithMeasurement)})]})})},n.prototype.acquireTokenByCode=function(t){return x(this,void 0,void 0,function(){var e,r,o,i,s=this;return F(this,function(a){e=this.getRequestCorrelationId(t),this.preflightBrowserEnvironmentCheck(q.Silent),this.logger.trace("acquireTokenByCode called",e),this.eventHandler.emitEvent(ee.ACQUIRE_TOKEN_BY_CODE_START,q.Silent,t),r=this.performanceClient.startMeasurement(k.AcquireTokenByCode,t.correlationId);try{if(t.code&&t.nativeAccountId)throw $.createSpaCodeAndNativeAccountIdPresentError();if(t.code)return(i=this.hybridAuthCodeResponses.get(o=t.code))?(this.logger.verbose("Existing acquireTokenByCode request found",t.correlationId),r.discardMeasurement()):(this.logger.verbose("Initiating new acquireTokenByCode request",e),i=this.acquireTokenByCodeAsync(X(X({},t),{correlationId:e})).then(function(c){return s.eventHandler.emitEvent(ee.ACQUIRE_TOKEN_BY_CODE_SUCCESS,q.Silent,c),s.hybridAuthCodeResponses.delete(o),r.addStaticFields({accessTokenSize:c.accessToken.length,idTokenSize:c.idToken.length}),r.endMeasurement({success:!0,isNativeBroker:c.fromNativeBroker,requestId:c.requestId}),c}).catch(function(c){throw s.hybridAuthCodeResponses.delete(o),s.eventHandler.emitEvent(ee.ACQUIRE_TOKEN_BY_CODE_FAILURE,q.Silent,null,c),r.endMeasurement({errorCode:c.errorCode,subErrorCode:c.subError,success:!1}),c}),this.hybridAuthCodeResponses.set(o,i)),[2,i];if(t.nativeAccountId){if(this.canUseNative(t,t.nativeAccountId))return[2,this.acquireTokenNative(t,Xe.acquireTokenByCode,t.nativeAccountId).catch(function(c){throw c instanceof jr&&c.isFatal()&&(s.nativeExtensionProvider=void 0),c})];throw $.createUnableToAcquireTokenFromNativePlatformError()}throw $.createAuthCodeOrNativeAccountIdRequiredError()}catch(c){throw this.eventHandler.emitEvent(ee.ACQUIRE_TOKEN_BY_CODE_FAILURE,q.Silent,null,c),r.endMeasurement({errorCode:c instanceof re&&c.errorCode||void 0,subErrorCode:c instanceof re&&c.subError||void 0,success:!1}),c}return[2]})})},n.prototype.acquireTokenByCodeAsync=function(t){var e;return x(this,void 0,void 0,function(){var i=this;return F(this,function(s){switch(s.label){case 0:return this.logger.trace("acquireTokenByCodeAsync called",t.correlationId),this.acquireTokenByCodeAsyncMeasurement=this.performanceClient.startMeasurement(k.AcquireTokenByCodeAsync,t.correlationId),null===(e=this.acquireTokenByCodeAsyncMeasurement)||void 0===e||e.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),[4,this.createSilentAuthCodeClient(t.correlationId).acquireToken(t).then(function(a){var c;return null===(c=i.acquireTokenByCodeAsyncMeasurement)||void 0===c||c.endMeasurement({success:!0,fromCache:a.fromCache,isNativeBroker:a.fromNativeBroker,requestId:a.requestId}),a}).catch(function(a){var c;throw null===(c=i.acquireTokenByCodeAsyncMeasurement)||void 0===c||c.endMeasurement({errorCode:a.errorCode,subErrorCode:a.subError,success:!1}),a}).finally(function(){document.removeEventListener("visibilitychange",i.trackPageVisibilityWithMeasurement)})];case 1:return[2,s.sent()]}})})},n.prototype.acquireTokenFromCache=function(t,e,r){return x(this,void 0,void 0,function(){return F(this,function(o){switch(this.performanceClient.addQueueMeasurement(k.AcquireTokenFromCache,e.correlationId),r.cacheLookupPolicy){case Pn.Default:case Pn.AccessToken:case Pn.AccessTokenAndRefreshToken:return[2,t.acquireToken(e)];default:throw Y.createRefreshRequiredError()}return[2]})})},n.prototype.acquireTokenByRefreshToken=function(t,e){return x(this,void 0,void 0,function(){var r;return F(this,function(o){switch(this.performanceClient.addQueueMeasurement(k.AcquireTokenByRefreshToken,t.correlationId),e.cacheLookupPolicy){case Pn.Default:case Pn.AccessTokenAndRefreshToken:case Pn.RefreshToken:case Pn.RefreshTokenAndNetwork:return r=this.createSilentRefreshClient(t.correlationId),this.performanceClient.setPreQueueTime(k.SilentRefreshClientAcquireToken,t.correlationId),[2,r.acquireToken(t)];default:throw Y.createRefreshRequiredError()}return[2]})})},n.prototype.acquireTokenBySilentIframe=function(t){return x(this,void 0,void 0,function(){var e;return F(this,function(r){return this.performanceClient.addQueueMeasurement(k.AcquireTokenBySilentIframe,t.correlationId),e=this.createSilentIframeClient(t.correlationId),this.performanceClient.setPreQueueTime(k.SilentIframeClientAcquireToken,t.correlationId),[2,e.acquireToken(t)]})})},n.prototype.logout=function(t){return x(this,void 0,void 0,function(){var e;return F(this,function(r){return e=this.getRequestCorrelationId(t),this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead.",e),[2,this.logoutRedirect(X({correlationId:e},t))]})})},n.prototype.logoutRedirect=function(t){return x(this,void 0,void 0,function(){var e;return F(this,function(o){return e=this.getRequestCorrelationId(t),this.preflightBrowserEnvironmentCheck(q.Redirect),[2,this.createRedirectClient(e).logout(t)]})})},n.prototype.logoutPopup=function(t){try{var e=this.getRequestCorrelationId(t);return this.preflightBrowserEnvironmentCheck(q.Popup),this.createPopupClient(e).logout(t)}catch(o){return Promise.reject(o)}},n.prototype.getAllAccounts=function(){return this.logger.verbose("getAllAccounts called"),this.isBrowserEnvironment?this.browserStorage.getAllAccounts():[]},n.prototype.getAccountByUsername=function(t){var e=this.getAllAccounts();return!z.isEmpty(t)&&e&&e.length?(this.logger.verbose("Account matching username found, returning"),this.logger.verbosePii("Returning signed-in accounts matching username: "+t),e.filter(function(r){return r.username.toLowerCase()===t.toLowerCase()})[0]||null):(this.logger.verbose("getAccountByUsername: No matching account found, returning null"),null)},n.prototype.getAccountByHomeId=function(t){var e=this.getAllAccounts();return!z.isEmpty(t)&&e&&e.length?(this.logger.verbose("Account matching homeAccountId found, returning"),this.logger.verbosePii("Returning signed-in accounts matching homeAccountId: "+t),e.filter(function(r){return r.homeAccountId===t})[0]||null):(this.logger.verbose("getAccountByHomeId: No matching account found, returning null"),null)},n.prototype.getAccountByLocalId=function(t){var e=this.getAllAccounts();return!z.isEmpty(t)&&e&&e.length?(this.logger.verbose("Account matching localAccountId found, returning"),this.logger.verbosePii("Returning signed-in accounts matching localAccountId: "+t),e.filter(function(r){return r.localAccountId===t})[0]||null):(this.logger.verbose("getAccountByLocalId: No matching account found, returning null"),null)},n.prototype.setActiveAccount=function(t){this.browserStorage.setActiveAccount(t)},n.prototype.getActiveAccount=function(){return this.browserStorage.getActiveAccount()},n.prototype.preflightBrowserEnvironmentCheck=function(t,e){if(void 0===e&&(e=!0),this.logger.verbose("preflightBrowserEnvironmentCheck started"),lt.blockNonBrowserEnvironment(this.isBrowserEnvironment),lt.blockRedirectInIframe(t,this.config.system.allowRedirectInIframe),lt.blockReloadInHiddenIframes(),lt.blockAcquireTokenInPopups(),lt.blockNativeBrokerCalledBeforeInitialized(this.config.system.allowNativeBroker,this.initialized),t===q.Redirect&&this.config.cache.cacheLocation===Wt.MemoryStorage&&!this.config.cache.storeAuthStateInCookie)throw Vs.createInMemoryRedirectUnavailableError();(t===q.Redirect||t===q.Popup)&&this.preflightInteractiveRequest(e)},n.prototype.preflightInteractiveRequest=function(t){this.logger.verbose("preflightInteractiveRequest called, validating app environment"),lt.blockReloadInHiddenIframes(),t&&this.browserStorage.setInteractionInProgress(!0)},n.prototype.acquireTokenNative=function(t,e,r){return x(this,void 0,void 0,function(){return F(this,function(i){if(this.logger.trace("acquireTokenNative called"),!this.nativeExtensionProvider)throw $.createNativeConnectionNotEstablishedError();return[2,new Qs(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,e,this.performanceClient,this.nativeExtensionProvider,r||this.getNativeAccountId(t),this.nativeInternalStorage,t.correlationId).acquireToken(t)]})})},n.prototype.canUseNative=function(t,e){if(this.logger.trace("canUseNative called"),!Li.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider,t.authenticationScheme))return this.logger.trace("canUseNative: isNativeAvailable returned false, returning false"),!1;if(t.prompt)switch(t.prompt){case yn.NONE:case yn.CONSENT:case yn.LOGIN:this.logger.trace("canUseNative: prompt is compatible with native flow");break;default:return this.logger.trace("canUseNative: prompt = "+t.prompt+" is not compatible with native flow, returning false"),!1}return!(!e&&!this.getNativeAccountId(t)&&(this.logger.trace("canUseNative: nativeAccountId is not available, returning false"),1))},n.prototype.getNativeAccountId=function(t){var e=t.account||this.browserStorage.getAccountInfoByHints(t.loginHint,t.sid)||this.getActiveAccount();return e&&e.nativeAccountId||""},n.prototype.createPopupClient=function(t){return new Tj(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,t)},n.prototype.createRedirectClient=function(t){return new Sj(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,t)},n.prototype.createSilentIframeClient=function(t){return new Ij(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Xe.ssoSilent,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,t)},n.prototype.createSilentCacheClient=function(t){return new eI(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,t)},n.prototype.createSilentRefreshClient=function(t){return new Aj(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,t)},n.prototype.createSilentAuthCodeClient=function(t){return new Rj(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Xe.acquireTokenByCode,this.performanceClient,this.nativeExtensionProvider,t)},n.prototype.addEventCallback=function(t){return this.eventHandler.addEventCallback(t)},n.prototype.removeEventCallback=function(t){this.eventHandler.removeEventCallback(t)},n.prototype.addPerformanceCallback=function(t){return this.performanceClient.addPerformanceCallback(t)},n.prototype.removePerformanceCallback=function(t){return this.performanceClient.removePerformanceCallback(t)},n.prototype.enableAccountStorageEvents=function(){this.eventHandler.enableAccountStorageEvents()},n.prototype.disableAccountStorageEvents=function(){this.eventHandler.disableAccountStorageEvents()},n.prototype.getTokenCache=function(){return this.tokenCache},n.prototype.getLogger=function(){return this.logger},n.prototype.setLogger=function(t){this.logger=t},n.prototype.initializeWrapperLibrary=function(t,e){this.browserStorage.setWrapperMetadata(t,e)},n.prototype.setNavigationClient=function(t){this.navigationClient=t},n.prototype.getConfiguration=function(){return this.config},n.prototype.getRequestCorrelationId=function(t){return t?.correlationId?t.correlationId:this.isBrowserEnvironment?this.browserCrypto.createNewGuid():b.EMPTY_STRING},n}());function Oj(){return new Pj(js)}function xj(){return{interactionType:q.Popup,authRequest:lH,loginFailedRoute:"/home"}}function Fj(){const n=new Map;return n.set(_n.graphMe.endpoint,_n.graphMe.scopes),n.set(_n.graphContacts.endpoint,_n.graphContacts.scopes),{interactionType:q.Redirect,protectedResourceMap:n,authRequest:(t,e,r)=>{const o=new URL(e.url).hostname;return{...r,claims:t.instance.getActiveAccount()&&ld(`cc.${js.auth.clientId}.${t.instance.getActiveAccount()?.idTokenClaims?.oid}.${o}`)?window.atob(ld(`cc.${js.auth.clientId}.${t.instance.getActiveAccount()?.idTokenClaims?.oid}.${o}`)):void 0}}}}let Lj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=xn({type:n,bootstrap:[jg,tU]}),n.\u0275inj=En({providers:[{provide:Ug,useClass:eU,multi:!0},{provide:td,useFactory:Oj},{provide:nd,useFactory:xj},{provide:Ng,useFactory:Fj},Gn,Ai,Bs,wT],imports:[yb,sT,OS,dV,yb,OS,sT,nU,AS]}),n})();(function N1(){vE=!1})(),sF().bootstrapModule(Lj).catch(n=>console.error(n))},343:(Ui,Wn)=>{"use strict";Wn.byteLength=function st(he){var Ae=Le(he),pt=Ae[1];return 3*(Ae[0]+pt)/4-pt},Wn.toByteArray=function Rt(he){var Ae,un,Qe=Le(he),pt=Qe[0],Et=Qe[1],Ze=new sn(function M(he,Ae,Qe){return 3*(Ae+Qe)/4-Qe}(0,pt,Et)),cn=0,ar=Et>0?pt-4:pt;for(un=0;un<ar;un+=4)Ae=ne[he.charCodeAt(un)]<<18|ne[he.charCodeAt(un+1)]<<12|ne[he.charCodeAt(un+2)]<<6|ne[he.charCodeAt(un+3)],Ze[cn++]=Ae>>16&255,Ze[cn++]=Ae>>8&255,Ze[cn++]=255&Ae;return 2===Et&&(Ae=ne[he.charCodeAt(un)]<<2|ne[he.charCodeAt(un+1)]>>4,Ze[cn++]=255&Ae),1===Et&&(Ae=ne[he.charCodeAt(un)]<<10|ne[he.charCodeAt(un+1)]<<4|ne[he.charCodeAt(un+2)]>>2,Ze[cn++]=Ae>>8&255,Ze[cn++]=255&Ae),Ze},Wn.fromByteArray=function an(he){for(var Ae,Qe=he.length,pt=Qe%3,Et=[],cn=0,ar=Qe-pt;cn<ar;cn+=16383)Et.push(kt(he,cn,cn+16383>ar?ar:cn+16383));return 1===pt?Et.push(dt[(Ae=he[Qe-1])>>2]+dt[Ae<<4&63]+"=="):2===pt&&Et.push(dt[(Ae=(he[Qe-2]<<8)+he[Qe-1])>>10]+dt[Ae>>4&63]+dt[Ae<<2&63]+"="),Et.join("")};for(var dt=[],ne=[],sn=typeof Uint8Array<"u"?Uint8Array:Array,wt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",it=0,Pe=wt.length;it<Pe;++it)dt[it]=wt[it],ne[wt.charCodeAt(it)]=it;function Le(he){var Ae=he.length;if(Ae%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var Qe=he.indexOf("=");return-1===Qe&&(Qe=Ae),[Qe,Qe===Ae?0:4-Qe%4]}function at(he){return dt[he>>18&63]+dt[he>>12&63]+dt[he>>6&63]+dt[63&he]}function kt(he,Ae,Qe){for(var Et=[],Ze=Ae;Ze<Qe;Ze+=3)Et.push(at((he[Ze]<<16&16711680)+(he[Ze+1]<<8&65280)+(255&he[Ze+2])));return Et.join("")}ne["-".charCodeAt(0)]=62,ne["_".charCodeAt(0)]=63},172:(Ui,Wn,dt)=>{"use strict";var sn=dt(343),wt=dt(461),it="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;Wn.lW=M,Wn.h2=50;var Pe=2147483647;function st(v){if(v>Pe)throw new RangeError('The value "'+v+'" is invalid for option "size"');var f=new Uint8Array(v);return Object.setPrototypeOf(f,M.prototype),f}function M(v,f,p){if("number"==typeof v){if("string"==typeof f)throw new TypeError('The "string" argument must be of type string. Received type number');return an(v)}return Rt(v,f,p)}function Rt(v,f,p){if("string"==typeof v)return function he(v,f){if(("string"!=typeof f||""===f)&&(f="utf8"),!M.isEncoding(f))throw new TypeError("Unknown encoding: "+f);var p=0|ar(v,f),y=st(p),I=y.write(v,f);return I!==p&&(y=y.slice(0,I)),y}(v,f);if(ArrayBuffer.isView(v))return function Qe(v){if(Tr(v,Uint8Array)){var f=new Uint8Array(v);return pt(f.buffer,f.byteOffset,f.byteLength)}return Ae(v)}(v);if(null==v)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof v);if(Tr(v,ArrayBuffer)||v&&Tr(v.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Tr(v,SharedArrayBuffer)||v&&Tr(v.buffer,SharedArrayBuffer)))return pt(v,f,p);if("number"==typeof v)throw new TypeError('The "value" argument must not be of type number. Received type number');var y=v.valueOf&&v.valueOf();if(null!=y&&y!==v)return M.from(y,f,p);var I=function Et(v){if(M.isBuffer(v)){var f=0|Ze(v.length),p=st(f);return 0===p.length||v.copy(p,0,0,f),p}return void 0!==v.length?"number"!=typeof v.length||Yc(v.length)?st(0):Ae(v):"Buffer"===v.type&&Array.isArray(v.data)?Ae(v.data):void 0}(v);if(I)return I;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof v[Symbol.toPrimitive])return M.from(v[Symbol.toPrimitive]("string"),f,p);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof v)}function at(v){if("number"!=typeof v)throw new TypeError('"size" argument must be of type number');if(v<0)throw new RangeError('The value "'+v+'" is invalid for option "size"')}function an(v){return at(v),st(v<0?0:0|Ze(v))}function Ae(v){for(var f=v.length<0?0:0|Ze(v.length),p=st(f),y=0;y<f;y+=1)p[y]=255&v[y];return p}function pt(v,f,p){if(f<0||v.byteLength<f)throw new RangeError('"offset" is outside of buffer bounds');if(v.byteLength<f+(p||0))throw new RangeError('"length" is outside of buffer bounds');var y;return y=void 0===f&&void 0===p?new Uint8Array(v):void 0===p?new Uint8Array(v,f):new Uint8Array(v,f,p),Object.setPrototypeOf(y,M.prototype),y}function Ze(v){if(v>=Pe)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Pe.toString(16)+" bytes");return 0|v}function ar(v,f){if(M.isBuffer(v))return v.length;if(ArrayBuffer.isView(v)||Tr(v,ArrayBuffer))return v.byteLength;if("string"!=typeof v)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof v);var p=v.length,y=arguments.length>2&&!0===arguments[2];if(!y&&0===p)return 0;for(var I=!1;;)switch(f){case"ascii":case"latin1":case"binary":return p;case"utf8":case"utf-8":return ni(v).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*p;case"hex":return p>>>1;case"base64":return Ud(v).length;default:if(I)return y?-1:ni(v).length;f=(""+f).toLowerCase(),I=!0}}function un(v,f,p){var y=!1;if((void 0===f||f<0)&&(f=0),f>this.length||((void 0===p||p>this.length)&&(p=this.length),p<=0)||(p>>>=0)<=(f>>>=0))return"";for(v||(v="utf8");;)switch(v){case"hex":return xd(this,f,p);case"utf8":case"utf-8":return Wc(this,f,p);case"ascii":return Kc(this,f,p);case"latin1":case"binary":return Od(this,f,p);case"base64":return uo(this,f,p);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Fd(this,f,p);default:if(y)throw new TypeError("Unknown encoding: "+v);v=(v+"").toLowerCase(),y=!0}}function br(v,f,p){var y=v[f];v[f]=v[p],v[p]=y}function zc(v,f,p,y,I){if(0===v.length)return-1;if("string"==typeof p?(y=p,p=0):p>2147483647?p=2147483647:p<-2147483648&&(p=-2147483648),Yc(p=+p)&&(p=I?0:v.length-1),p<0&&(p=v.length+p),p>=v.length){if(I)return-1;p=v.length-1}else if(p<0){if(!I)return-1;p=0}if("string"==typeof f&&(f=M.from(f,y)),M.isBuffer(f))return 0===f.length?-1:xo(v,f,p,y,I);if("number"==typeof f)return f&=255,"function"==typeof Uint8Array.prototype.indexOf?I?Uint8Array.prototype.indexOf.call(v,f,p):Uint8Array.prototype.lastIndexOf.call(v,f,p):xo(v,[f],p,y,I);throw new TypeError("val must be string, number or Buffer")}function xo(v,f,p,y,I){var ct,L=1,V=v.length,ke=f.length;if(void 0!==y&&("ucs2"===(y=String(y).toLowerCase())||"ucs-2"===y||"utf16le"===y||"utf-16le"===y)){if(v.length<2||f.length<2)return-1;L=2,V/=2,ke/=2,p/=2}function $e(Jc,Hd){return 1===L?Jc[Hd]:Jc.readUInt16BE(Hd*L)}if(I){var Qt=-1;for(ct=p;ct<V;ct++)if($e(v,ct)===$e(f,-1===Qt?0:ct-Qt)){if(-1===Qt&&(Qt=ct),ct-Qt+1===ke)return Qt*L}else-1!==Qt&&(ct-=ct-Qt),Qt=-1}else for(p+ke>V&&(p=V-ke),ct=p;ct>=0;ct--){for(var vt=!0,cr=0;cr<ke;cr++)if($e(v,ct+cr)!==$e(f,cr)){vt=!1;break}if(vt)return ct}return-1}function Hi(v,f,p,y){p=Number(p)||0;var I=v.length-p;y?(y=Number(y))>I&&(y=I):y=I;var L=f.length;y>L/2&&(y=L/2);for(var V=0;V<y;++V){var ke=parseInt(f.substr(2*V,2),16);if(Yc(ke))return V;v[p+V]=ke}return V}function Nd(v,f,p,y){return ea(ni(f,v.length-p),v,p,y)}function Ys(v,f,p,y){return ea(function Im(v){for(var f=[],p=0;p<v.length;++p)f.push(255&v.charCodeAt(p));return f}(f),v,p,y)}function Pd(v,f,p,y){return ea(Ud(f),v,p,y)}function Js(v,f,p,y){return ea(function Qc(v,f){for(var p,y,L=[],V=0;V<v.length&&!((f-=2)<0);++V)y=(p=v.charCodeAt(V))>>8,L.push(p%256),L.push(y);return L}(f,v.length-p),v,p,y)}function uo(v,f,p){return sn.fromByteArray(0===f&&p===v.length?v:v.slice(f,p))}function Wc(v,f,p){p=Math.min(v.length,p);for(var y=[],I=f;I<p;){var $e,ct,Qt,vt,L=v[I],V=null,ke=L>239?4:L>223?3:L>191?2:1;if(I+ke<=p)switch(ke){case 1:L<128&&(V=L);break;case 2:128==(192&($e=v[I+1]))&&(vt=(31&L)<<6|63&$e)>127&&(V=vt);break;case 3:ct=v[I+2],128==(192&($e=v[I+1]))&&128==(192&ct)&&(vt=(15&L)<<12|(63&$e)<<6|63&ct)>2047&&(vt<55296||vt>57343)&&(V=vt);break;case 4:ct=v[I+2],Qt=v[I+3],128==(192&($e=v[I+1]))&&128==(192&ct)&&128==(192&Qt)&&(vt=(15&L)<<18|(63&$e)<<12|(63&ct)<<6|63&Qt)>65535&&vt<1114112&&(V=vt)}null===V?(V=65533,ke=1):V>65535&&(y.push((V-=65536)>>>10&1023|55296),V=56320|1023&V),y.push(V),I+=ke}return function gt(v){var f=v.length;if(f<=4096)return String.fromCharCode.apply(String,v);for(var p="",y=0;y<f;)p+=String.fromCharCode.apply(String,v.slice(y,y+=4096));return p}(y)}function Kc(v,f,p){var y="";p=Math.min(v.length,p);for(var I=f;I<p;++I)y+=String.fromCharCode(127&v[I]);return y}function Od(v,f,p){var y="";p=Math.min(v.length,p);for(var I=f;I<p;++I)y+=String.fromCharCode(v[I]);return y}function xd(v,f,p){var y=v.length;(!f||f<0)&&(f=0),(!p||p<0||p>y)&&(p=y);for(var I="",L=f;L<p;++L)I+=Am[v[L]];return I}function Fd(v,f,p){for(var y=v.slice(f,p),I="",L=0;L<y.length-1;L+=2)I+=String.fromCharCode(y[L]+256*y[L+1]);return I}function Ue(v,f,p){if(v%1!=0||v<0)throw new RangeError("offset is not uint");if(v+f>p)throw new RangeError("Trying to access beyond buffer length")}function Kt(v,f,p,y,I,L){if(!M.isBuffer(v))throw new TypeError('"buffer" argument must be a Buffer instance');if(f>I||f<L)throw new RangeError('"value" argument is out of bounds');if(p+y>v.length)throw new RangeError("Index out of range")}function Zs(v,f,p,y,I,L){if(p+y>v.length)throw new RangeError("Index out of range");if(p<0)throw new RangeError("Index out of range")}function bt(v,f,p,y,I){return f=+f,p>>>=0,I||Zs(v,0,p,4),wt.write(v,f,p,y,23,4),p+4}function mt(v,f,p,y,I){return f=+f,p>>>=0,I||Zs(v,0,p,8),wt.write(v,f,p,y,52,8),p+8}!(M.TYPED_ARRAY_SUPPORT=function Le(){try{var v=new Uint8Array(1),f={foo:function(){return 42}};return Object.setPrototypeOf(f,Uint8Array.prototype),Object.setPrototypeOf(v,f),42===v.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(M.prototype,"parent",{enumerable:!0,get:function(){if(M.isBuffer(this))return this.buffer}}),Object.defineProperty(M.prototype,"offset",{enumerable:!0,get:function(){if(M.isBuffer(this))return this.byteOffset}}),M.poolSize=8192,M.from=function(v,f,p){return Rt(v,f,p)},Object.setPrototypeOf(M.prototype,Uint8Array.prototype),Object.setPrototypeOf(M,Uint8Array),M.alloc=function(v,f,p){return function kt(v,f,p){return at(v),v<=0?st(v):void 0!==f?"string"==typeof p?st(v).fill(f,p):st(v).fill(f):st(v)}(v,f,p)},M.allocUnsafe=function(v){return an(v)},M.allocUnsafeSlow=function(v){return an(v)},M.isBuffer=function(f){return null!=f&&!0===f._isBuffer&&f!==M.prototype},M.compare=function(f,p){if(Tr(f,Uint8Array)&&(f=M.from(f,f.offset,f.byteLength)),Tr(p,Uint8Array)&&(p=M.from(p,p.offset,p.byteLength)),!M.isBuffer(f)||!M.isBuffer(p))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(f===p)return 0;for(var y=f.length,I=p.length,L=0,V=Math.min(y,I);L<V;++L)if(f[L]!==p[L]){y=f[L],I=p[L];break}return y<I?-1:I<y?1:0},M.isEncoding=function(f){switch(String(f).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},M.concat=function(f,p){if(!Array.isArray(f))throw new TypeError('"list" argument must be an Array of Buffers');if(0===f.length)return M.alloc(0);var y;if(void 0===p)for(p=0,y=0;y<f.length;++y)p+=f[y].length;var I=M.allocUnsafe(p),L=0;for(y=0;y<f.length;++y){var V=f[y];if(Tr(V,Uint8Array))L+V.length>I.length?M.from(V).copy(I,L):Uint8Array.prototype.set.call(I,V,L);else{if(!M.isBuffer(V))throw new TypeError('"list" argument must be an Array of Buffers');V.copy(I,L)}L+=V.length}return I},M.byteLength=ar,M.prototype._isBuffer=!0,M.prototype.swap16=function(){var f=this.length;if(f%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var p=0;p<f;p+=2)br(this,p,p+1);return this},M.prototype.swap32=function(){var f=this.length;if(f%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var p=0;p<f;p+=4)br(this,p,p+3),br(this,p+1,p+2);return this},M.prototype.swap64=function(){var f=this.length;if(f%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var p=0;p<f;p+=8)br(this,p,p+7),br(this,p+1,p+6),br(this,p+2,p+5),br(this,p+3,p+4);return this},M.prototype.toLocaleString=M.prototype.toString=function(){var f=this.length;return 0===f?"":0===arguments.length?Wc(this,0,f):un.apply(this,arguments)},M.prototype.equals=function(f){if(!M.isBuffer(f))throw new TypeError("Argument must be a Buffer");return this===f||0===M.compare(this,f)},M.prototype.inspect=function(){var f="",p=Wn.h2;return f=this.toString("hex",0,p).replace(/(.{2})/g,"$1 ").trim(),this.length>p&&(f+=" ... "),"<Buffer "+f+">"},it&&(M.prototype[it]=M.prototype.inspect),M.prototype.compare=function(f,p,y,I,L){if(Tr(f,Uint8Array)&&(f=M.from(f,f.offset,f.byteLength)),!M.isBuffer(f))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof f);if(void 0===p&&(p=0),void 0===y&&(y=f?f.length:0),void 0===I&&(I=0),void 0===L&&(L=this.length),p<0||y>f.length||I<0||L>this.length)throw new RangeError("out of range index");if(I>=L&&p>=y)return 0;if(I>=L)return-1;if(p>=y)return 1;if(this===f)return 0;for(var V=(L>>>=0)-(I>>>=0),ke=(y>>>=0)-(p>>>=0),$e=Math.min(V,ke),ct=this.slice(I,L),Qt=f.slice(p,y),vt=0;vt<$e;++vt)if(ct[vt]!==Qt[vt]){V=ct[vt],ke=Qt[vt];break}return V<ke?-1:ke<V?1:0},M.prototype.includes=function(f,p,y){return-1!==this.indexOf(f,p,y)},M.prototype.indexOf=function(f,p,y){return zc(this,f,p,y,!0)},M.prototype.lastIndexOf=function(f,p,y){return zc(this,f,p,y,!1)},M.prototype.write=function(f,p,y,I){if(void 0===p)I="utf8",y=this.length,p=0;else if(void 0===y&&"string"==typeof p)I=p,y=this.length,p=0;else{if(!isFinite(p))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");p>>>=0,isFinite(y)?(y>>>=0,void 0===I&&(I="utf8")):(I=y,y=void 0)}var L=this.length-p;if((void 0===y||y>L)&&(y=L),f.length>0&&(y<0||p<0)||p>this.length)throw new RangeError("Attempt to write outside buffer bounds");I||(I="utf8");for(var V=!1;;)switch(I){case"hex":return Hi(this,f,p,y);case"utf8":case"utf-8":return Nd(this,f,p,y);case"ascii":case"latin1":case"binary":return Ys(this,f,p,y);case"base64":return Pd(this,f,p,y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Js(this,f,p,y);default:if(V)throw new TypeError("Unknown encoding: "+I);I=(""+I).toLowerCase(),V=!0}},M.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},M.prototype.slice=function(f,p){var y=this.length;(f=~~f)<0?(f+=y)<0&&(f=0):f>y&&(f=y),(p=void 0===p?y:~~p)<0?(p+=y)<0&&(p=0):p>y&&(p=y),p<f&&(p=f);var I=this.subarray(f,p);return Object.setPrototypeOf(I,M.prototype),I},M.prototype.readUintLE=M.prototype.readUIntLE=function(f,p,y){f>>>=0,p>>>=0,y||Ue(f,p,this.length);for(var I=this[f],L=1,V=0;++V<p&&(L*=256);)I+=this[f+V]*L;return I},M.prototype.readUintBE=M.prototype.readUIntBE=function(f,p,y){f>>>=0,p>>>=0,y||Ue(f,p,this.length);for(var I=this[f+--p],L=1;p>0&&(L*=256);)I+=this[f+--p]*L;return I},M.prototype.readUint8=M.prototype.readUInt8=function(f,p){return f>>>=0,p||Ue(f,1,this.length),this[f]},M.prototype.readUint16LE=M.prototype.readUInt16LE=function(f,p){return f>>>=0,p||Ue(f,2,this.length),this[f]|this[f+1]<<8},M.prototype.readUint16BE=M.prototype.readUInt16BE=function(f,p){return f>>>=0,p||Ue(f,2,this.length),this[f]<<8|this[f+1]},M.prototype.readUint32LE=M.prototype.readUInt32LE=function(f,p){return f>>>=0,p||Ue(f,4,this.length),(this[f]|this[f+1]<<8|this[f+2]<<16)+16777216*this[f+3]},M.prototype.readUint32BE=M.prototype.readUInt32BE=function(f,p){return f>>>=0,p||Ue(f,4,this.length),16777216*this[f]+(this[f+1]<<16|this[f+2]<<8|this[f+3])},M.prototype.readIntLE=function(f,p,y){f>>>=0,p>>>=0,y||Ue(f,p,this.length);for(var I=this[f],L=1,V=0;++V<p&&(L*=256);)I+=this[f+V]*L;return I>=(L*=128)&&(I-=Math.pow(2,8*p)),I},M.prototype.readIntBE=function(f,p,y){f>>>=0,p>>>=0,y||Ue(f,p,this.length);for(var I=p,L=1,V=this[f+--I];I>0&&(L*=256);)V+=this[f+--I]*L;return V>=(L*=128)&&(V-=Math.pow(2,8*p)),V},M.prototype.readInt8=function(f,p){return f>>>=0,p||Ue(f,1,this.length),128&this[f]?-1*(255-this[f]+1):this[f]},M.prototype.readInt16LE=function(f,p){f>>>=0,p||Ue(f,2,this.length);var y=this[f]|this[f+1]<<8;return 32768&y?4294901760|y:y},M.prototype.readInt16BE=function(f,p){f>>>=0,p||Ue(f,2,this.length);var y=this[f+1]|this[f]<<8;return 32768&y?4294901760|y:y},M.prototype.readInt32LE=function(f,p){return f>>>=0,p||Ue(f,4,this.length),this[f]|this[f+1]<<8|this[f+2]<<16|this[f+3]<<24},M.prototype.readInt32BE=function(f,p){return f>>>=0,p||Ue(f,4,this.length),this[f]<<24|this[f+1]<<16|this[f+2]<<8|this[f+3]},M.prototype.readFloatLE=function(f,p){return f>>>=0,p||Ue(f,4,this.length),wt.read(this,f,!0,23,4)},M.prototype.readFloatBE=function(f,p){return f>>>=0,p||Ue(f,4,this.length),wt.read(this,f,!1,23,4)},M.prototype.readDoubleLE=function(f,p){return f>>>=0,p||Ue(f,8,this.length),wt.read(this,f,!0,52,8)},M.prototype.readDoubleBE=function(f,p){return f>>>=0,p||Ue(f,8,this.length),wt.read(this,f,!1,52,8)},M.prototype.writeUintLE=M.prototype.writeUIntLE=function(f,p,y,I){f=+f,p>>>=0,y>>>=0,I||Kt(this,f,p,y,Math.pow(2,8*y)-1,0);var V=1,ke=0;for(this[p]=255&f;++ke<y&&(V*=256);)this[p+ke]=f/V&255;return p+y},M.prototype.writeUintBE=M.prototype.writeUIntBE=function(f,p,y,I){f=+f,p>>>=0,y>>>=0,I||Kt(this,f,p,y,Math.pow(2,8*y)-1,0);var V=y-1,ke=1;for(this[p+V]=255&f;--V>=0&&(ke*=256);)this[p+V]=f/ke&255;return p+y},M.prototype.writeUint8=M.prototype.writeUInt8=function(f,p,y){return f=+f,p>>>=0,y||Kt(this,f,p,1,255,0),this[p]=255&f,p+1},M.prototype.writeUint16LE=M.prototype.writeUInt16LE=function(f,p,y){return f=+f,p>>>=0,y||Kt(this,f,p,2,65535,0),this[p]=255&f,this[p+1]=f>>>8,p+2},M.prototype.writeUint16BE=M.prototype.writeUInt16BE=function(f,p,y){return f=+f,p>>>=0,y||Kt(this,f,p,2,65535,0),this[p]=f>>>8,this[p+1]=255&f,p+2},M.prototype.writeUint32LE=M.prototype.writeUInt32LE=function(f,p,y){return f=+f,p>>>=0,y||Kt(this,f,p,4,4294967295,0),this[p+3]=f>>>24,this[p+2]=f>>>16,this[p+1]=f>>>8,this[p]=255&f,p+4},M.prototype.writeUint32BE=M.prototype.writeUInt32BE=function(f,p,y){return f=+f,p>>>=0,y||Kt(this,f,p,4,4294967295,0),this[p]=f>>>24,this[p+1]=f>>>16,this[p+2]=f>>>8,this[p+3]=255&f,p+4},M.prototype.writeIntLE=function(f,p,y,I){if(f=+f,p>>>=0,!I){var L=Math.pow(2,8*y-1);Kt(this,f,p,y,L-1,-L)}var V=0,ke=1,$e=0;for(this[p]=255&f;++V<y&&(ke*=256);)f<0&&0===$e&&0!==this[p+V-1]&&($e=1),this[p+V]=(f/ke>>0)-$e&255;return p+y},M.prototype.writeIntBE=function(f,p,y,I){if(f=+f,p>>>=0,!I){var L=Math.pow(2,8*y-1);Kt(this,f,p,y,L-1,-L)}var V=y-1,ke=1,$e=0;for(this[p+V]=255&f;--V>=0&&(ke*=256);)f<0&&0===$e&&0!==this[p+V+1]&&($e=1),this[p+V]=(f/ke>>0)-$e&255;return p+y},M.prototype.writeInt8=function(f,p,y){return f=+f,p>>>=0,y||Kt(this,f,p,1,127,-128),f<0&&(f=255+f+1),this[p]=255&f,p+1},M.prototype.writeInt16LE=function(f,p,y){return f=+f,p>>>=0,y||Kt(this,f,p,2,32767,-32768),this[p]=255&f,this[p+1]=f>>>8,p+2},M.prototype.writeInt16BE=function(f,p,y){return f=+f,p>>>=0,y||Kt(this,f,p,2,32767,-32768),this[p]=f>>>8,this[p+1]=255&f,p+2},M.prototype.writeInt32LE=function(f,p,y){return f=+f,p>>>=0,y||Kt(this,f,p,4,2147483647,-2147483648),this[p]=255&f,this[p+1]=f>>>8,this[p+2]=f>>>16,this[p+3]=f>>>24,p+4},M.prototype.writeInt32BE=function(f,p,y){return f=+f,p>>>=0,y||Kt(this,f,p,4,2147483647,-2147483648),f<0&&(f=4294967295+f+1),this[p]=f>>>24,this[p+1]=f>>>16,this[p+2]=f>>>8,this[p+3]=255&f,p+4},M.prototype.writeFloatLE=function(f,p,y){return bt(this,f,p,!0,y)},M.prototype.writeFloatBE=function(f,p,y){return bt(this,f,p,!1,y)},M.prototype.writeDoubleLE=function(f,p,y){return mt(this,f,p,!0,y)},M.prototype.writeDoubleBE=function(f,p,y){return mt(this,f,p,!1,y)},M.prototype.copy=function(f,p,y,I){if(!M.isBuffer(f))throw new TypeError("argument should be a Buffer");if(y||(y=0),!I&&0!==I&&(I=this.length),p>=f.length&&(p=f.length),p||(p=0),I>0&&I<y&&(I=y),I===y||0===f.length||0===this.length)return 0;if(p<0)throw new RangeError("targetStart out of bounds");if(y<0||y>=this.length)throw new RangeError("Index out of range");if(I<0)throw new RangeError("sourceEnd out of bounds");I>this.length&&(I=this.length),f.length-p<I-y&&(I=f.length-p+y);var L=I-y;return this===f&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(p,y,I):Uint8Array.prototype.set.call(f,this.subarray(y,I),p),L},M.prototype.fill=function(f,p,y,I){if("string"==typeof f){if("string"==typeof p?(I=p,p=0,y=this.length):"string"==typeof y&&(I=y,y=this.length),void 0!==I&&"string"!=typeof I)throw new TypeError("encoding must be a string");if("string"==typeof I&&!M.isEncoding(I))throw new TypeError("Unknown encoding: "+I);if(1===f.length){var L=f.charCodeAt(0);("utf8"===I&&L<128||"latin1"===I)&&(f=L)}}else"number"==typeof f?f&=255:"boolean"==typeof f&&(f=Number(f));if(p<0||this.length<p||this.length<y)throw new RangeError("Out of range index");if(y<=p)return this;var V;if(p>>>=0,y=void 0===y?this.length:y>>>0,f||(f=0),"number"==typeof f)for(V=p;V<y;++V)this[V]=f;else{var ke=M.isBuffer(f)?f:M.from(f,I),$e=ke.length;if(0===$e)throw new TypeError('The value "'+f+'" is invalid for argument "value"');for(V=0;V<y-p;++V)this[V+p]=ke[V%$e]}return this};var Ld=/[^+/0-9A-Za-z-_]/g;function ni(v,f){f=f||1/0;for(var p,y=v.length,I=null,L=[],V=0;V<y;++V){if((p=v.charCodeAt(V))>55295&&p<57344){if(!I){if(p>56319){(f-=3)>-1&&L.push(239,191,189);continue}if(V+1===y){(f-=3)>-1&&L.push(239,191,189);continue}I=p;continue}if(p<56320){(f-=3)>-1&&L.push(239,191,189),I=p;continue}p=65536+(I-55296<<10|p-56320)}else I&&(f-=3)>-1&&L.push(239,191,189);if(I=null,p<128){if((f-=1)<0)break;L.push(p)}else if(p<2048){if((f-=2)<0)break;L.push(p>>6|192,63&p|128)}else if(p<65536){if((f-=3)<0)break;L.push(p>>12|224,p>>6&63|128,63&p|128)}else{if(!(p<1114112))throw new Error("Invalid code point");if((f-=4)<0)break;L.push(p>>18|240,p>>12&63|128,p>>6&63|128,63&p|128)}}return L}function Ud(v){return sn.toByteArray(function we(v){if((v=(v=v.split("=")[0]).trim().replace(Ld,"")).length<2)return"";for(;v.length%4!=0;)v+="=";return v}(v))}function ea(v,f,p,y){for(var I=0;I<y&&!(I+p>=f.length||I>=v.length);++I)f[I+p]=v[I];return I}function Tr(v,f){return v instanceof f||null!=v&&null!=v.constructor&&null!=v.constructor.name&&v.constructor.name===f.name}function Yc(v){return v!=v}var Am=function(){for(var v="0123456789abcdef",f=new Array(256),p=0;p<16;++p)for(var y=16*p,I=0;I<16;++I)f[y+I]=v[p]+v[I];return f}()},461:(Ui,Wn)=>{Wn.read=function(dt,ne,sn,wt,it){var Pe,Le,st=8*it-wt-1,M=(1<<st)-1,Rt=M>>1,at=-7,kt=sn?it-1:0,an=sn?-1:1,he=dt[ne+kt];for(kt+=an,Pe=he&(1<<-at)-1,he>>=-at,at+=st;at>0;Pe=256*Pe+dt[ne+kt],kt+=an,at-=8);for(Le=Pe&(1<<-at)-1,Pe>>=-at,at+=wt;at>0;Le=256*Le+dt[ne+kt],kt+=an,at-=8);if(0===Pe)Pe=1-Rt;else{if(Pe===M)return Le?NaN:1/0*(he?-1:1);Le+=Math.pow(2,wt),Pe-=Rt}return(he?-1:1)*Le*Math.pow(2,Pe-wt)},Wn.write=function(dt,ne,sn,wt,it,Pe){var Le,st,M,Rt=8*Pe-it-1,at=(1<<Rt)-1,kt=at>>1,an=23===it?Math.pow(2,-24)-Math.pow(2,-77):0,he=wt?0:Pe-1,Ae=wt?1:-1,Qe=ne<0||0===ne&&1/ne<0?1:0;for(ne=Math.abs(ne),isNaN(ne)||ne===1/0?(st=isNaN(ne)?1:0,Le=at):(Le=Math.floor(Math.log(ne)/Math.LN2),ne*(M=Math.pow(2,-Le))<1&&(Le--,M*=2),(ne+=Le+kt>=1?an/M:an*Math.pow(2,1-kt))*M>=2&&(Le++,M/=2),Le+kt>=at?(st=0,Le=at):Le+kt>=1?(st=(ne*M-1)*Math.pow(2,it),Le+=kt):(st=ne*Math.pow(2,kt-1)*Math.pow(2,it),Le=0));it>=8;dt[sn+he]=255&st,he+=Ae,st/=256,it-=8);for(Le=Le<<it|st,Rt+=it;Rt>0;dt[sn+he]=255&Le,he+=Ae,Le/=256,Rt-=8);dt[sn+he-Ae]|=128*Qe}}},Ui=>{Ui(Ui.s=278)}]);